function t(){}function o(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(o)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,u,c=!1;function h(t,e,o,n){for(;t<e;){const i=t+(e-t>>1);o(i)<=n?t=i+1:e=i}return t}function d(t,e){c?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,o=new Int32Array(e.length+1),n=new Int32Array(e.length);o[0]=-1;let i=0;for(let l=0;l<e.length;l++){const t=h(1,i+1,(t=>e[o[t]].claim_order),e[l].claim_order)-1;n[l]=o[t]+1;const r=t+1;o[r]=l,i=Math.max(r,i)}const r=[],s=[];let a=e.length-1;for(let l=o[i]+1;0!=l;l=n[l-1]){for(r.push(e[l-1]);a>=l;a--)s.push(e[a]);a--}for(;a>=0;a--)s.push(e[a]);r.reverse(),s.sort(((t,e)=>t.claim_order-e.claim_order));for(let l=0,u=0;l<s.length;l++){for(;u<r.length&&s[l].claim_order>=r[u].claim_order;)u++;const e=u<r.length?r[u]:null;t.insertBefore(s[l],e)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function p(t,e,o){c&&!o?d(t,e):(e.parentNode!==t||o&&e.nextSibling!==o)&&t.insertBefore(e,o||null)}function f(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function b(){return g(" ")}function v(){return g("")}function y(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function w(t,e,o){null==o?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function E(t){return Array.from(t.childNodes)}function C(t,e,o,n,i=!1){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0});const r=(()=>{for(let n=t.claim_info.last_index;n<t.length;n++){const r=t[n];if(e(r))return o(r),t.splice(n,1),i||(t.claim_info.last_index=n),r}for(let n=t.claim_info.last_index-1;n>=0;n--){const r=t[n];if(e(r))return o(r),t.splice(n,1),i?t.claim_info.last_index--:t.claim_info.last_index=n,r}return n()})();return r.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,r}function x(t,e,o,n){return C(t,(t=>t.nodeName===e),(t=>{const e=[];for(let n=0;n<t.attributes.length;n++){const i=t.attributes[n];o[i.name]||e.push(i.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>n?function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(e):m(e)))}function R(t,e){return C(t,(t=>3===t.nodeType),(t=>{t.data=""+e}),(()=>g(e)),!0)}function M(t){return R(t," ")}function L(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e){t.value=null==e?"":e}function k(t,e,o,n){t.style.setProperty(e,o,n?"important":"")}function _(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const o=m("iframe");o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const n=function(){if(void 0===l){l=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){l=!0}}return l}();let i;return n?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=y(window,"message",(t=>{t.source===o.contentWindow&&e()}))):(o.src="about:blank",o.onload=()=>{i=y(o.contentWindow,"resize",e)}),d(t,o),()=>{(n||i&&o.contentWindow)&&i(),f(o)}}function S(t){u=t}function D(t){(function(){if(!u)throw new Error("Function called outside component initialization");return u})().$$.on_mount.push(t)}const A=[],P=[],z=[],H=[],F=Promise.resolve();let O=!1;function B(t){z.push(t)}function j(t){H.push(t)}let I=!1;const N=new Set;function W(){if(!I){I=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];S(e),V(e.$$)}for(S(null),A.length=0;P.length;)P.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];N.has(e)||(N.add(e),e())}z.length=0}while(A.length);for(;H.length;)H.pop()();O=!1,I=!1,N.clear()}}function V(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const U=new Set;let G;function q(){G={r:0,c:[],p:G}}function Y(){G.r||r(G.c),G=G.p}function $(t,e){t&&t.i&&(U.delete(t),t.i(e))}function X(t,e,o,n){if(t&&t.o){if(U.has(t))return;U.add(t),G.c.push((()=>{U.delete(t),n&&(o&&t.d(1),n())})),t.o(e)}}function J(t,e,o){const n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=o,o(t.$$.ctx[n]))}function K(t){t&&t.c()}function Z(t,e){t&&t.l(e)}function Q(t,e,n,i){const{fragment:a,on_mount:l,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,n),i||B((()=>{const e=l.map(o).filter(s);u?u.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(B)}function tt(t,e){const o=t.$$;null!==o.fragment&&(r(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(A.push(t),O||(O=!0,F.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(e,o,i,s,a,l,h=[-1]){const d=u;S(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:o.context||[]),callbacks:n(),dirty:h,skip_bound:!1};let m=!1;if(p.ctx=i?i(e,o.props||{},((t,o,...n)=>{const i=n.length?n[0]:o;return p.ctx&&a(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),m&&et(e,t)),o})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){c=!0;const t=E(o.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();o.intro&&$(e.$$.fragment),Q(e,o.target,o.anchor,o.customElement),c=!1,W()}S(d)}class nt{$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<o;){var r=e[i];if(t.call(n,r,i,e))return i;i++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<o;){var r=e[i];if(t.call(n,r,i,e))return r;i++}}}),String.prototype.includes||(String.prototype.includes=function(t,e){if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===e&&(e=0),-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),n=o.length>>>0;if(0===n)return!1;var i,r,s=0|e,a=Math.max(s>=0?s:n-Math.abs(s),0);for(;a<n;){if((i=o[a])===(r=t)||"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))return!0;a++}return!1}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(o[r]=i[r])}return o},writable:!0,configurable:!0});var rt=function(t){this.table=t,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};rt.prototype.createHeadersElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t},rt.prototype.createHeaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-header"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t},rt.prototype.initialize=function(){},rt.prototype.setRowManager=function(t){this.rowManager=t},rt.prototype.getElement=function(){return this.element},rt.prototype.getHeadersElement=function(){return this.headersElement},rt.prototype.scrollHorizontal=function(t){var e=0,o=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=t,t>o?(e=t-o,this.element.style.marginLeft=-e+"px"):this.element.style.marginLeft=0,this.scrollLeft=t,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},rt.prototype.generateColumnsFromRowData=function(t){var e,o,n=[],i=this.table.options.autoColumnsDefinitions;if(t&&t.length){for(var r in e=t[0]){var s={field:r,title:r},a=e[r];switch(void 0===a?"undefined":it(a)){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(a)?"array":"string";break;default:o=isNaN(a)||""===a?a.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}s.sorter=o,n.push(s)}if(i)switch(void 0===i?"undefined":it(i)){case"function":this.table.options.columns=i.call(this.table,n);break;case"object":Array.isArray(i)?n.forEach((function(t){var e=i.find((function(e){return e.field===t.field}));e&&Object.assign(t,e)})):n.forEach((function(t){i[t.field]&&Object.assign(t,i[t.field])})),this.table.options.columns=n}else this.table.options.columns=n;this.setColumns(this.table.options.columns)}},rt.prototype.setColumns=function(t,e){for(var o=this;o.headersElement.firstChild;)o.headersElement.removeChild(o.headersElement.firstChild);o.columns=[],o.columnsByIndex=[],o.columnsByField={},o.table.modExists("frozenColumns")&&o.table.modules.frozenColumns.reset(),t.forEach((function(t,e){o._addColumn(t)})),o._reIndexColumns(),o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout",!0)&&o.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!1,!0),o.redraw(!0)},rt.prototype._addColumn=function(t,e,o){var n=new at(t,this),i=n.getElement(),r=o?this.findColumnIndex(o):o;if(o&&r>-1){var s=this.columns.indexOf(o.getTopColumn()),a=o.getElement();e?(this.columns.splice(s,0,n),a.parentNode.insertBefore(i,a)):(this.columns.splice(s+1,0,n),a.parentNode.insertBefore(i,a.nextSibling))}else e?(this.columns.unshift(n),this.headersElement.insertBefore(n.getElement(),this.headersElement.firstChild)):(this.columns.push(n),this.headersElement.appendChild(n.getElement())),n.columnRendered();return n},rt.prototype.registerColumnField=function(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)},rt.prototype.registerColumnPosition=function(t){this.columnsByIndex.push(t)},rt.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach((function(t){t.reRegisterPosition()}))},rt.prototype._verticalAlignHeaders=function(){var t=this,e=0;t.columns.forEach((function(t){var o;t.clearVerticalAlign(),(o=t.getHeight())>e&&(e=o)})),t.columns.forEach((function(o){o.verticalAlign(t.table.options.columnHeaderVertAlign,e)})),t.rowManager.adjustTableSize()},rt.prototype.findColumn=function(t){return"object"!=(void 0===t?"undefined":it(t))?this.columnsByField[t]||!1:t instanceof at?t:t instanceof st?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&this.columns.find((function(e){return e.element===t}))||!1},rt.prototype.getColumnByField=function(t){return this.columnsByField[t]},rt.prototype.getColumnsByFieldRoot=function(t){var e=this,o=[];return Object.keys(this.columnsByField).forEach((function(n){n.split(".")[0]===t&&o.push(e.columnsByField[n])})),o},rt.prototype.getColumnByIndex=function(t){return this.columnsByIndex[t]},rt.prototype.getFirstVisibileColumn=function(t){return(t=this.columnsByIndex.findIndex((function(t){return t.visible})))>-1&&this.columnsByIndex[t]},rt.prototype.getColumns=function(){return this.columns},rt.prototype.findColumnIndex=function(t){return this.columnsByIndex.findIndex((function(e){return t===e}))},rt.prototype.getRealColumns=function(){return this.columnsByIndex},rt.prototype.traverse=function(t){this.columnsByIndex.forEach((function(e,o){t(e,o)}))},rt.prototype.getDefinitions=function(t){var e=[];return this.columnsByIndex.forEach((function(o){(!t||t&&o.visible)&&e.push(o.getDefinition())})),e},rt.prototype.getDefinitionTree=function(){var t=[];return this.columns.forEach((function(e){t.push(e.getDefinition(!0))})),t},rt.prototype.getComponents=function(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach((function(t){e.push(t.getComponent())})),e},rt.prototype.getWidth=function(){var t=0;return this.columnsByIndex.forEach((function(e){e.visible&&(t+=e.getWidth())})),t},rt.prototype.moveColumn=function(t,e,o){this.moveColumnActual(t,e,o),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e.element.parentNode.insertBefore(t.element,e.element),o&&e.element.parentNode.insertBefore(e.element,t.element),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},rt.prototype.moveColumnActual=function(t,e,o){t.parent.isGroup?this._moveColumnInArray(t.parent.columns,t,e,o):this._moveColumnInArray(this.columns,t,e,o),this._moveColumnInArray(this.columnsByIndex,t,e,o,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!0),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,t.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},rt.prototype._moveColumnInArray=function(t,e,o,n,i){var r,s=this,a=t.indexOf(e),l=[];a>-1&&(t.splice(a,1),(r=t.indexOf(o))>-1?n&&(r+=1):r=a,t.splice(r,0,e),i&&(this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.rowManager.rows.forEach((function(t){l=l.concat(s.table.modules.dataTree.getTreeChildren(t,!1,!0))})),(l=l.concat(this.table.rowManager.rows)).forEach((function(t){if(t.cells.length){var e=t.cells.splice(a,1)[0];t.cells.splice(r,0,e)}}))))},rt.prototype.scrollToColumn=function(t,e,o){var n=this,i=0,r=0,s=0,a=t.getElement();return new Promise((function(l,u){if(void 0===e&&(e=n.table.options.scrollToColumnPosition),void 0===o&&(o=n.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":s=-n.element.clientWidth/2;break;case"right":s=a.clientWidth-n.headersElement.clientWidth}if(!o&&(r=a.offsetLeft)>0&&r+a.offsetWidth<n.element.clientWidth)return!1;i=a.offsetLeft+s,i=Math.max(Math.min(i,n.table.rowManager.element.scrollWidth-n.table.rowManager.element.clientWidth),0),n.table.rowManager.scrollHorizontal(i),n.scrollHorizontal(i),l()}else console.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")}))},rt.prototype.generateCells=function(t){var e=[];return this.columnsByIndex.forEach((function(o){e.push(o.generateCell(t))})),e},rt.prototype.getFlexBaseWidth=function(){var t=this,e=t.table.element.clientWidth,o=0;return t.rowManager.element.scrollHeight>t.rowManager.element.clientHeight&&(e-=t.rowManager.element.offsetWidth-t.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(n){var i,r,s;n.visible&&(i=n.definition.width||0,r=void 0===n.minWidth?t.table.options.columnMinWidth:parseInt(n.minWidth),s="string"==typeof i?i.indexOf("%")>-1?e/100*parseInt(i):parseInt(i):i,o+=s>r?s:r)})),o},rt.prototype.addColumn=function(t,e,o){var n=this;return new Promise((function(i,r){var s=n._addColumn(t,e,o);n._reIndexColumns(),n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout",!0)&&n.table.modules.responsiveLayout.initialize(),n.table.modExists("columnCalcs")&&n.table.modules.columnCalcs.recalc(n.table.rowManager.activeRows),n.redraw(!0),"fitColumns"!=n.table.modules.layout.getMode()&&s.reinitializeWidth(),n._verticalAlignHeaders(),n.table.rowManager.reinitialize(),n.table.options.virtualDomHoz&&n.table.vdomHoz.reinitialize(),i(s)}))},rt.prototype.deregisterColumn=function(t){var e,o=t.getField();o&&delete this.columnsByField[o],(e=this.columnsByIndex.indexOf(t))>-1&&this.columnsByIndex.splice(e,1),(e=this.columns.indexOf(t))>-1&&this.columns.splice(e,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this._verticalAlignHeaders(),this.redraw()},rt.prototype.redraw=function(t){t&&(mt.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),["fitColumns","fitDataStretch"].indexOf(this.table.modules.layout.getMode())>-1||t?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t&&(this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var st=function(t){this._column=t,this.type="ColumnComponent"};st.prototype.getElement=function(){return this._column.getElement()},st.prototype.getDefinition=function(){return this._column.getDefinition()},st.prototype.getField=function(){return this._column.getField()},st.prototype.getCells=function(){var t=[];return this._column.cells.forEach((function(e){t.push(e.getComponent())})),t},st.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._column.visible},st.prototype.isVisible=function(){return this._column.visible},st.prototype.show=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.show()})):this._column.show()},st.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.hide()})):this._column.hide()},st.prototype.toggle=function(){this._column.visible?this.hide():this.show()},st.prototype.delete=function(){return this._column.delete()},st.prototype.getSubColumns=function(){var t=[];return this._column.columns.length&&this._column.columns.forEach((function(e){t.push(e.getComponent())})),t},st.prototype.getParentColumn=function(){return this._column.parent instanceof at&&this._column.parent.getComponent()},st.prototype._getSelf=function(){return this._column},st.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},st.prototype.getTable=function(){return this._column.table},st.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},st.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},st.prototype.getHeaderFilterValue=function(){if(this._column.table.modExists("filter",!0))return this._column.table.modules.filter.getHeaderFilterValue(this._column)},st.prototype.setHeaderFilterValue=function(t){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,t)},st.prototype.move=function(t,e){var o=this._column.table.columnManager.findColumn(t);o?this._column.table.columnManager.moveColumn(this._column,o,e):console.warn("Move Error - No matching column found:",o)},st.prototype.getNextColumn=function(){var t=this._column.nextColumn();return!!t&&t.getComponent()},st.prototype.getPrevColumn=function(){var t=this._column.prevColumn();return!!t&&t.getComponent()},st.prototype.updateDefinition=function(t){return this._column.updateDefinition(t)},st.prototype.getWidth=function(){return this._column.getWidth()},st.prototype.setWidth=function(t){var e;return e=!0===t?this._column.reinitializeWidth(!0):this._column.setWidth(t),this._column.table.options.virtualDomHoz&&this._column.table.vdomHoz.reinitialize(!0),e},st.prototype.validate=function(){return this._column.validate()};var at=function t(e,o){var n=this;this.table=o.table,this.definition=e,this.parent=o,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.setField(this.definition.field),this.table.options.invalidOptionWarnings&&this.checkDefinition(),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this._mapDepricatedFunctionality(),e.columns?(this.isGroup=!0,e.columns.forEach((function(e,o){var i=new t(e,n);n.attachColumn(i)})),n.checkColumnVisibility()):o.registerColumnField(this),e.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader(),this.bindModuleColumns()};at.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.setAttribute("role","columnheader"),t.setAttribute("aria-sort","none"),t},at.prototype.createGroupElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col-group-cols"),t},at.prototype.checkDefinition=function(){var t=this;Object.keys(this.definition).forEach((function(e){-1===t.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(t.field||t.definition.title)+"' column:",e)}))},at.prototype.setField=function(t){this.field=t,this.fieldStructure=t?this.table.options.nestedFieldSeparator?t.split(this.table.options.nestedFieldSeparator):[t]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData},at.prototype.registerColumnPosition=function(t){this.parent.registerColumnPosition(t)},at.prototype.registerColumnField=function(t){this.parent.registerColumnField(t)},at.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach((function(t){t.reRegisterPosition()})):this.registerColumnPosition(this)},at.prototype._mapDepricatedFunctionality=function(){void 0!==this.definition.hideInHtml&&(this.definition.htmlOutput=!this.definition.hideInHtml,console.warn("hideInHtml column definition property is deprecated, you should now use htmlOutput")),void 0!==this.definition.align&&(this.definition.hozAlign=this.definition.align,console.warn("align column definition property is deprecated, you should now use hozAlign")),void 0!==this.definition.downloadTitle&&(this.definition.titleDownload=this.definition.downloadTitle,console.warn("downloadTitle definition property is deprecated, you should now use titleDownload"))},at.prototype.setTooltip=function(){var t=this,e=t.definition,o=e.headerTooltip||!1===e.tooltip?e.headerTooltip:t.table.options.tooltipsHeader;o?!0===o?e.field?t.table.modules.localize.bind("columns|"+e.field,(function(o){t.element.setAttribute("title",o||e.title)})):t.element.setAttribute("title",e.title):("function"==typeof o&&!1===(o=o(t.getComponent()))&&(o=""),t.element.setAttribute("title",o)):t.element.setAttribute("title","")},at.prototype._buildHeader=function(){for(var t=this,e=t.definition;t.element.firstChild;)t.element.removeChild(t.element.firstChild);e.headerVertical&&(t.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&t.element.classList.add("tabulator-col-vertical-flip")),t.contentElement=t._bindEvents(),t.contentElement=t._buildColumnHeaderContent(),t.element.appendChild(t.contentElement),t.isGroup?t._buildGroupHeader():t._buildColumnHeader(),t.setTooltip(),t.table.options.resizableColumns&&t.table.modExists("resizeColumns")&&t.table.modules.resizeColumns.initializeColumn("header",t,t.element),e.headerFilter&&t.table.modExists("filter")&&t.table.modExists("edit")&&(void 0!==e.headerFilterPlaceholder&&e.field&&t.table.modules.localize.setHeaderFilterColumnPlaceholder(e.field,e.headerFilterPlaceholder),t.table.modules.filter.initializeColumn(t)),t.table.modExists("frozenColumns")&&t.table.modules.frozenColumns.initializeColumn(t),t.table.options.movableColumns&&!t.isGroup&&t.table.modExists("moveColumn")&&t.table.modules.moveColumn.initializeColumn(t),(e.topCalc||e.bottomCalc)&&t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.initializeColumn(t),t.table.modExists("persistence")&&t.table.modules.persistence.config.columns&&t.table.modules.persistence.initializeColumn(t),t.element.addEventListener("mouseenter",(function(e){t.setTooltip()}))},at.prototype._bindEvents=function(){var t,e,o,n=this,i=n.definition;"function"==typeof i.headerClick&&n.element.addEventListener("click",(function(t){i.headerClick(t,n.getComponent())})),"function"==typeof i.headerDblClick&&n.element.addEventListener("dblclick",(function(t){i.headerDblClick(t,n.getComponent())})),"function"==typeof i.headerContext&&n.element.addEventListener("contextmenu",(function(t){i.headerContext(t,n.getComponent())})),"function"==typeof i.headerTap&&(o=!1,n.element.addEventListener("touchstart",(function(t){o=!0}),{passive:!0}),n.element.addEventListener("touchend",(function(t){o&&i.headerTap(t,n.getComponent()),o=!1}))),"function"==typeof i.headerDblTap&&(t=null,n.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,i.headerDblTap(e,n.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),"function"==typeof i.headerTapHold&&(e=null,n.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,o=!1,i.headerTapHold(t,n.getComponent())}),1e3)}),{passive:!0}),n.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),"function"==typeof i.cellClick&&(n.cellEvents.cellClick=i.cellClick),"function"==typeof i.cellDblClick&&(n.cellEvents.cellDblClick=i.cellDblClick),"function"==typeof i.cellContext&&(n.cellEvents.cellContext=i.cellContext),"function"==typeof i.cellMouseEnter&&(n.cellEvents.cellMouseEnter=i.cellMouseEnter),"function"==typeof i.cellMouseLeave&&(n.cellEvents.cellMouseLeave=i.cellMouseLeave),"function"==typeof i.cellMouseOver&&(n.cellEvents.cellMouseOver=i.cellMouseOver),"function"==typeof i.cellMouseOut&&(n.cellEvents.cellMouseOut=i.cellMouseOut),"function"==typeof i.cellMouseMove&&(n.cellEvents.cellMouseMove=i.cellMouseMove),"function"==typeof i.cellTap&&(n.cellEvents.cellTap=i.cellTap),"function"==typeof i.cellDblTap&&(n.cellEvents.cellDblTap=i.cellDblTap),"function"==typeof i.cellTapHold&&(n.cellEvents.cellTapHold=i.cellTapHold),"function"==typeof i.cellEdited&&(n.cellEvents.cellEdited=i.cellEdited),"function"==typeof i.cellEditing&&(n.cellEvents.cellEditing=i.cellEditing),"function"==typeof i.cellEditCancelled&&(n.cellEvents.cellEditCancelled=i.cellEditCancelled)},at.prototype._buildColumnHeader=function(){var t=this,e=this.definition,o=this.table;(o.modExists("sort")&&o.modules.sort.initializeColumn(this,this.titleHolderElement),(e.headerContextMenu||e.headerClickMenu||e.headerMenu)&&o.modExists("menu")&&o.modules.menu.initializeColumnHeader(this),o.modExists("format")&&o.modules.format.initializeColumn(this),void 0!==e.editor&&o.modExists("edit")&&o.modules.edit.initializeColumn(this),void 0!==e.validator&&o.modExists("validate")&&o.modules.validate.initializeColumn(this),o.modExists("mutator")&&o.modules.mutator.initializeColumn(this),o.modExists("accessor")&&o.modules.accessor.initializeColumn(this),it(o.options.responsiveLayout)&&o.modExists("responsiveLayout")&&o.modules.responsiveLayout.initializeColumn(this),void 0!==e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass)&&e.cssClass.split(" ").forEach((function(e){t.element.classList.add(e)}));e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(void 0===e.minWidth?this.table.options.columnMinWidth:parseInt(e.minWidth)),(e.maxWidth||this.table.options.columnMaxWidth)&&!1!==e.maxWidth&&this.setMaxWidth(void 0===e.maxWidth?this.table.options.columnMaxWidth:parseInt(e.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip||!1===this.definition.tooltip?this.definition.tooltip:this.table.options.tooltips,this.hozAlign=void 0===this.definition.hozAlign?this.table.options.cellHozAlign:this.definition.hozAlign,this.vertAlign=void 0===this.definition.vertAlign?this.table.options.cellVertAlign:this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign},at.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var t=document.createElement("div");return t.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),t.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),t},at.prototype._buildColumnHeaderTitle=function(){var t=this,e=t.definition,o=t.table,n=document.createElement("div");if(n.classList.add("tabulator-col-title"),e.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",(function(t){t.stopPropagation(),i.focus()})),i.addEventListener("change",(function(){e.title=i.value,o.options.columnTitleChanged.call(t.table,t.getComponent())})),n.appendChild(i),e.field?o.modules.localize.bind("columns|"+e.field,(function(t){i.value=t||e.title||"&nbsp;"})):i.value=e.title||"&nbsp;"}else e.field?o.modules.localize.bind("columns|"+e.field,(function(o){t._formatColumnHeaderTitle(n,o||e.title||"&nbsp;")})):t._formatColumnHeaderTitle(n,e.title||"&nbsp;");return n},at.prototype._formatColumnHeaderTitle=function(t,e){var o,n,i,r,s,a=this;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(o=this.table.modules.format.getFormatter(this.definition.titleFormatter),s=function(t){a.titleFormatterRendered=t},r={getValue:function(){return e},getElement:function(){return t}},i="function"==typeof(i=this.definition.titleFormatterParams||{})?i():i,void 0===(n=o.call(this.table.modules.format,r,i,s))?"undefined":it(n)){case"object":n instanceof Node?t.appendChild(n):(t.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":case"null":t.innerHTML="";break;default:t.innerHTML=n}else t.innerHTML=e},at.prototype._buildGroupHeader=function(){var t=this;(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass)&&this.definition.cssClass.split(" ").forEach((function(e){t.element.classList.add(e)}));(this.definition.headerContextMenu||this.definition.headerMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeColumnHeader(this),this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign,this.element.appendChild(this.groupElement)},at.prototype._getFlatData=function(t){return t[this.field]},at.prototype._getNestedData=function(t){for(var e,o=t,n=this.fieldStructure,i=n.length,r=0;r<i&&(e=o=o[n[r]],o);r++);return e},at.prototype._setFlatData=function(t,e){this.field&&(t[this.field]=e)},at.prototype._setNestedData=function(t,e){for(var o=t,n=this.fieldStructure,i=n.length,r=0;r<i;r++)if(r==i-1)o[n[r]]=e;else{if(!o[n[r]]){if(void 0===e)break;o[n[r]]={}}o=o[n[r]]}},at.prototype.attachColumn=function(t){var e=this;e.groupElement?(e.columns.push(t),e.groupElement.appendChild(t.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},at.prototype.verticalAlign=function(t,e){var o=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=o+"px",this.isGroup&&(this.groupElement.style.minHeight=o-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===t||(this.element.style.paddingTop="bottom"===t?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach((function(e){e.verticalAlign(t)}))},at.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(t){t.clearVerticalAlign()}))},at.prototype.bindModuleColumns=function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)},at.prototype.getElement=function(){return this.element},at.prototype.getGroupElement=function(){return this.groupElement},at.prototype.getField=function(){return this.field},at.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},at.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},at.prototype.getColumns=function(){return this.columns},at.prototype.getCells=function(){return this.cells},at.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},at.prototype.getDefinition=function(t){var e=[];return this.isGroup&&t&&(this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),this.definition.columns=e),this.definition},at.prototype.checkColumnVisibility=function(){var t=!1;this.columns.forEach((function(e){e.visible&&(t=!0)})),t?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},at.prototype.show=function(t,e){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},at.prototype.hide=function(t,e){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.hide()})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},at.prototype.matchChildWidths=function(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})),this.contentElement.style.maxWidth=t-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())},at.prototype.removeChild=function(t){var e=this.columns.indexOf(t);e>-1&&this.columns.splice(e,1),this.columns.length||this.delete()},at.prototype.setWidth=function(t){this.widthFixed=!0,this.setWidthActual(t)},at.prototype.setWidthActual=function(t){isNaN(t)&&(t=Math.floor(this.table.element.clientWidth/100*parseInt(t))),t=Math.max(this.minWidth,t),this.maxWidth&&(t=Math.min(this.maxWidth,t)),this.width=t,this.widthStyled=t?t+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(t){t.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},at.prototype.checkCellHeights=function(){var t=[];this.cells.forEach((function(e){e.row.heightInitialized&&(null!==e.row.getElement().offsetParent?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)})),t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()}))},at.prototype.getWidth=function(){var t=0;return this.isGroup?this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})):t=this.width,t},at.prototype.getHeight=function(){return this.element.offsetHeight},at.prototype.setMinWidth=function(t){this.minWidth=t,this.minWidthStyled=t?t+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(t){t.setMinWidth()}))},at.prototype.setMaxWidth=function(t){this.maxWidth=t,this.maxWidthStyled=t?t+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(t){t.setMaxWidth()}))},at.prototype.delete=function(){var t=this;return new Promise((function(e,o){t.isGroup&&t.columns.forEach((function(t){t.delete()})),t.table.modExists("edit")&&t.table.modules.edit.currentCell.column===t&&t.table.modules.edit.cancelEdit();for(var n=t.cells.length,i=0;i<n;i++)t.cells[0].delete();t.element.parentNode&&t.element.parentNode.removeChild(t.element),t.element=!1,t.contentElement=!1,t.titleElement=!1,t.groupElement=!1,t.parent.isGroup&&t.parent.removeChild(t),t.table.columnManager.deregisterColumn(t),t.table.options.virtualDomHoz&&t.table.vdomHoz.reinitialize(!0),e()}))},at.prototype.columnRendered=function(){this.titleFormatterRendered&&this.titleFormatterRendered()},at.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},at.prototype.generateCell=function(t){var e=new pt(this,t);return this.cells.push(e),e},at.prototype.nextColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._nextVisibleColumn(t+1)},at.prototype._nextVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._nextVisibleColumn(t+1)},at.prototype.prevColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._prevVisibleColumn(t-1)},at.prototype._prevVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._prevVisibleColumn(t-1)},at.prototype.reinitializeWidth=function(t){this.widthFixed=!1,void 0===this.definition.width||t||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},at.prototype.fitToData=function(){var t=this;this.widthFixed||(this.element.style.width="",t.cells.forEach((function(t){t.clearWidth()})));var e=this.element.offsetWidth;t.width&&this.widthFixed||(t.cells.forEach((function(t){var o=t.getWidth();o>e&&(e=o)})),e&&t.setWidthActual(e+1))},at.prototype.updateDefinition=function(t){var e=this;return new Promise((function(o,n){var i;e.isGroup||e.parent.isGroup?(console.warn("Column Update Error - The updateDefinition function is only available on ungrouped columns"),n("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(i=Object.assign({},e.getDefinition()),i=Object.assign(i,t),e.table.columnManager.addColumn(i,!1,e).then((function(t){i.field==e.field&&(e.field=!1),e.delete().then((function(){o(t.getComponent())})).catch((function(t){n(t)}))})).catch((function(t){n(t)})))}))},at.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},at.prototype.defaultOptionList=["title","field","columns","visible","align","hozAlign","vertAlign","width","minWidth","maxWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","print","htmlOutput","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","accessorPrint","accessorPrintParams","accessorHtmlOutput","accessorHtmlOutputParams","clipboard","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","headerHozAlign","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter","print","headerContextMenu","headerMenu","contextMenu","clickMenu","formatterPrint","formatterPrintParams","formatterClipboard","formatterClipboardParams","formatterHtmlOutput","formatterHtmlOutputParams","titlePrint","titleClipboard","titleHtmlOutput","titleDownload"],at.prototype.getComponent=function(){return this.component||(this.component=new st(this)),this.component};var lt=function(t){this.table=t,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[],this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1};lt.prototype.createHolderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-tableHolder"),t.setAttribute("tabindex",0),t},lt.prototype.createTableElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t},lt.prototype.getElement=function(){return this.element},lt.prototype.getTableElement=function(){return this.tableElement},lt.prototype.getRowPosition=function(t,e){return e?this.activeRows.indexOf(t):this.rows.indexOf(t)},lt.prototype.setColumnManager=function(t){this.columnManager=t},lt.prototype.initialize=function(){var t=this;t.setRenderMode(),t.element.appendChild(t.tableElement),t.firstRender=!0,t.element.addEventListener("scroll",(function(){var e=t.element.scrollLeft;t.scrollLeft!=e&&(t.columnManager.scrollHorizontal(e),t.table.options.groupBy&&t.table.modules.groupRows.scrollHeaders(e),t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.scrollHorizontal(e),t.table.options.scrollHorizontal(e)),t.scrollLeft=e})),"virtual"===this.renderMode&&t.element.addEventListener("scroll",(function(){var e=t.element.scrollTop,o=t.scrollTop>e;t.scrollTop!=e?(t.scrollTop=e,t.scrollVertical(o),"scroll"==t.table.options.ajaxProgressiveLoad&&t.table.modules.ajax.nextPage(t.element.scrollHeight-t.element.clientHeight-e),t.table.options.scrollVertical(e)):t.scrollTop=e}))},lt.prototype.findRow=function(t){var e=this;return"object"!=(void 0===t?"undefined":it(t))?null!=t&&(e.rows.find((function(o){return o.data[e.table.options.index]==t}))||!1):t instanceof ht?t:t instanceof ct?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&e.rows.find((function(e){return e.getElement()===t}))||!1},lt.prototype.getRowFromDataObject=function(t){return this.rows.find((function(e){return e.data===t}))||!1},lt.prototype.getRowFromPosition=function(t,e){return e?this.activeRows[t]:this.rows[t]},lt.prototype.scrollToRow=function(t,e,o){var n,i=this,r=this.getDisplayRows().indexOf(t),s=t.getElement(),a=0;return new Promise((function(t,l){if(r>-1){if(void 0===e&&(e=i.table.options.scrollToRowPosition),void 0===o&&(o=i.table.options.scrollToRowIfVisible),"nearest"===e)switch(i.renderMode){case"classic":n=mt.prototype.helpers.elOffset(s).top,e=Math.abs(i.element.scrollTop-n)>Math.abs(i.element.scrollTop+i.element.clientHeight-n)?"bottom":"top";break;case"virtual":e=Math.abs(i.vDomTop-r)>Math.abs(i.vDomBottom-r)?"bottom":"top"}if(!o&&mt.prototype.helpers.elVisible(s)&&(a=mt.prototype.helpers.elOffset(s).top-mt.prototype.helpers.elOffset(i.element).top)>0&&a<i.element.clientHeight-s.offsetHeight)return!1;switch(i.renderMode){case"classic":i.element.scrollTop=mt.prototype.helpers.elOffset(s).top-mt.prototype.helpers.elOffset(i.element).top+i.element.scrollTop;break;case"virtual":i._virtualRenderFill(r,!0)}switch(e){case"middle":case"center":i.element.scrollHeight-i.element.scrollTop==i.element.clientHeight?i.element.scrollTop=i.element.scrollTop+(s.offsetTop-i.element.scrollTop)-(i.element.scrollHeight-s.offsetTop)/2:i.element.scrollTop=i.element.scrollTop-i.element.clientHeight/2;break;case"bottom":i.element.scrollHeight-i.element.scrollTop==i.element.clientHeight?i.element.scrollTop=i.element.scrollTop-(i.element.scrollHeight-s.offsetTop)+s.offsetHeight:i.element.scrollTop=i.element.scrollTop-i.element.clientHeight+s.offsetHeight}t()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")}))},lt.prototype.setData=function(t,e,o){var n=this,i=this;return new Promise((function(r,s){e&&n.getDisplayRows().length?i.table.options.pagination?i._setDataActual(t,!0):n.reRenderInPosition((function(){i._setDataActual(t)})):(n.table.options.autoColumns&&o&&n.table.columnManager.generateColumnsFromRowData(t),n.resetScroll(),n._setDataActual(t)),r()}))},lt.prototype._setDataActual=function(t,e){var o=this;o.table.options.dataLoading.call(this.table,t),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(t)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(t),t.forEach((function(t,e){if(t&&"object"===(void 0===t?"undefined":it(t))){var n=new ht(t,o);o.rows.push(n)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",t)})),o.refreshActiveData(!1,!1,e),o.table.options.dataLoaded.call(this.table,t)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===t?"undefined":it(t),"\nData:     ",t)},lt.prototype._wipeElements=function(){this.rows.forEach((function(t){t.wipe()})),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()},lt.prototype.deleteRow=function(t,e){var o=this.rows.indexOf(t),n=this.activeRows.indexOf(t);n>-1&&this.activeRows.splice(n,1),o>-1&&this.rows.splice(o,1),this.setActiveRows(this.activeRows),this.displayRowIterator((function(e){var o=e.indexOf(t);o>-1&&e.splice(o,1)})),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.table.options.rowDeleted.call(this.table,t.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},lt.prototype.addRow=function(t,e,o,n){var i=this.addRowActual(t,e,o,n);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",i,{data:t,pos:e,index:o}),i},lt.prototype.addRows=function(t,e,o){var n=this,i=this,r=[];return new Promise((function(s,a){e=n.findAddRowPos(e),Array.isArray(t)||(t=[t]),t.length,(void 0===o&&e||void 0!==o&&!e)&&t.reverse(),t.forEach((function(t,n){var s=i.addRow(t,e,o,!0);r.push(s)})),n.table.options.groupBy&&n.table.modExists("groupRows")?n.table.modules.groupRows.updateGroupRows(!0):n.table.options.pagination&&n.table.modExists("page")?n.refreshActiveData(!1,!1,!0):n.reRenderInPosition(),n.table.modExists("columnCalcs")&&n.table.modules.columnCalcs.recalc(n.table.rowManager.activeRows),n.regenerateRowNumbers(),s(r)}))},lt.prototype.findAddRowPos=function(t){return void 0===t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t},lt.prototype.addRowActual=function(t,e,o,n){var i,r,s=t instanceof ht?t:new ht(t||{},this),a=this.findAddRowPos(e),l=-1;if(!o&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(r=this.getDisplayRows(),a?r.length?o=r[0]:this.activeRows.length&&(o=this.activeRows[this.activeRows.length-1],a=!1):r.length&&(o=r[r.length-1],a=!(r.length<this.table.modules.page.getPageSize()))),void 0!==o&&(o=this.findRow(o)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(s);var u=s.getGroup().rows;u.length>1&&(!o||o&&-1==u.indexOf(o)?a?u[0]!==s&&(o=u[0],this._moveRowInArray(s.getGroup().rows,s,o,!a)):u[u.length-1]!==s&&(o=u[u.length-1],this._moveRowInArray(s.getGroup().rows,s,o,!a)):this._moveRowInArray(s.getGroup().rows,s,o,!a))}return o&&(l=this.rows.indexOf(o)),o&&l>-1?(i=this.activeRows.indexOf(o),this.displayRowIterator((function(t){var e=t.indexOf(o);e>-1&&t.splice(a?e:e+1,0,s)})),i>-1&&this.activeRows.splice(a?i:i+1,0,s),this.rows.splice(a?l:l+1,0,s)):a?(this.displayRowIterator((function(t){t.unshift(s)})),this.activeRows.unshift(s),this.rows.unshift(s)):(this.displayRowIterator((function(t){t.push(s)})),this.activeRows.push(s),this.rows.push(s)),this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,s.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),n||this.reRenderInPosition(),s},lt.prototype.moveRow=function(t,e,o){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",t,{posFrom:this.getRowPosition(t),posTo:this.getRowPosition(e),to:e,after:o}),this.moveRowActual(t,e,o),this.regenerateRowNumbers(),this.table.options.rowMoved.call(this.table,t.getComponent())},lt.prototype.moveRowActual=function(t,e,o){var n=this;if(this._moveRowInArray(this.rows,t,e,o),this._moveRowInArray(this.activeRows,t,e,o),this.displayRowIterator((function(i){n._moveRowInArray(i,t,e,o)})),this.table.options.groupBy&&this.table.modExists("groupRows")){!o&&e instanceof Ht&&(e=this.table.rowManager.prevDisplayRow(t)||e);var i=e.getGroup(),r=t.getGroup();i===r?this._moveRowInArray(i.rows,t,e,o):(r&&r.removeRow(t),i.insertRow(t,e,o))}},lt.prototype._moveRowInArray=function(t,e,o,n){var i,r,s;if(e!==o&&((i=t.indexOf(e))>-1&&(t.splice(i,1),(r=t.indexOf(o))>-1?n?t.splice(r+1,0,e):t.splice(r,0,e):t.splice(i,0,e)),t===this.getDisplayRows())){s=r>i?r:i+1;for(var a=i<r?i:r;a<=s;a++)t[a]&&this.styleRow(t[a],a)}},lt.prototype.clearData=function(){this.setData([])},lt.prototype.getRowIndex=function(t){return this.findRowIndex(t,this.rows)},lt.prototype.getDisplayRowIndex=function(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e},lt.prototype.nextDisplayRow=function(t,e){var o=this.getDisplayRowIndex(t),n=!1;return!1!==o&&o<this.displayRowsCount-1&&(n=this.getDisplayRows()[o+1]),!n||n instanceof ht&&"row"==n.type?n:this.nextDisplayRow(n,e)},lt.prototype.prevDisplayRow=function(t,e){var o=this.getDisplayRowIndex(t),n=!1;return o&&(n=this.getDisplayRows()[o-1]),!e||!n||n instanceof ht&&"row"==n.type?n:this.prevDisplayRow(n,e)},lt.prototype.findRowIndex=function(t,e){var o;return!!((t=this.findRow(t))&&(o=e.indexOf(t))>-1)&&o},lt.prototype.getData=function(t,e){var o=[];return this.getRows(t).forEach((function(t){"row"==t.type&&o.push(t.getData(e||"data"))})),o},lt.prototype.getComponents=function(t){var e=[];return this.getRows(t).forEach((function(t){e.push(t.getComponent())})),e},lt.prototype.getDataCount=function(t){return this.getRows(t).length},lt.prototype._genRemoteRequest=function(){var t=this,e=this.table,o=e.options,n={};if(e.modExists("page")){if(o.ajaxSorting){var i=this.table.modules.sort.getSort();i.forEach((function(t){delete t.column})),n[this.table.modules.page.paginationDataSentNames.sorters]=i}if(o.ajaxFiltering){var r=this.table.modules.filter.getFilters(!0,!0);n[this.table.modules.page.paginationDataSentNames.filters]=r}this.table.modules.ajax.setParams(n,!0)}e.modules.ajax.sendRequest().then((function(e){t._setDataActual(e,!0)})).catch((function(t){}))},lt.prototype.filterRefresh=function(){var t=this.table,e=t.options,o=this.scrollLeft;e.ajaxFiltering?"remote"==e.pagination&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then((function(){})).catch((function(){}))):e.ajaxProgressiveLoad?t.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(o)},lt.prototype.sorterRefresh=function(t){var e=this.table,o=this.table.options,n=this.scrollLeft;o.ajaxSorting?("remote"==o.pagination||o.progressiveLoad)&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then((function(){})).catch((function(){}))):o.ajaxProgressiveLoad?e.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData(t?"filter":"sort"),this.scrollHorizontal(n)},lt.prototype.scrollHorizontal=function(t){this.scrollLeft=t,this.element.scrollLeft=t,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(t),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(t)},lt.prototype.refreshActiveData=function(t,e,o){var n,i=this,r=this.table,s=["all","filter","sort","display","freeze","group","tree","page"];if(this.redrawBlock)(!this.redrawBlockRestoreConfig||s.indexOf(t)<s.indexOf(this.redrawBlockRestoreConfig.stage))&&(this.redrawBlockRestoreConfig={stage:t,skipStage:e,renderInPosition:o});else{switch(i.table.modExists("edit")&&i.table.modules.edit.cancelEdit(),t||(t="all"),r.options.selectable&&!r.options.selectablePersistence&&r.modExists("selectRow")&&r.modules.selectRow.deselectRows(),t){case"all":case"filter":e?e=!1:r.modExists("filter")?i.setActiveRows(r.modules.filter.filter(i.rows)):i.setActiveRows(i.rows.slice(0));case"sort":e?e=!1:r.modExists("sort")&&r.modules.sort.sort(this.activeRows),this.regenerateRowNumbers();case"display":this.resetDisplayRows();case"freeze":e?e=!1:this.table.modExists("frozenRows")&&r.modules.frozenRows.isFrozen()&&(r.modules.frozenRows.getDisplayIndex()||r.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),n=r.modules.frozenRows.getDisplayIndex(),!0!==(n=i.setDisplayRows(r.modules.frozenRows.getRows(this.getDisplayRows(n-1)),n))&&r.modules.frozenRows.setDisplayIndex(n));case"group":e?e=!1:r.options.groupBy&&r.modExists("groupRows")&&(r.modules.groupRows.getDisplayIndex()||r.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),n=r.modules.groupRows.getDisplayIndex(),!0!==(n=i.setDisplayRows(r.modules.groupRows.getRows(this.getDisplayRows(n-1)),n))&&r.modules.groupRows.setDisplayIndex(n));case"tree":e?e=!1:r.options.dataTree&&r.modExists("dataTree")&&(r.modules.dataTree.getDisplayIndex()||r.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),n=r.modules.dataTree.getDisplayIndex(),!0!==(n=i.setDisplayRows(r.modules.dataTree.getRows(this.getDisplayRows(n-1)),n))&&r.modules.dataTree.setDisplayIndex(n)),r.options.pagination&&r.modExists("page")&&!o&&"local"==r.modules.page.getMode()&&r.modules.page.reset();case"page":e?e=!1:r.options.pagination&&r.modExists("page")&&(r.modules.page.getDisplayIndex()||r.modules.page.setDisplayIndex(this.getNextDisplayIndex()),n=r.modules.page.getDisplayIndex(),"local"==r.modules.page.getMode()&&r.modules.page.setMaxRows(this.getDisplayRows(n-1).length),!0!==(n=i.setDisplayRows(r.modules.page.getRows(this.getDisplayRows(n-1)),n))&&r.modules.page.setDisplayIndex(n))}mt.prototype.helpers.elVisible(i.element)&&(o?i.reRenderInPosition():("all"===t&&this.table.options.virtualDomHoz&&this.table.vdomHoz.dataChange(),i.renderTable(),r.options.layoutColumnsOnNewData&&i.table.columnManager.redraw(!0))),r.modExists("columnCalcs")&&r.modules.columnCalcs.recalc(this.activeRows)}},lt.prototype.regenerateRowNumbers=function(){var t=this;this.rowNumColumn&&this.activeRows.forEach((function(e){var o=e.getCell(t.rowNumColumn);o&&o._generateContents()}))},lt.prototype.setActiveRows=function(t){this.activeRows=t,this.activeRowsCount=this.activeRows.length},lt.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},lt.prototype.getNextDisplayIndex=function(){return this.displayRows.length},lt.prototype.setDisplayRows=function(t,e){var o=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=t,o=!0):(this.displayRows.push(t),o=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),o},lt.prototype.getDisplayRows=function(t){return void 0===t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]},lt.prototype.getVisibleRows=function(t){var e=this.element.scrollTop,o=this.element.clientHeight+e,n=!1,i=0,r=0,s=this.getDisplayRows();if(t){this.getDisplayRows();for(var a=this.vDomTop;a<=this.vDomBottom;a++)if(s[a])if(n){if(!(o-s[a].getElement().offsetTop>=0))break;r=a}else if(e-s[a].getElement().offsetTop>=0)i=a;else{if(n=!0,!(o-s[a].getElement().offsetTop>=0))break;r=a}}else i=this.vDomTop,r=this.vDomBottom;return s.slice(i,r+1)},lt.prototype.displayRowIterator=function(t){this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},lt.prototype.getRows=function(t){var e;switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!0);break;case"selected":e=this.table.modules.selectRow.selectedRows;break;default:e=this.rows}return e},lt.prototype.reRenderInPosition=function(t){if("virtual"==this.getRenderMode())if(this.redrawBlock)t?t():this.redrawBlockRederInPosition=!0;else{for(var e=this.element.scrollTop,o=!1,n=!1,i=this.scrollLeft,r=this.getDisplayRows(),s=this.vDomTop;s<=this.vDomBottom;s++)if(r[s]){var a=e-r[s].getElement().offsetTop;if(!(!1===n||Math.abs(a)<n))break;n=a,o=s}t&&t(),this._virtualRenderFill(!1===o?this.displayRowsCount-1:o,!0,n||0),this.scrollHorizontal(i)}else this.renderTable(),t&&t()},lt.prototype.setRenderMode=function(){this.table.options.virtualDom?(this.renderMode="virtual",this.table.element.clientHeight||this.table.options.height?this.fixedHeight=!0:this.fixedHeight=!1):this.renderMode="classic"},lt.prototype.getRenderMode=function(){return this.renderMode},lt.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill()}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px"),this.table.options.renderComplete.call(this.table)},lt.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},lt.prototype.checkClassicModeGroupHeaderWidth=function(){var t=this,e=this.tableElement,o=!0;t.getDisplayRows().forEach((function(n,i){t.styleRow(n,i),e.appendChild(n.getElement()),n.initialize(!0),"group"!==n.type&&(o=!1)})),e.style.minWidth=o?t.table.columnManager.getWidth()+"px":""},lt.prototype.renderEmptyScroll=function(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"},lt.prototype._clearVirtualDom=function(){var t=this.tableElement;for(this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);t.firstChild;)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},lt.prototype.styleRow=function(t,e){var o=t.getElement();e%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))},lt.prototype._virtualRenderFill=function(t,e,o){var n=this,i=n.tableElement,r=n.element,s=0,a=0,l=0,u=0,c=!0,h=n.getDisplayRows();if(o=o||0,t=t||0){for(;i.firstChild;)i.removeChild(i.firstChild);var d=(n.displayRowsCount-t+1)*n.vDomRowHeight;d<n.height&&(t-=Math.ceil((n.height-d)/n.vDomRowHeight))<0&&(t=0),t-=s=Math.min(Math.max(Math.floor(n.vDomWindowBuffer/n.vDomRowHeight),n.vDomWindowMinMarginRows),t)}else n._clearVirtualDom();if(n.displayRowsCount&&mt.prototype.helpers.elVisible(n.element)){for(n.vDomTop=t,n.vDomBottom=t-1;(a<=n.height+n.vDomWindowBuffer||u<n.vDomWindowMinTotalRows)&&n.vDomBottom<n.displayRowsCount-1;){var p,f=n.vDomBottom+1,m=h[f];n.styleRow(m,f),i.appendChild(m.getElement()),m.initialize(),m.heightInitialized||m.normalizeHeight(!0),p=m.getHeight(),u<s?l+=p:a+=p,p>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*p),"group"!==m.type&&(c=!1),n.vDomBottom++,u++}t?(n.vDomTopPad=e?n.vDomRowHeight*this.vDomTop+o:n.scrollTop-l,n.vDomBottomPad=n.vDomBottom==n.displayRowsCount-1?0:Math.max(n.vDomScrollHeight-n.vDomTopPad-a-l,0)):(this.vDomTopPad=0,n.vDomRowHeight=Math.floor((a+l)/u),n.vDomBottomPad=n.vDomRowHeight*(n.displayRowsCount-n.vDomBottom-1),n.vDomScrollHeight=l+a+n.vDomBottomPad-n.height),i.style.paddingTop=n.vDomTopPad+"px",i.style.paddingBottom=n.vDomBottomPad+"px",e&&(this.scrollTop=n.vDomTopPad+l+o-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&e&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,i.style.minWidth=c?n.table.columnManager.getWidth()+"px":"",n.table.options.groupBy&&"fitDataFill"!=n.table.modules.layout.getMode()&&n.displayRowsCount==n.table.modules.groupRows.countGroups()&&(n.tableElement.style.minWidth=n.table.columnManager.getWidth())}else this.renderEmptyScroll();this.fixedHeight||this.adjustTableSize()},lt.prototype.scrollVertical=function(t){var e=this.scrollTop-this.vDomScrollPosTop,o=this.scrollTop-this.vDomScrollPosBottom,n=2*this.vDomWindowBuffer;if(-e>n||o>n){var i=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(i)}else t?(e<0&&this._addTopRow(-e),o<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(-o):this.vDomScrollPosBottom=this.scrollTop)):(e>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(e):this.vDomScrollPosTop=this.scrollTop),o>=0&&this._addBottomRow(o))},lt.prototype._addTopRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,n=this.getDisplayRows();if(this.vDomTop){var i=this.vDomTop-1,r=n[i],s=r.getHeight()||this.vDomRowHeight;t>=s&&(this.styleRow(r,i),o.insertBefore(r.getElement(),o.firstChild),r.initialized&&r.heightInitialized||(this.vDomTopNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomTopPad-=s,this.vDomTopPad<0&&(this.vDomTopPad=i*this.vDomRowHeight),i||(this.vDomTopPad=0),o.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=s,this.vDomTop--),t=-(this.scrollTop-this.vDomScrollPosTop),r.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*r.getHeight()),e<this.vDomMaxRenderChain&&this.vDomTop&&t>=(n[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(t,e+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},lt.prototype._removeTopRow=function(t){var e=this.tableElement,o=this.getDisplayRows()[this.vDomTop],n=o.getHeight()||this.vDomRowHeight;if(t>=n){var i=o.getElement();i.parentNode.removeChild(i),this.vDomTopPad+=n,e.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer,this.vDomTop++,t=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(t)}},lt.prototype._addBottomRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,n=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var i=this.vDomBottom+1,r=n[i],s=r.getHeight()||this.vDomRowHeight;t>=s&&(this.styleRow(r,i),o.appendChild(r.getElement()),r.initialized&&r.heightInitialized||(this.vDomBottomNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomBottomPad-=s,(this.vDomBottomPad<0||i==this.displayRowsCount-1)&&(this.vDomBottomPad=0),o.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=s,this.vDomBottom++),t=this.scrollTop-this.vDomScrollPosBottom,r.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*r.getHeight()),e<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&t>=(n[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(t,e+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},lt.prototype._removeBottomRow=function(t){var e=this.tableElement,o=this.getDisplayRows()[this.vDomBottom],n=o.getHeight()||this.vDomRowHeight;if(t>=n){var i=o.getElement();i.parentNode&&i.parentNode.removeChild(i),this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),e.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n,this.vDomBottom--,t=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(t)}},lt.prototype._quickNormalizeRowHeight=function(t){t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()})),t.length=0},lt.prototype.normalizeHeight=function(){this.activeRows.forEach((function(t){t.normalizeHeight()}))},lt.prototype.adjustTableSize=function(){var t,e=this.element.clientHeight;if("virtual"===this.renderMode){var o=Math.floor(this.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+o+"px)",this.element.style.height="calc(100% - "+o+"px)",this.element.style.maxHeight="calc(100% - "+o+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-o+"px",this.element.scrollTop=this.scrollTop),this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height,this.fixedHeight||e==this.element.clientHeight||((t=this.table.modExists("resizeTable"))&&!this.table.modules.resizeTable.autoResize||!t)&&this.redraw()}},lt.prototype.reinitialize=function(){this.rows.forEach((function(t){t.reinitialize(!0)}))},lt.prototype.blockRedraw=function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1},lt.prototype.restoreRedraw=function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.stage,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1},lt.prototype.redraw=function(t){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():("classic"==this.renderMode?this.table.options.groupBy?this.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(e)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},lt.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))};var ut=function(t){this.table=t,this.element=this.table.rowManager.tableElement,this.holderEl=this.table.rowManager.element,this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[],this.compatabilityCheck()&&this.initialize()};ut.prototype.compatabilityCheck=function(){var t=this.table.options,e=!0;return"fitDataTable"==t.layout&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),e=!1),t.responsiveLayout&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),e=!1),this.table.rtl&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),e=!1),t.columns&&t.columns.find((function(t){return t.frozen}))&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),e=!1),e||(t.virtualDomHoz=!1),e},ut.prototype.initialize=function(){var t=this;this.holderEl.addEventListener("scroll",(function(){var e=t.holderEl.scrollLeft;t.scrollLeft!=e&&(t.scrollLeft=e,t.scroll(e-(t.vDomScrollPosLeft+t.window)))}))},ut.prototype.deinitialize=function(){this.initialized=!1},ut.prototype.clear=function(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0},ut.prototype.dataChange=function(){var t,e,o=!1,n=0,i=0;if("fitData"===this.table.options.layout){if(this.table.columnManager.columnsByIndex.forEach((function(t){!t.definition.width&&t.visible&&(o=!0)})),o&&o&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window,t=this.table.options.groupBy?this.table.modules.groupRows.getGroups(!1)[0].getRows(!1)[0]:this.table.rowManager.getDisplayRows()[0])){e=t.getElement(),t.generateCells(),this.element.appendChild(e);for(i=0;i<t.cells.length;i++){var r=t.cells[i];if(e.appendChild(r.getElement()),r.column.reinitializeWidth(),(n+=r.column.getWidth())>this.vDomScrollPosRight)break}for(e.parentNode.removeChild(e),this.fitDataColAvg=Math.floor(n/(i+1));i<this.table.columnManager.columnsByIndex.length;i++)this.table.columnManager.columnsByIndex[i].setWidth(this.fitDataColAvg);this.reinitialize(!1,!0)}}else"fitColumns"===this.table.options.layout&&(this.table.modules.layout.layout(),this.table.vdomHoz.reinitialize(!1,!0))},ut.prototype.fitDataLayoutOverride=function(){for(var t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()},ut.prototype.reinitialize=function(t,e){var o=this,n={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!t||this.initialized){this.clear(),this.scrollLeft=this.holderEl.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window;var i=0;this.table.columnManager.columnsByIndex.forEach((function(t){var e={};if(t.visible){var n=t.getWidth();e.leftPos=i,e.rightPos=i+n,i+n>o.vDomScrollPosLeft&&i<o.vDomScrollPosRight?(-1==o.leftCol&&(o.leftCol=o.columns.length,o.vDomPadLeft=i),o.rightCol=o.columns.length):-1!==o.leftCol&&(o.vDomPadRight+=n),o.columns.push(t),t.modules.vdomHoz=e,i+=n}})),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.element.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||t&&!this.reinitChanged(n)||this.renitializeRows(),this.holderEl.scrollLeft=this.scrollLeft}},ut.prototype.reinitChanged=function(t){var e=this,o=!0;return t.cols.length!==this.columns.length||t.leftCol!==this.leftCol||t.rightCol!==this.rightCol||(t.cols.forEach((function(t,n){t!==e.columns[n]&&(o=!1)})),!o)},ut.prototype.renitializeRows=function(){var t=this;this.table.rowManager.getVisibleRows().forEach((function(e){t.reinitializeRow(e,!0)}))},ut.prototype.scroll=function(t){this.vDomScrollPosLeft+=t,this.vDomScrollPosRight+=t,t>.8*this.holderEl.clientWidth?this.reinitialize():t>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())},ut.prototype.colPositionAdjust=function(t,e,o){for(var n=t;n<e;n++){var i=this.columns[n];i.modules.vdomHoz.leftPos-=o,i.modules.vdomHoz.rightPos-=o}},ut.prototype.addColRight=function(){var t,e,o=this.columns[this.rightCol+1];o&&o.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var e=t.getCell(o);t.getElement().appendChild(e.getElement()),e.cellRendered()}})),this.fitDataColAvg&&(t=o.getWidth())===this.fitDataColAvg&&(o.reinitializeWidth(),(e=t-o.getWidth())&&(o.modules.vdomHoz.rightPos-=e,this.colPositionAdjust(this.rightCol+1,this.columns.length,e))),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=o.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.addColRight())},ut.prototype.addColLeft=function(){var t=this.columns[this.leftCol-1];t&&t.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(e){if("group"!==e.type){var o=e.getCell(t);e.getElement().prepend(o.getElement()),o.cellRendered()}})),this.leftCol?this.vDomPadLeft-=t.getWidth():this.vDomPadLeft=0,this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())},ut.prototype.removeColRight=function(t){var e;(t=this.columns[this.rightCol])&&t.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(e=this.table.rowManager.getVisibleRows(),t.modules.vdomHoz.visible=!1,e.forEach((function(e){if("group"!==e.type){var o=e.getCell(t);e.getElement().removeChild(o.getElement())}})),this.vDomPadRight+=t.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())},ut.prototype.removeColLeft=function(){var t=this.columns[this.leftCol];t&&t.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(e){if("group"!==e.type){var o=e.getCell(t);e.getElement().removeChild(o.getElement())}})),this.vDomPadLeft+=t.getWidth(),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())},ut.prototype.initializeRow=function(t){if("group"!==t.type){t.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(var e=this.leftCol;e<=this.rightCol;e++){var o=this.columns[e];if(o&&o.visible){var n=t.getCell(o);t.getElement().appendChild(n.getElement()),n.cellRendered()}}}},ut.prototype.reinitializeRow=function(t,e){if("group"!==t.type&&(e||!t.modules.vdomHoz||t.modules.vdomHoz.leftCol!==this.leftCol||t.modules.vdomHoz.rightCol!==this.rightCol)){for(var o=t.getElement();o.firstChild;)o.removeChild(o.firstChild);this.initializeRow(t)}};var ct=function(t){this._row=t};ct.prototype.getData=function(t){return this._row.getData(t)},ct.prototype.getElement=function(){return this._row.getElement()},ct.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},ct.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},ct.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},ct.prototype.getPosition=function(t){return this._row.table.rowManager.getRowPosition(this._row,t)},ct.prototype.delete=function(){return this._row.delete()},ct.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},ct.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},ct.prototype.move=function(t,e){this._row.moveToRow(t,e)},ct.prototype.update=function(t){return this._row.updateData(t)},ct.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},ct.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},ct.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},ct.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},ct.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},ct.prototype._getSelf=function(){return this._row},ct.prototype.validate=function(){return this._row.validate()},ct.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},ct.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},ct.prototype.isFrozen=function(){return!!this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.rows.indexOf(this._row)>-1},ct.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},ct.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},ct.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},ct.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},ct.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row,!0)},ct.prototype.addTreeChild=function(t,e,o){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.addTreeChildRow(this._row,t,e,o)},ct.prototype.reformat=function(){return this._row.reinitialize()},ct.prototype.getGroup=function(){return this._row.getGroup().getComponent()},ct.prototype.getTable=function(){return this._row.table},ct.prototype.getNextRow=function(){var t=this._row.nextRow();return t?t.getComponent():t},ct.prototype.getPrevRow=function(){var t=this._row.prevRow();return t?t.getComponent():t};var ht=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"row";this.table=e.table,this.parent=e,this.data={},this.type=o,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(t)};ht.prototype.create=function(){this.created||(this.created=!0,this.generateElement())},ht.prototype.createElement=function(){var t=document.createElement("div");t.classList.add("tabulator-row"),t.setAttribute("role","row"),this.element=t},ht.prototype.getElement=function(){return this.create(),this.element},ht.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},ht.prototype.generateElement=function(){var t,e,o,n=this;this.createElement(),!1!==n.table.options.selectable&&n.table.modExists("selectRow")&&n.table.modules.selectRow.initializeRow(this),!1!==n.table.options.movableRows&&n.table.modExists("moveRow")&&n.table.modules.moveRow.initializeRow(this),!1!==n.table.options.dataTree&&n.table.modExists("dataTree")&&n.table.modules.dataTree.initializeRow(this),"collapse"===n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout")&&n.table.modules.responsiveLayout.initializeRow(this),(n.table.options.rowContextMenu||n.table.options.rowClickMenu)&&this.table.modExists("menu")&&n.table.modules.menu.initializeRow(this),n.table.options.rowClick&&n.element.addEventListener("click",(function(t){n.table.options.rowClick(t,n.getComponent())})),n.table.options.rowDblClick&&n.element.addEventListener("dblclick",(function(t){n.table.options.rowDblClick(t,n.getComponent())})),n.table.options.rowContext&&n.element.addEventListener("contextmenu",(function(t){n.table.options.rowContext(t,n.getComponent())})),n.table.options.rowMouseEnter&&n.element.addEventListener("mouseenter",(function(t){n.table.options.rowMouseEnter(t,n.getComponent())})),n.table.options.rowMouseLeave&&n.element.addEventListener("mouseleave",(function(t){n.table.options.rowMouseLeave(t,n.getComponent())})),n.table.options.rowMouseOver&&n.element.addEventListener("mouseover",(function(t){n.table.options.rowMouseOver(t,n.getComponent())})),n.table.options.rowMouseOut&&n.element.addEventListener("mouseout",(function(t){n.table.options.rowMouseOut(t,n.getComponent())})),n.table.options.rowMouseMove&&n.element.addEventListener("mousemove",(function(t){n.table.options.rowMouseMove(t,n.getComponent())})),n.table.options.rowTap&&(o=!1,n.element.addEventListener("touchstart",(function(t){o=!0}),{passive:!0}),n.element.addEventListener("touchend",(function(t){o&&n.table.options.rowTap(t,n.getComponent()),o=!1}))),n.table.options.rowDblTap&&(t=null,n.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,n.table.options.rowDblTap(e,n.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),n.table.options.rowTapHold&&(e=null,n.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,o=!1,n.table.options.rowTapHold(t,n.getComponent())}),1e3)}),{passive:!0}),n.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null})))},ht.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},ht.prototype.initialize=function(t){var e=this;if(this.create(),!this.initialized||t){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),this.table.options.virtualDomHoz&&this.table.vdomHoz.initialized?this.table.vdomHoz.initializeRow(this):this.cells.forEach((function(t){e.element.appendChild(t.getElement()),t.cellRendered()})),t&&this.normalizeHeight(),this.table.options.dataTree&&this.table.modExists("dataTree")&&this.table.modules.dataTree.layoutRow(this),"collapse"===this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout")&&this.table.modules.responsiveLayout.layoutRow(this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.table.options.resizableRows&&this.table.modExists("resizeRows")&&this.table.modules.resizeRows.initializeRow(this),this.initialized=!0}else this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitializeRow(this)},ht.prototype.reinitializeHeight=function(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)},ht.prototype.reinitialize=function(t){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.getTreeChildren(this,!1,!0).forEach((function(t){t.reinitialize(!0)}))},ht.prototype.calcHeight=function(t){var e=0,o=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach((function(t){var o=t.getHeight();o>e&&(e=o)})),this.height=t?Math.max(e,o):this.manualHeight?this.height:Math.max(e,o),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},ht.prototype.setCellHeight=function(){this.cells.forEach((function(t){t.setHeight()})),this.heightInitialized=!0},ht.prototype.clearCellHeight=function(){this.cells.forEach((function(t){t.clearHeight()}))},ht.prototype.normalizeHeight=function(t){t&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()},ht.prototype.setHeight=function(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},ht.prototype.getHeight=function(){return this.outerHeight},ht.prototype.getWidth=function(){return this.element.offsetWidth},ht.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},ht.prototype.setData=function(t){this.table.modExists("mutator")&&(t=this.table.modules.mutator.transformRow(t,"data")),this.data=t,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},ht.prototype.updateData=function(t){var e,o=this,n=this.element&&mt.prototype.helpers.elVisible(this.element),i={};return new Promise((function(r,s){for(var a in"string"==typeof t&&(t=JSON.parse(t)),o.table.options.reactiveData&&o.table.modExists("reactiveData",!0)&&o.table.modules.reactiveData.block(),o.table.modExists("mutator")?(i=Object.assign(i,o.data),i=Object.assign(i,t),e=o.table.modules.mutator.transformRow(i,"data",t)):e=t,e)o.data[a]=e[a];for(var a in o.table.options.reactiveData&&o.table.modExists("reactiveData",!0)&&o.table.modules.reactiveData.unblock(),t){o.table.columnManager.getColumnsByFieldRoot(a).forEach((function(t){var i=o.getCell(t.getField());if(i){var r=t.getFieldValue(e);i.getValue()!=r&&(i.setValueProcessData(r),n&&i.cellRendered())}}))}o.table.options.groupUpdateOnCellEdit&&o.table.options.groupBy&&o.table.modExists("groupRows")&&o.table.modules.groupRows.reassignRowToGroup(o.row),n?(o.normalizeHeight(!0),o.table.options.rowFormatter&&o.table.options.rowFormatter(o.getComponent())):(o.initialized=!1,o.height=0,o.heightStyled=""),!1!==o.table.options.dataTree&&o.table.modExists("dataTree")&&o.table.modules.dataTree.redrawNeeded(t)&&(o.table.modules.dataTree.initializeRow(o),n&&(o.table.modules.dataTree.layoutRow(o),o.table.rowManager.refreshActiveData("tree",!1,!0))),o.table.options.rowUpdated.call(o.table,o.getComponent()),o.table.options.dataChanged&&o.table.options.dataChanged.call(o.table,o.table.rowManager.getData()),r()}))},ht.prototype.getData=function(t){return t&&this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this,t):this.data},ht.prototype.getCell=function(t){return t=this.table.columnManager.findColumn(t),this.cells.find((function(e){return e.column===t}))},ht.prototype.getCellIndex=function(t){return this.cells.findIndex((function(e){return e===t}))},ht.prototype.findNextEditableCell=function(t){var e=!1;if(t<this.cells.length-1)for(var o=t+1;o<this.cells.length;o++){var n=this.cells[o];if(n.column.modules.edit&&mt.prototype.helpers.elVisible(n.getElement())){var i=!0;if("function"==typeof n.column.modules.edit.check&&(i=n.column.modules.edit.check(n.getComponent())),i){e=n;break}}}return e},ht.prototype.findPrevEditableCell=function(t){var e=!1;if(t>0)for(var o=t-1;o>=0;o--){var n=this.cells[o],i=!0;if(n.column.modules.edit&&mt.prototype.helpers.elVisible(n.getElement())&&("function"==typeof n.column.modules.edit.check&&(i=n.column.modules.edit.check(n.getComponent())),i)){e=n;break}}return e},ht.prototype.getCells=function(){return this.cells},ht.prototype.nextRow=function(){return this.table.rowManager.nextDisplayRow(this,!0)||!1},ht.prototype.prevRow=function(){return this.table.rowManager.prevDisplayRow(this,!0)||!1},ht.prototype.moveToRow=function(t,e){var o=this.table.rowManager.findRow(t);o?(this.table.rowManager.moveRowActual(this,o,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",t)},ht.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},ht.prototype.delete=function(){var t=this;return new Promise((function(e,o){var n,i;t.table.options.history&&t.table.modExists("history")&&(t.table.options.groupBy&&t.table.modExists("groupRows")?(n=(i=t.getGroup().rows).indexOf(t))&&(n=i[n-1]):(n=t.table.rowManager.getRowIndex(t))&&(n=t.table.rowManager.rows[n-1]),t.table.modules.history.action("rowDelete",t,{data:t.getData(),pos:!n,index:n})),t.deleteActual(),e()}))},ht.prototype.deleteActual=function(t){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.rowDelete(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},ht.prototype.detatchModules=function(){this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.modExists("edit")&&this.table.modules.edit.currentCell.row===this&&this.table.modules.edit.cancelEdit(),this.table.modExists("frozenRows")&&this.table.modules.frozenRows.detachRow(this)},ht.prototype.deleteCells=function(){for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete()},ht.prototype.wipe=function(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}},ht.prototype.getGroup=function(){return this.modules.group||!1},ht.prototype.getComponent=function(){return this.component||(this.component=new ct(this)),this.component};var dt=function(t){this._cell=t};dt.prototype.getValue=function(){return this._cell.getValue()},dt.prototype.getOldValue=function(){return this._cell.getOldValue()},dt.prototype.getInitialValue=function(){return this._cell.initialValue},dt.prototype.getElement=function(){return this._cell.getElement()},dt.prototype.getRow=function(){return this._cell.row.getComponent()},dt.prototype.getData=function(){return this._cell.row.getData()},dt.prototype.getField=function(){return this._cell.column.getField()},dt.prototype.getColumn=function(){return this._cell.column.getComponent()},dt.prototype.setValue=function(t,e){void 0===e&&(e=!0),this._cell.setValue(t,e)},dt.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},dt.prototype.restoreInitialValue=function(){this._cell.setValueActual(this._cell.initialValue)},dt.prototype.edit=function(t){return this._cell.edit(t)},dt.prototype.cancelEdit=function(){this._cell.cancelEdit()},dt.prototype.isEdited=function(){return!!this._cell.modules.edit&&this._cell.modules.edit.edited},dt.prototype.clearEdited=function(){self.table.modExists("edit",!0)&&this._cell.table.modules.edit.clearEdited(this._cell)},dt.prototype.isValid=function(){return!this._cell.modules.validate||!this._cell.modules.validate.invalid},dt.prototype.validate=function(){return this._cell.validate()},dt.prototype.clearValidation=function(){this._cell.table.modExists("validate",!0)&&this._cell.table.modules.validate.clearValidation(this._cell)},dt.prototype.nav=function(){return this._cell.nav()},dt.prototype.checkHeight=function(){this._cell.checkHeight()},dt.prototype.getTable=function(){return this._cell.table},dt.prototype._getSelf=function(){return this._cell};var pt=function(t,e){this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()};pt.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value},pt.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},pt.prototype._configureCell=function(){var t=this,e=t.column.cellEvents,o=t.element,n=this.column.getField();(o.style.textAlign=t.column.hozAlign,t.column.vertAlign&&(o.style.display="inline-flex",o.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[t.column.vertAlign]||"",t.column.hozAlign&&(o.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[t.column.hozAlign]||"")),n&&o.setAttribute("tabulator-field",n),t.column.definition.cssClass)&&t.column.definition.cssClass.split(" ").forEach((function(t){o.classList.add(t)}));"hover"===this.table.options.tooltipGenerationMode&&o.addEventListener("mouseenter",(function(e){t._generateTooltip()})),t._bindClickEvents(e),t._bindTouchEvents(e),t._bindMouseEvents(e),t.column.modules.edit&&t.table.modules.edit.bindEditor(t),t.column.definition.rowHandle&&!1!==t.table.options.movableRows&&t.table.modExists("moveRow")&&t.table.modules.moveRow.initializeCell(t),t.column.visible||t.hide()},pt.prototype._bindClickEvents=function(t){var e=this,o=e.element;(t.cellClick||e.table.options.cellClick)&&o.addEventListener("click",(function(o){var n=e.getComponent();t.cellClick&&t.cellClick.call(e.table,o,n),e.table.options.cellClick&&e.table.options.cellClick.call(e.table,o,n)})),t.cellDblClick||this.table.options.cellDblClick?o.addEventListener("dblclick",(function(o){var n=e.getComponent();t.cellDblClick&&t.cellDblClick.call(e.table,o,n),e.table.options.cellDblClick&&e.table.options.cellDblClick.call(e.table,o,n)})):o.addEventListener("dblclick",(function(t){if(!e.table.modExists("edit")||e.table.modules.edit.currentCell!==e){t.preventDefault();try{if(document.selection)(o=document.body.createTextRange()).moveToElementText(e.element),o.select();else if(window.getSelection){var o;(o=document.createRange()).selectNode(e.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(o)}}catch(n){}}})),(t.cellContext||this.table.options.cellContext)&&o.addEventListener("contextmenu",(function(o){var n=e.getComponent();t.cellContext&&t.cellContext.call(e.table,o,n),e.table.options.cellContext&&e.table.options.cellContext.call(e.table,o,n)}))},pt.prototype._bindMouseEvents=function(t){var e=this,o=e.element;(t.cellMouseEnter||e.table.options.cellMouseEnter)&&o.addEventListener("mouseenter",(function(o){var n=e.getComponent();t.cellMouseEnter&&t.cellMouseEnter.call(e.table,o,n),e.table.options.cellMouseEnter&&e.table.options.cellMouseEnter.call(e.table,o,n)})),(t.cellMouseLeave||e.table.options.cellMouseLeave)&&o.addEventListener("mouseleave",(function(o){var n=e.getComponent();t.cellMouseLeave&&t.cellMouseLeave.call(e.table,o,n),e.table.options.cellMouseLeave&&e.table.options.cellMouseLeave.call(e.table,o,n)})),(t.cellMouseOver||e.table.options.cellMouseOver)&&o.addEventListener("mouseover",(function(o){var n=e.getComponent();t.cellMouseOver&&t.cellMouseOver.call(e.table,o,n),e.table.options.cellMouseOver&&e.table.options.cellMouseOver.call(e.table,o,n)})),(t.cellMouseOut||e.table.options.cellMouseOut)&&o.addEventListener("mouseout",(function(o){var n=e.getComponent();t.cellMouseOut&&t.cellMouseOut.call(e.table,o,n),e.table.options.cellMouseOut&&e.table.options.cellMouseOut.call(e.table,o,n)})),(t.cellMouseMove||e.table.options.cellMouseMove)&&o.addEventListener("mousemove",(function(o){var n=e.getComponent();t.cellMouseMove&&t.cellMouseMove.call(e.table,o,n),e.table.options.cellMouseMove&&e.table.options.cellMouseMove.call(e.table,o,n)}))},pt.prototype._bindTouchEvents=function(t){var e,o,n,i=this,r=i.element;(t.cellTap||this.table.options.cellTap)&&(n=!1,r.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),r.addEventListener("touchend",(function(e){if(n){var o=i.getComponent();t.cellTap&&t.cellTap.call(i.table,e,o),i.table.options.cellTap&&i.table.options.cellTap.call(i.table,e,o)}n=!1}))),(t.cellDblTap||this.table.options.cellDblTap)&&(e=null,r.addEventListener("touchend",(function(o){if(e){clearTimeout(e),e=null;var n=i.getComponent();t.cellDblTap&&t.cellDblTap.call(i.table,o,n),i.table.options.cellDblTap&&i.table.options.cellDblTap.call(i.table,o,n)}else e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),(t.cellTapHold||this.table.options.cellTapHold)&&(o=null,r.addEventListener("touchstart",(function(e){clearTimeout(o),o=setTimeout((function(){clearTimeout(o),o=null,n=!1;var r=i.getComponent();t.cellTapHold&&t.cellTapHold.call(i.table,e,r),i.table.options.cellTapHold&&i.table.options.cellTapHold.call(i.table,e,r)}),1e3)}),{passive:!0}),r.addEventListener("touchend",(function(t){clearTimeout(o),o=null})))},pt.prototype._generateContents=function(){var t;switch(void 0===(t=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value)?"undefined":it(t)){case"object":if(t instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="",null!=t&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",t);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=t}},pt.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},pt.prototype._generateTooltip=function(){var t=this.column.tooltip;t?(!0===t?t=this.value:"function"==typeof t&&!1===(t=t(this.getComponent()))&&(t=""),void 0===t&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")},pt.prototype.getElement=function(t){return this.loaded||(this.loaded=!0,t||this.layoutElement()),this.element},pt.prototype.getValue=function(){return this.value},pt.prototype.getOldValue=function(){return this.oldValue},pt.prototype.setValue=function(t,e){var o;this.setValueProcessData(t,e)&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),o=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,o),this.table.options.groupUpdateOnCellEdit&&this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.reassignRowToGroup(this.row),this.cellRendered(),this.table.options.cellEdited.call(this.table,o),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.table.rowManager.getData()))},pt.prototype.setValueProcessData=function(t,e){var o=!1;return this.value!=t&&(o=!0,e&&this.column.modules.mutate&&(t=this.table.modules.mutator.transformCell(this,t))),this.setValueActual(t),o&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),"table"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.recalcRowGroup(this.row)):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),o},pt.prototype.setValueActual=function(t){this.oldValue=this.value,this.value=t,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,t),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this.loaded&&this.layoutElement()},pt.prototype.layoutElement=function(){this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&"row"===this.row.type&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),(this.column.definition.contextMenu||this.column.definition.clickMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeCell(this),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},pt.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},pt.prototype.clearWidth=function(){this.width="",this.element.style.width=""},pt.prototype.getWidth=function(){return this.width||this.element.offsetWidth},pt.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},pt.prototype.setMaxWidth=function(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled},pt.prototype.checkHeight=function(){this.row.reinitializeHeight()},pt.prototype.clearHeight=function(){this.element.style.height="",this.height=null},pt.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},pt.prototype.getHeight=function(){return this.height||this.element.offsetHeight},pt.prototype.show=function(){this.element.style.display=this.column.vertAlign?"inline-flex":""},pt.prototype.hide=function(){this.element.style.display="none"},pt.prototype.edit=function(t){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,t)},pt.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var t=this.table.modules.edit.getCurrentCell();t&&t._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},pt.prototype.validate=function(){return!this.column.modules.validate||!this.table.modExists("validate",!0)||!0===this.table.modules.validate.validate(this.column.modules.validate,this,this.getValue())},pt.prototype.delete=function(){!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.modules.validate&&this.modules.validate.invalid&&this.table.modules.validate.clearValidation(this),this.modules.edit&&this.modules.edit.edited&&this.table.modules.edit.clearEdited(this),this.table.options.history&&this.table.modules.history.clearComponentHistory(this),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},pt.prototype.nav=function(){var t=this,e=!1,o=this.row.getCellIndex(this);return{next:function(){var e,o=this.right();return!!o||!(!(e=t.table.rowManager.nextDisplayRow(t.row,!0))||!(o=e.findNextEditableCell(-1)))&&(o.edit(),!0)},prev:function(){var e,o=this.left();return!!o||!(!(e=t.table.rowManager.prevDisplayRow(t.row,!0))||!(o=e.findPrevEditableCell(e.cells.length)))&&(o.edit(),!0)},left:function(){return!!(e=t.row.findPrevEditableCell(o))&&(e.edit(),!0)},right:function(){return!!(e=t.row.findNextEditableCell(o))&&(e.edit(),!0)},up:function(){var e=t.table.rowManager.prevDisplayRow(t.row,!0);e&&e.cells[o].edit()},down:function(){var e=t.table.rowManager.nextDisplayRow(t.row,!0);e&&e.cells[o].edit()}}},pt.prototype.getIndex=function(){this.row.getCellIndex(this)},pt.prototype.getComponent=function(){return this.component||(this.component=new dt(this)),this.component};var ft=function(t){this.table=t,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};ft.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t},ft.prototype._initialize=function(t){if(this.table.options.footerElement)switch(it(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement}},ft.prototype.getElement=function(){return this.element},ft.prototype.append=function(t,e){this.activate(e),this.element.appendChild(t),this.table.rowManager.adjustTableSize()},ft.prototype.prepend=function(t,e){this.activate(e),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()},ft.prototype.remove=function(t){t.parentNode.removeChild(t),this.deactivate()},ft.prototype.deactivate=function(t){this.element.firstChild&&!t||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},ft.prototype.activate=function(t){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),t&&this.links.push(t)},ft.prototype.redraw=function(){this.links.forEach((function(t){t.footerRedraw()}))};var mt=function t(e,o){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.modules={},this.initializeElement(e)&&(this.initializeOptions(o||{}),this._create()),t.prototype.comms.register(this)};mt.prototype.defaultOptions={height:!1,minHeight:!1,maxHeight:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnMaxWidth:!1,columnHeaderVertAlign:"top",columnVertAlign:!1,resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],cellHozAlign:"",cellVertAlign:"",headerHozAlign:"",data:[],autoColumns:!1,autoColumnsDefinitions:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,headerSort:!0,headerSortTristate:!1,headerSortElement:"<div class='tabulator-arrow'></div>",footerElement:!1,index:"id",textDirection:"auto",keybindings:[],tabEndNewRow:!1,invalidOptionWarnings:!0,clipboard:!1,clipboardCopyStyled:!0,clipboardCopyConfig:!1,clipboardCopyFormatter:!1,clipboardCopyRowRange:"active",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(t,e){return e},downloadComplete:!1,downloadConfig:{},downloadRowRange:"active",dataTree:!1,dataTreeFilter:!0,dataTreeSort:!0,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},dataTreeChildColumnCalcs:!1,dataTreeSelectPropagate:!1,printAsHtml:!1,printFormatter:!1,printHeader:!1,printFooter:!1,printCopyStyle:!0,printStyled:!0,printVisibleRows:!0,printRowRange:"visible",printConfig:{},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(t,e){return!0},headerFilterLiveFilterDelay:300,headerFilterPlaceholder:!1,headerVisible:!0,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,virtualDomHoz:!1,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistenceReaderFunc:!1,persistenceWriterFunc:!1,persistence:!1,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationInitialPage:1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupUpdateOnCellEdit:!1,groupHeader:!1,groupHeaderPrint:null,groupHeaderClipboard:null,groupHeaderHtmlOutput:null,groupHeaderDownload:null,htmlOutputConfig:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsConnectedElements:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},movableRowsElementDrop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowContextMenu:!1,rowClickMenu:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:!1,dataChanged:!1,ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupContextMenu:!1,groupClickMenu:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationMode:"blocking",validationFailed:function(){},historyUndo:function(){},historyRedo:function(){},scrollHorizontal:function(){},scrollVertical:function(){}},mt.prototype.initializeOptions=function(t){if(!1!==t.invalidOptionWarnings)for(var e in t)void 0===this.defaultOptions[e]&&console.warn("Invalid table constructor option:",e);for(var e in this.defaultOptions)e in t?this.options[e]=t[e]:Array.isArray(this.defaultOptions[e])?this.options[e]=Object.assign([],this.defaultOptions[e]):"object"===it(this.defaultOptions[e])&&null!==this.defaultOptions[e]?this.options[e]=Object.assign({},this.defaultOptions[e]):this.options[e]=this.defaultOptions[e]},mt.prototype.initializeElement=function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement?(this.element=t,!0):"string"==typeof t?(this.element=document.querySelector(t),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",t),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",t),!1)},mt.prototype.rtlCheck=function(){var t=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==t.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}},mt.prototype._mapDepricatedFunctionality=function(){(this.options.persistentLayout||this.options.persistentSort||this.options.persistentFilter)&&(this.options.persistence||(this.options.persistence={})),this.options.dataEdited&&(console.warn("DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead"),this.options.dataChanged=this.options.dataEdited),this.options.downloadDataFormatter&&console.warn("DEPRECATION WARNING - downloadDataFormatter option has been deprecated"),void 0!==this.options.clipboardCopyHeader&&(this.options.columnHeaders=this.options.clipboardCopyHeader,console.warn("DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option")),!0!==this.options.printVisibleRows&&(console.warn("printVisibleRows option is deprecated, you should now use the printRowRange option"),this.options.persistence.printRowRange="active"),!0!==this.options.printCopyStyle&&(console.warn("printCopyStyle option is deprecated, you should now use the printStyled option"),this.options.persistence.printStyled=this.options.printCopyStyle),this.options.persistentLayout&&(console.warn("persistentLayout option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.columns&&(this.options.persistence.columns=!0)),this.options.persistentSort&&(console.warn("persistentSort option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.sort&&(this.options.persistence.sort=!0)),this.options.persistentFilter&&(console.warn("persistentFilter option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.filter&&(this.options.persistence.filter=!0)),this.options.columnVertAlign&&(console.warn("columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option"),this.options.columnHeaderVertAlign=this.options.columnVertAlign)},mt.prototype._clearSelection=function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")},mt.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),this.rtlCheck(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new rt(this),this.rowManager=new lt(this),this.footerManager=new ft(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this.options.virtualDomHoz&&(this.vdomHoz=new ut(this)),this._buildElement(),this._loadInitialData()},mt.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},mt.prototype._buildElement=function(){var t=this,e=this.element,o=this.modules,n=this.options;for(n.tableBuilding.call(this),e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);for(var i in n.height&&(n.height=isNaN(n.height)?n.height:n.height+"px",e.style.height=n.height),!1!==n.minHeight&&(n.minHeight=isNaN(n.minHeight)?n.minHeight:n.minHeight+"px",e.style.minHeight=n.minHeight),!1!==n.maxHeight&&(n.maxHeight=isNaN(n.maxHeight)?n.maxHeight:n.maxHeight+"px",e.style.maxHeight=n.maxHeight),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&o.layout.initialize(n.layout),o.localize.initialize(),!1!==n.headerFilterPlaceholder&&o.localize.setHeaderFilterPlaceholder(n.headerFilterPlaceholder),n.langs)o.localize.installLang(i,n.langs[i]);if(o.localize.setLocale(n.locale),"string"==typeof n.placeholder){var r=document.createElement("div");r.classList.add("tabulator-placeholder");var s=document.createElement("span");s.innerHTML=n.placeholder,r.appendChild(s),n.placeholder=r}if(e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),n.footerElement&&this.footerManager.activate(),n.persistence&&this.modExists("persistence",!0)&&o.persistence.initialize(),n.movableRows&&this.modExists("moveRow")&&o.moveRow.initialize(),n.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&o.columnCalcs.initialize(),this.columnManager.setColumns(n.columns),n.dataTree&&this.modExists("dataTree",!0)&&o.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort||n.initialSort)&&this.modExists("sort",!0)){var a=[];n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort?!1===(a=o.persistence.load("sort"))&&n.initialSort&&(a=n.initialSort):n.initialSort&&(a=n.initialSort),o.sort.setSort(a)}if((n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter||n.initialFilter)&&this.modExists("filter",!0)){var l=[];n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter?!1===(l=o.persistence.load("filter"))&&n.initialFilter&&(l=n.initialFilter):n.initialFilter&&(l=n.initialFilter),o.filter.setFilter(l)}n.initialHeaderFilter&&this.modExists("filter",!0)&&n.initialHeaderFilter.forEach((function(e){var n=t.columnManager.findColumn(e.field);if(!n)return console.warn("Column Filter Error - No matching column found:",e.field),!1;o.filter.setHeaderFilterValue(n,e.value)})),this.modExists("ajax")&&o.ajax.initialize(),n.pagination&&this.modExists("page",!0)&&o.page.initialize(),n.groupBy&&this.modExists("groupRows",!0)&&o.groupRows.initialize(),this.modExists("keybindings")&&o.keybindings.initialize(),this.modExists("selectRow")&&o.selectRow.clearSelectionData(!0),n.autoResize&&this.modExists("resizeTable")&&o.resizeTable.initialize(),this.modExists("clipboard")&&o.clipboard.initialize(),n.printAsHtml&&this.modExists("print")&&o.print.initialize(),n.tableBuilt.call(this)},mt.prototype._loadInitialData=function(){var t=this;if(t.options.pagination&&t.modExists("page"))if(t.modules.page.reset(!0,!0),"local"==t.options.pagination){if(t.options.data.length)t.rowManager.setData(t.options.data,!1,!0);else{if((t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax"))return void t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}));t.rowManager.setData(t.options.data,!1,!0)}t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}else t.options.ajaxURL?t.modules.page.setPage(t.options.paginationInitialPage).then((function(){})).catch((function(){})):t.rowManager.setData([],!1,!0);else t.options.data.length?t.rowManager.setData(t.options.data):(t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax")?t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){})):t.rowManager.setData(t.options.data,!1,!0)},mt.prototype.destroy=function(){var t=this.element;for(mt.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach((function(t){t.wipe()})),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();t.firstChild;)t.removeChild(t.firstChild);t.classList.remove("tabulator")},mt.prototype._detectBrowser=function(){var t=navigator.userAgent||navigator.vendor||window.opera;t.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):t.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):t.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))},mt.prototype.blockRedraw=function(){return this.rowManager.blockRedraw()},mt.prototype.restoreRedraw=function(){return this.rowManager.restoreRedraw()},mt.prototype.setDataFromLocalFile=function(t){var e=this;return new Promise((function(o,n){var i=document.createElement("input");i.type="file",i.accept=t||".json,application/json",i.addEventListener("change",(function(t){var r,s=i.files[0],a=new FileReader;a.readAsText(s),a.onload=function(t){try{r=JSON.parse(a.result)}catch(i){return console.warn("File Load Error - File contents is invalid JSON",i),void n(i)}e.setData(r).then((function(t){o(t)})).catch((function(t){o(t)}))},a.onerror=function(t){console.warn("File Load Error - Unable to read file"),n()}})),i.click()}))},mt.prototype.setData=function(t,e,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,o,!1,!0)},mt.prototype._setData=function(t,e,o,n,i){var r=this;return"string"!=typeof t?t?r.rowManager.setData(t,n,i):r.modExists("ajax")&&(r.modules.ajax.getUrl||r.options.ajaxURLGenerator)?"remote"==r.options.pagination&&r.modExists("page",!0)?(r.modules.page.reset(!0,!0),r.modules.page.setPage(1)):r.modules.ajax.loadData(n,i):r.rowManager.setData([],n,i):0==t.indexOf("{")||0==t.indexOf("[")?r.rowManager.setData(JSON.parse(t),n,i):r.modExists("ajax",!0)?(e&&r.modules.ajax.setParams(e),o&&r.modules.ajax.setConfig(o),r.modules.ajax.setUrl(t),"remote"==r.options.pagination&&r.modExists("page",!0)?(r.modules.page.reset(!0,!0),r.modules.page.setPage(1)):r.modules.ajax.loadData(n,i)):void 0},mt.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},mt.prototype.getData=function(t){return!0===t&&(console.warn("passing a boolean to the getData function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getData(t)},mt.prototype.getDataCount=function(t){return!0===t&&(console.warn("passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getDataCount(t)},mt.prototype.searchRows=function(t,e,o){if(this.modExists("filter",!0))return this.modules.filter.search("rows",t,e,o)},mt.prototype.searchData=function(t,e,o){if(this.modExists("filter",!0))return this.modules.filter.search("data",t,e,o)},mt.prototype.getHtml=function(t,e,o){if(this.modExists("export",!0))return this.modules.export.getHtml(t,e,o)},mt.prototype.print=function(t,e,o){if(this.modExists("print",!0))return this.modules.print.printFullscreen(t,e,o)},mt.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},mt.prototype.replaceData=function(t,e,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,o,!0)},mt.prototype.updateData=function(t){var e=this,o=this,n=0;return new Promise((function(i,r){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?t.forEach((function(t){var e=o.rowManager.findRow(t[o.options.index]);e&&(n++,e.updateData(t).then((function(){--n||i()})))})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))},mt.prototype.addData=function(t,e,o){var n=this;return new Promise((function(i,r){n.modExists("ajax")&&n.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?n.rowManager.addRows(t,e,o).then((function(t){var e=[];t.forEach((function(t){e.push(t.getComponent())})),i(e)})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))},mt.prototype.updateOrAddData=function(t){var e=this,o=this,n=[],i=0;return new Promise((function(r,s){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?t.forEach((function(t){var e=o.rowManager.findRow(t[o.options.index]);i++,e?e.updateData(t).then((function(){i--,n.push(e.getComponent()),i||r(n)})):o.rowManager.addRows(t).then((function(t){i--,n.push(t[0].getComponent()),i||r(n)}))})):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))}))},mt.prototype.getRow=function(t){var e=this.rowManager.findRow(t);return e?e.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},mt.prototype.getRowFromPosition=function(t,e){var o=this.rowManager.getRowFromPosition(t,e);return o?o.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},mt.prototype.deleteRow=function(t){var e=this;return new Promise((function(o,n){var i=e,r=0,s=0,a=[];function l(){++r==t.length&&s&&(i.rowManager.reRenderInPosition(),o())}Array.isArray(t)||(t=[t]),t.forEach((function(t){var o=e.rowManager.findRow(t,!0);o?a.push(o):(console.warn("Delete Error - No matching row found:",t),n("Delete Error - No matching row found"),l())})),a.sort((function(t,o){return e.rowManager.rows.indexOf(t)>e.rowManager.rows.indexOf(o)?1:-1})),a.forEach((function(t){t.delete().then((function(){s++,l()})).catch((function(t){l(),n(t)}))}))}))},mt.prototype.addRow=function(t,e,o){var n=this;return new Promise((function(i,r){"string"==typeof t&&(t=JSON.parse(t)),n.rowManager.addRows(t,e,o).then((function(t){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),i(t[0].getComponent())}))}))},mt.prototype.updateOrAddRow=function(t,e){var o=this;return new Promise((function(n,i){var r=o.rowManager.findRow(t);"string"==typeof e&&(e=JSON.parse(e)),r?r.updateData(e).then((function(){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),n(r.getComponent())})).catch((function(t){i(t)})):r=o.rowManager.addRows(e).then((function(t){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),n(t[0].getComponent())})).catch((function(t){i(t)}))}))},mt.prototype.updateRow=function(t,e){var o=this;return new Promise((function(n,i){var r=o.rowManager.findRow(t);"string"==typeof e&&(e=JSON.parse(e)),r?r.updateData(e).then((function(){n(r.getComponent())})).catch((function(t){i(t)})):(console.warn("Update Error - No matching row found:",t),i("Update Error - No matching row found"))}))},mt.prototype.scrollToRow=function(t,e,o){var n=this;return new Promise((function(i,r){var s=n.rowManager.findRow(t);s?n.rowManager.scrollToRow(s,e,o).then((function(){i()})).catch((function(t){r(t)})):(console.warn("Scroll Error - No matching row found:",t),r("Scroll Error - No matching row found"))}))},mt.prototype.moveRow=function(t,e,o){var n=this.rowManager.findRow(t);n?n.moveToRow(e,o):console.warn("Move Error - No matching row found:",t)},mt.prototype.getRows=function(t){return!0===t&&(console.warn("passing a boolean to the getRows function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getComponents(t)},mt.prototype.getRowPosition=function(t,e){var o=this.rowManager.findRow(t);return o?this.rowManager.getRowPosition(o,e):(console.warn("Position Error - No matching row found:",t),!1)},mt.prototype.copyToClipboard=function(t){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(t)},mt.prototype.setColumns=function(t){this.columnManager.setColumns(t)},mt.prototype.getColumns=function(t){return this.columnManager.getComponents(t)},mt.prototype.getColumn=function(t){var e=this.columnManager.findColumn(t);return e?e.getComponent():(console.warn("Find Error - No matching column found:",t),!1)},mt.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},mt.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},mt.prototype.setColumnLayout=function(t){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,t)),!0)},mt.prototype.showColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Show Error - No matching column found:",t),!1;e.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},mt.prototype.hideColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Hide Error - No matching column found:",t),!1;e.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},mt.prototype.toggleColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Visibility Toggle Error - No matching column found:",t),!1;e.visible?e.hide():e.show()},mt.prototype.addColumn=function(t,e,o){var n=this;return new Promise((function(i,r){var s=n.columnManager.findColumn(o);n.columnManager.addColumn(t,e,s).then((function(t){i(t.getComponent())})).catch((function(t){r(t)}))}))},mt.prototype.deleteColumn=function(t){var e=this;return new Promise((function(o,n){var i=e.columnManager.findColumn(t);i?i.delete().then((function(){o()})).catch((function(t){n(t)})):(console.warn("Column Delete Error - No matching column found:",t),n())}))},mt.prototype.updateColumnDefinition=function(t,e){var o=this;return new Promise((function(n,i){var r=o.columnManager.findColumn(t);r?r.updateDefinition(e).then((function(t){n(t)})).catch((function(t){i(t)})):(console.warn("Column Update Error - No matching column found:",t),i())}))},mt.prototype.moveColumn=function(t,e,o){var n=this.columnManager.findColumn(t),i=this.columnManager.findColumn(e);n?i?this.columnManager.moveColumn(n,i,o):console.warn("Move Error - No matching column found:",i):console.warn("Move Error - No matching column found:",t)},mt.prototype.scrollToColumn=function(t,e,o){var n=this;return new Promise((function(i,r){var s=n.columnManager.findColumn(t);s?n.columnManager.scrollToColumn(s,e,o).then((function(){i()})).catch((function(t){r(t)})):(console.warn("Scroll Error - No matching column found:",t),r("Scroll Error - No matching column found"))}))},mt.prototype.setLocale=function(t){this.modules.localize.setLocale(t)},mt.prototype.getLocale=function(){return this.modules.localize.getLocale()},mt.prototype.getLang=function(t){return this.modules.localize.getLang(t)},mt.prototype.redraw=function(t){this.columnManager.redraw(t),this.rowManager.redraw(t)},mt.prototype.setHeight=function(t){"classic"!==this.rowManager.renderMode?(this.options.height=isNaN(t)?t:t+"px",this.element.style.height=this.options.height,this.rowManager.setRenderMode(),this.rowManager.redraw()):console.warn("setHeight function is not available in classic render mode")},mt.prototype.setSort=function(t,e){this.modExists("sort",!0)&&(this.modules.sort.setSort(t,e),this.rowManager.sorterRefresh())},mt.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},mt.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},mt.prototype.setFilter=function(t,e,o,n){this.modExists("filter",!0)&&(this.modules.filter.setFilter(t,e,o,n),this.rowManager.filterRefresh())},mt.prototype.refreshFilter=function(){this.modExists("filter",!0)&&this.rowManager.filterRefresh()},mt.prototype.addFilter=function(t,e,o,n){this.modExists("filter",!0)&&(this.modules.filter.addFilter(t,e,o,n),this.rowManager.filterRefresh())},mt.prototype.getFilters=function(t){if(this.modExists("filter",!0))return this.modules.filter.getFilters(t)},mt.prototype.setHeaderFilterFocus=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Filter Focus Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterFocus(e)}},mt.prototype.getHeaderFilterValue=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(e)return this.modules.filter.getHeaderFilterValue(e);console.warn("Column Filter Error - No matching column found:",t)}},mt.prototype.setHeaderFilterValue=function(t,e){if(this.modExists("filter",!0)){var o=this.columnManager.findColumn(t);if(!o)return console.warn("Column Filter Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterValue(o,e)}},mt.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},mt.prototype.removeFilter=function(t,e,o){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(t,e,o),this.rowManager.filterRefresh())},mt.prototype.clearFilter=function(t){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(t),this.rowManager.filterRefresh())},mt.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},mt.prototype.selectRow=function(t){this.modExists("selectRow",!0)&&(!0===t&&(console.warn("passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'"),t="active"),this.modules.selectRow.selectRows(t))},mt.prototype.deselectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(t)},mt.prototype.toggleSelectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(t)},mt.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},mt.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},mt.prototype.getInvalidCells=function(){if(this.modExists("validate",!0))return this.modules.validate.getInvalidCells()},mt.prototype.clearCellValidation=function(t){var e=this;this.modExists("validate",!0)&&(t||(t=this.modules.validate.getInvalidCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.validate.clearValidation(t._getSelf())})))},mt.prototype.validate=function(t){var e=[];return this.rowManager.rows.forEach((function(t){var o=t.validate();!0!==o&&(e=e.concat(o))})),!e.length||e},mt.prototype.setMaxPage=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(t)},mt.prototype.setPage=function(t){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(t):new Promise((function(t,e){e()}))},mt.prototype.setPageToRow=function(t){var e=this;return new Promise((function(o,n){e.options.pagination&&e.modExists("page")&&(t=e.rowManager.findRow(t))?e.modules.page.setPageToRow(t).then((function(){o()})).catch((function(){n()})):n()}))},mt.prototype.setPageSize=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(t),this.modules.page.setPage(1).then((function(){})).catch((function(){}))},mt.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},mt.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},mt.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},mt.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},mt.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},mt.prototype.setGroupBy=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},mt.prototype.setGroupValues=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupValues=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},mt.prototype.setGroupStartOpen=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=t,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},mt.prototype.setGroupHeader=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=t,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},mt.prototype.getGroups=function(t){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},mt.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},mt.prototype.getEditedCells=function(){if(this.modExists("edit",!0))return this.modules.edit.getEditedCells()},mt.prototype.clearCellEdited=function(t){var e=this;this.modExists("edit",!0)&&(t||(t=this.modules.edit.getEditedCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.edit.clearEdited(t._getSelf())})))},mt.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},mt.prototype.recalc=function(){this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.recalcAll(this.rowManager.activeRows)},mt.prototype.navigatePrev=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&t.nav().prev()},mt.prototype.navigateNext=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&t.nav().next()},mt.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().left())},mt.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().right())},mt.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().up())},mt.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().down())},mt.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},mt.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},mt.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},mt.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},mt.prototype.clearHistory=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.clear()},mt.prototype.download=function(t,e,o,n){this.modExists("download",!0)&&this.modules.download.download(t,e,o,n)},mt.prototype.downloadToTab=function(t,e,o,n){this.modExists("download",!0)&&this.modules.download.download(t,e,o,n,!0)},mt.prototype.tableComms=function(t,e,o,n){this.modules.comms.receive(t,e,o,n)},mt.prototype.moduleBindings={},mt.prototype.extendModule=function(t,e,o){if(mt.prototype.moduleBindings[t]){var n=mt.prototype.moduleBindings[t].prototype[e];if(n)if("object"==(void 0===o?"undefined":it(o)))for(var i in o)n[i]=o[i];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",e)}else console.warn("Module Error - module does not exist:",t)},mt.prototype.registerModule=function(t,e){mt.prototype.moduleBindings[t]=e},mt.prototype.bindModules=function(){for(var t in this.modules={},mt.prototype.moduleBindings)this.modules[t]=new mt.prototype.moduleBindings[t](this)},mt.prototype.modExists=function(t,e){return!!this.modules[t]||(e&&console.error("Tabulator Module Not Installed: "+t),!1)},mt.prototype.helpers={elVisible:function(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)},elOffset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(t){var e=Object.assign(Array.isArray(t)?[]:{},t);for(var o in t)null!=t[o]&&"object"===it(t[o])&&(t[o]instanceof Date?e[o]=new Date(t[o]):e[o]=this.deepClone(t[o]));return e}},mt.prototype.comms={tables:[],register:function(t){mt.prototype.comms.tables.push(t)},deregister:function(t){var e=mt.prototype.comms.tables.indexOf(t);e>-1&&mt.prototype.comms.tables.splice(e,1)},lookupTable:function(t,e){var o,n,i=[];if("string"==typeof t){if((o=document.querySelectorAll(t)).length)for(var r=0;r<o.length;r++)(n=mt.prototype.comms.matchElement(o[r]))&&i.push(n)}else"undefined"!=typeof HTMLElement&&t instanceof HTMLElement||t instanceof mt?(n=mt.prototype.comms.matchElement(t))&&i.push(n):Array.isArray(t)?t.forEach((function(t){i=i.concat(mt.prototype.comms.lookupTable(t))})):e||console.warn("Table Connection Error - Invalid Selector",t);return i},matchElement:function(t){return mt.prototype.comms.tables.find((function(e){return t instanceof mt?e===t:e.element===t}))}},mt.prototype.findTable=function(t){var e=mt.prototype.comms.lookupTable(t,!0);return!(Array.isArray(e)&&!e.length)&&e};var gt=function(t){this.table=t,this.mode=null};gt.prototype.initialize=function(t){this.modes[t]?this.mode=t:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+t),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},gt.prototype.getMode=function(){return this.mode},gt.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),0===this.mode.indexOf("fitData")&&this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},gt.prototype.modes={fitData:function(t){this.table.options.virtualDomHoz?this.table.vdomHoz.fitDataLayoutOverride():t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataTable:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataStretch:function(t){var e=this,o=0,n=this.table.rowManager.element.clientWidth,i=0,r=!1;t.forEach((function(t,n){t.widthFixed||t.reinitializeWidth(),(e.table.options.responsiveLayout?t.modules.responsive.visible:t.visible)&&(r=t),t.visible&&(o+=t.getWidth())})),r?(i=n-o+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),i>0?r.setWidth(i):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(t){var e,o,n=this.table.element.clientWidth,i=0,r=0,s=0,a=[],l=[],u=0,c=0;function h(t){return"string"==typeof t?t.indexOf("%")>-1?n/100*parseInt(t):parseInt(t):t}function d(t,e,o,n){var i=[],r=0,a=0,l=0,u=s,c=0,p=0,f=[];function m(t){return o*(t.column.definition.widthGrow||1)}function g(t){return h(t.width)-o*(t.column.definition.widthShrink||0)}return t.forEach((function(t,r){var s=n?g(t):m(t);t.column.minWidth>=s?i.push(t):t.column.maxWidth&&t.column.maxWidth<s?(t.width=t.column.maxWidth,e-=t.column.maxWidth,(u-=n?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)&&(o=Math.floor(e/u))):(f.push(t),p+=n?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)})),i.length?(i.forEach((function(t){r+=n?t.width-t.column.minWidth:t.column.minWidth,t.width=t.column.minWidth})),c=(a=e-r)-(l=p?Math.floor(a/p):a)*p,c+=d(f,a,l,n)):(c=p?e-Math.floor(e/p)*p:e,f.forEach((function(t){t.width=n?g(t):m(t)}))),c}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(n-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach((function(t){var e,o,n;t.visible&&(e=t.definition.width,o=parseInt(t.minWidth),e?(n=h(e),i+=n>o?n:o,t.definition.widthShrink&&(l.push({column:t,width:n>o?n:o}),u+=t.definition.widthShrink)):(a.push({column:t,width:0}),s+=t.definition.widthGrow||1))})),r=n-i,e=Math.floor(r/s);c=d(a,r,e,!1);a.length&&c>0&&(a[a.length-1].width+=+c),a.forEach((function(t){r-=t.width})),(o=Math.abs(c)+r)>0&&u&&(c=d(l,o,Math.floor(o/u),!0)),l.length&&(l[l.length-1].width-=c),a.forEach((function(t){t.column.setWidth(t.width)})),l.forEach((function(t){t.column.setWidth(t.width)}))}},mt.prototype.registerModule("layout",gt);var bt=function(t){this.table=t,this.locale="default",this.lang=!1,this.bindings={},this.langList={}};bt.prototype.initialize=function(){this.langList=mt.prototype.helpers.deepClone(this.langs)},bt.prototype.setHeaderFilterPlaceholder=function(t){this.langList.default.headerFilters.default=t},bt.prototype.setHeaderFilterColumnPlaceholder=function(t,e){this.langList.default.headerFilters.columns[t]=e,this.lang&&!this.lang.headerFilters.columns[t]&&(this.lang.headerFilters.columns[t]=e)},bt.prototype.installLang=function(t,e){this.langList[t]?this._setLangProp(this.langList[t],e):this.langList[t]=e},bt.prototype._setLangProp=function(t,e){for(var o in e)t[o]&&"object"==it(t[o])?this._setLangProp(t[o],e[o]):t[o]=e[o]},bt.prototype.setLocale=function(t){var e=this;if(!0===(t=t||"default")&&navigator.language&&(t=navigator.language.toLowerCase()),t&&!e.langList[t]){var o=t.split("-")[0];e.langList[o]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",t,o),t=o):(console.warn("Localization Error - Matching locale not found, using default: ",t),t="default")}e.locale=t,e.lang=mt.prototype.helpers.deepClone(e.langList.default||{}),"default"!=t&&function t(e,o){for(var n in e)"object"==it(e[n])?(o[n]||(o[n]={}),t(e[n],o[n])):o[n]=e[n]}(e.langList[t],e.lang),e.table.options.localized.call(e.table,e.locale,e.lang),e._executeBindings()},bt.prototype.getLocale=function(t){return self.locale},bt.prototype.getLang=function(t){return t?this.langList[t]:this.lang},bt.prototype.getText=function(t,e){var o=(t=e?t+"|"+e:t).split("|");return this._getLangElement(o,this.locale)||""},bt.prototype._getLangElement=function(t,e){var o=this.lang;return t.forEach((function(t){var e;o&&(e=o[t],o=void 0!==e&&e)})),o},bt.prototype.bind=function(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)},bt.prototype._executeBindings=function(){var t=this,e=function(e){t.bindings[e].forEach((function(o){o(t.getText(e),t.lang)}))};for(var o in t.bindings)e(o)},bt.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},mt.prototype.registerModule("localize",bt);var vt=function(t){this.table=t};vt.prototype.getConnections=function(t){var e=this,o=[];return mt.prototype.comms.lookupTable(t).forEach((function(t){e.table!==t&&o.push(t)})),o},vt.prototype.send=function(t,e,o,n){var i=this,r=this.getConnections(t);r.forEach((function(t){t.tableComms(i.table.element,e,o,n)})),!r.length&&t&&console.warn("Table Connection Error - No tables matching selector found",t)},vt.prototype.receive=function(t,e,o,n){if(this.table.modExists(e))return this.table.modules[e].commsReceived(t,o,n);console.warn("Inter-table Comms Error - no such module:",e)},mt.prototype.registerModule("comms",vt);var yt=function(t){this.table=t,this.allowedTypes=["","data","download","clipboard","print","htmlOutput"]};yt.prototype.initializeColumn=function(t){var e=this,o=!1,n={};this.allowedTypes.forEach((function(i){var r,s="accessor"+(i.charAt(0).toUpperCase()+i.slice(1));t.definition[s]&&(r=e.lookupAccessor(t.definition[s]))&&(o=!0,n[s]={accessor:r,params:t.definition[s+"Params"]||{}})})),o&&(t.modules.accessor=n)},yt.prototype.lookupAccessor=function(t){var e=!1;switch(void 0===t?"undefined":it(t)){case"string":this.accessors[t]?e=this.accessors[t]:console.warn("Accessor Error - No such accessor found, ignoring: ",t);break;case"function":e=t}return e},yt.prototype.transformRow=function(t,e){var o="accessor"+(e.charAt(0).toUpperCase()+e.slice(1)),n=t.getComponent(),i=mt.prototype.helpers.deepClone(t.data||{});return this.table.columnManager.traverse((function(t){var r,s,a,l;t.modules.accessor&&(s=t.modules.accessor[o]||t.modules.accessor.accessor||!1)&&"undefined"!=(r=t.getFieldValue(i))&&(l=t.getComponent(),a="function"==typeof s.params?s.params(r,i,e,l,n):s.params,t.setFieldValue(i,s.accessor(r,i,e,a,l,n)))})),i},yt.prototype.accessors={},mt.prototype.registerModule("accessor",yt);var wt=function(t){this.table=t,this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=!1,this.errorElement=!1,this.loaderPromise=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};wt.prototype.initialize=function(){var t;this.loaderElement.appendChild(this.msgElement),this.table.options.ajaxLoaderLoading&&("string"==typeof this.table.options.ajaxLoaderLoading?((t=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderLoading.trim(),this.loadingElement=t.content.firstChild):this.loadingElement=this.table.options.ajaxLoaderLoading),this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator,this.table.options.ajaxLoaderError&&("string"==typeof this.table.options.ajaxLoaderError?((t=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderError.trim(),this.errorElement=t.content.firstChild):this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.modExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.modules.page.initializeProgressive(this.progressiveLoad)):console.error("Pagination plugin is required for progressive ajax loading"))},wt.prototype.createLoaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader"),t},wt.prototype.createMsgElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader-msg"),t.setAttribute("role","alert"),t},wt.prototype.setParams=function(t,e){if(e)for(var o in this.params=this.params||{},t)this.params[o]=t[o];else this.params=t},wt.prototype.getParams=function(){return this.params||{}},wt.prototype.setConfig=function(t){if(this._loadDefaultConfig(),"string"==typeof t)this.config.method=t;else for(var e in t)this.config[e]=t[e]},wt.prototype._loadDefaultConfig=function(t){var e=this;if(!e.config||t)for(var o in e.config={},e.defaultConfig)e.config[o]=e.defaultConfig[o]},wt.prototype.setUrl=function(t){this.url=t},wt.prototype.getUrl=function(){return this.url},wt.prototype.loadData=function(t,e){return this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(t,e)},wt.prototype.nextPage=function(t){this.loading||t<(this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.getElement().clientHeight)&&this.table.modules.page.nextPage().then((function(){})).catch((function(){}))},wt.prototype.blockActiveRequest=function(){this.requestOrder++},wt.prototype._loadDataProgressive=function(){return this.table.rowManager.setData([]),this.table.modules.page.setPage(1)},wt.prototype._loadDataStandard=function(t,e){var o=this;return new Promise((function(n,i){o.sendRequest(t).then((function(r){o.table.rowManager.setData(r,t,e).then((function(){n()})).catch((function(t){i(t)}))})).catch((function(t){i(t)}))}))},wt.prototype.generateParamsList=function(t,e){var o=this,n=[];if(e=e||"",Array.isArray(t))t.forEach((function(t,i){n=n.concat(o.generateParamsList(t,e?e+"["+i+"]":i))}));else if("object"===(void 0===t?"undefined":it(t)))for(var i in t)n=n.concat(o.generateParamsList(t[i],e?e+"["+i+"]":i));else n.push({key:e,value:t});return n},wt.prototype.serializeParams=function(t){var e=this.generateParamsList(t),o=[];return e.forEach((function(t){o.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))})),o.join("&")},wt.prototype.sendRequest=function(t){var e,o=this,n=this,i=n.url;return n.requestOrder++,e=n.requestOrder,n._loadDefaultConfig(),new Promise((function(r,s){!1!==n.table.options.ajaxRequesting.call(o.table,n.url,n.params)?(n.loading=!0,t||n.showLoader(),o.loaderPromise(i,n.config,n.params).then((function(t){e===n.requestOrder?(n.table.options.ajaxResponse&&(t=n.table.options.ajaxResponse.call(n.table,n.url,n.params,t)),r(t),n.hideLoader(),n.loading=!1):console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made")})).catch((function(t){console.error("Ajax Load Error: ",t),n.table.options.ajaxError.call(n.table,t),n.showError(),setTimeout((function(){n.hideLoader()}),3e3),n.loading=!1,s(t)}))):s()}))},wt.prototype.showLoader=function(){if("function"==typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading"),this.table.element.appendChild(this.loaderElement)}},wt.prototype.showError=function(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error"),this.table.element.appendChild(this.loaderElement)},wt.prototype.hideLoader=function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)},wt.prototype.defaultConfig={method:"GET"},wt.prototype.defaultURLGenerator=function(t,e,o){return t&&o&&Object.keys(o).length&&(e.method&&"get"!=e.method.toLowerCase()||(e.method="get",t+=(t.includes("?")?"&":"?")+this.modules.ajax.serializeParams(o))),t},wt.prototype.defaultLoaderPromise=function(t,e,o){var n,i=this;return new Promise((function(r,s){if(t=i.urlGenerator.call(i.table,t,e,o),"GET"!=e.method.toUpperCase())if(n="object"===it(i.table.options.ajaxContentType)?i.table.options.ajaxContentType:i.contentTypeFormatters[i.table.options.ajaxContentType]){for(var a in n.headers)e.headers||(e.headers={}),void 0===e.headers[a]&&(e.headers[a]=n.headers[a]);e.body=n.body.call(i,t,e,o)}else console.warn("Ajax Error - Invalid ajaxContentType value:",i.table.options.ajaxContentType);t?(void 0===e.headers&&(e.headers={}),void 0===e.headers.Accept&&(e.headers.Accept="application/json"),void 0===e.headers["X-Requested-With"]&&(e.headers["X-Requested-With"]="XMLHttpRequest"),void 0===e.mode&&(e.mode="cors"),"cors"==e.mode?(void 0===e.headers["Access-Control-Allow-Origin"]&&(e.headers["Access-Control-Allow-Origin"]=window.location.origin),void 0===e.credentials&&(e.credentials="same-origin")):void 0===e.credentials&&(e.credentials="include"),fetch(t,e).then((function(t){t.ok?t.json().then((function(t){r(t)})).catch((function(t){s(t),console.warn("Ajax Load Error - Invalid JSON returned",t)})):(console.error("Ajax Load Error - Connection Error: "+t.status,t.statusText),s(t))})).catch((function(t){console.error("Ajax Load Error - Connection Error: ",t),s(t)}))):(console.warn("Ajax Load Error - No URL Set"),r([]))}))},wt.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function(t,e,o){return JSON.stringify(o)}},form:{headers:{},body:function(t,e,o){var n=this.generateParamsList(o),i=new FormData;return n.forEach((function(t){i.append(t.key,t.value)})),i}}},mt.prototype.registerModule("ajax",wt);var Et=function(t){this._row=t};Et.prototype.getData=function(t){return this._row.getData(t)},Et.prototype.getElement=function(){return this._row.getElement()},Et.prototype.getTable=function(){return this._row.table},Et.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},Et.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},Et.prototype._getSelf=function(){return this._row};var Ct=function(t){this.table=t,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};Ct.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-calcs-holder"),t},Ct.prototype.initialize=function(){this.genColumn=new at({field:"value"},this)},Ct.prototype.registerColumnField=function(){},Ct.prototype.initializeColumn=function(t){var e=t.definition,o={topCalcParams:e.topCalcParams||{},botCalcParams:e.bottomCalcParams||{}};if(e.topCalc){switch(it(e.topCalc)){case"string":this.calculations[e.topCalc]?o.topCalc=this.calculations[e.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.topCalc);break;case"function":o.topCalc=e.topCalc}o.topCalc&&(t.modules.columnCalcs=o,this.topCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(e.bottomCalc){switch(it(e.bottomCalc)){case"string":this.calculations[e.bottomCalc]?o.botCalc=this.calculations[e.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.bottomCalc);break;case"function":o.botCalc=e.bottomCalc}o.botCalc&&(t.modules.columnCalcs=o,this.botCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},Ct.prototype.removeCalcs=function(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),t=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()},Ct.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)},Ct.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},Ct.prototype.scrollHorizontal=function(t){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-t+"px")},Ct.prototype.recalc=function(t){var e;if(this.topInitialized||this.botInitialized){if(this.rowsToData(t),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),e=this.generateRow("top",this.rowsToData(t)),this.topRow=e;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(e.getElement()),e.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),e=this.generateRow("bottom",this.rowsToData(t)),this.botRow=e;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(e.getElement()),e.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}},Ct.prototype.recalcRowGroup=function(t){this.recalcGroup(this.table.modules.groupRows.getRowGroup(t))},Ct.prototype.recalcAll=function(){var t=this;(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalc(this.table.rowManager.activeRows),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs&&table.modules.groupRows.getChildGroups().forEach((function(e){t.recalcGroup(e)})))},Ct.prototype.recalcGroup=function(t){var e,o;t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),o=this.generateRowData("bottom",e),t.calcs.bottom.updateData(o),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),o=this.generateRowData("top",e),t.calcs.top.updateData(o),t.calcs.top.reinitialize()))},Ct.prototype.generateTopRow=function(t){return this.generateRow("top",this.rowsToData(t))},Ct.prototype.generateBottomRow=function(t){return this.generateRow("bottom",this.rowsToData(t))},Ct.prototype.rowsToData=function(t){var e=this,o=[];return t.forEach((function(t){if(o.push(t.getData()),e.table.options.dataTree&&e.table.options.dataTreeChildColumnCalcs&&t.modules.dataTree.open){var n=e.rowsToData(e.table.modules.dataTree.getFilteredTreeChildren(t));o=o.concat(n)}})),o},Ct.prototype.generateRow=function(t,e){var o,n=this,i=this.generateRowData(t,e);return n.table.modExists("mutator")&&n.table.modules.mutator.disable(),o=new ht(i,this,"calc"),n.table.modExists("mutator")&&n.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+t),o.component=!1,o.getComponent=function(){return this.component||(this.component=new Et(this)),this.component},o.generateCells=function(){var e=[];n.table.columnManager.columnsByIndex.forEach((function(i){n.genColumn.setField(i.getField()),n.genColumn.hozAlign=i.hozAlign,i.definition[t+"CalcFormatter"]&&n.table.modExists("format")?n.genColumn.modules.format={formatter:n.table.modules.format.getFormatter(i.definition[t+"CalcFormatter"]),params:i.definition[t+"CalcFormatterParams"]||{}}:n.genColumn.modules.format={formatter:n.table.modules.format.getFormatter("plaintext"),params:{}},n.genColumn.definition.cssClass=i.definition.cssClass;var r=new pt(n.genColumn,o);r.getElement(),r.column=i,r.setWidth(),i.cells.push(r),e.push(r),i.visible||r.hide()})),this.cells=e},o},Ct.prototype.generateRowData=function(t,e){var o,n,i={},r="top"==t?this.topCalcs:this.botCalcs,s="top"==t?"topCalc":"botCalc";return r.forEach((function(t){var r=[];t.modules.columnCalcs&&t.modules.columnCalcs[s]&&(e.forEach((function(e){r.push(t.getFieldValue(e))})),n=s+"Params",o="function"==typeof t.modules.columnCalcs[n]?t.modules.columnCalcs[n](r,e):t.modules.columnCalcs[n],t.setFieldValue(i,t.modules.columnCalcs[s](r,e,o)))})),i},Ct.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},Ct.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},Ct.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},Ct.prototype.getResults=function(){var t=this,e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach((function(o){e[o.getKey()]=t.getGroupResults(o)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e},Ct.prototype.getGroupResults=function(t){var e=this,o=t._getSelf(),n=t.getSubGroups(),i={};return n.forEach((function(t){i[t.getKey()]=e.getGroupResults(t)})),{top:o.calcs.top?o.calcs.top.getData():{},bottom:o.calcs.bottom?o.calcs.bottom.getData():{},groups:i}},Ct.prototype.calculations={avg:function(t,e,o){var n=0,i=void 0!==o.precision?o.precision:2;return t.length&&(n=t.reduce((function(t,e){return Number(t)+Number(e)})),n/=t.length,n=!1!==i?n.toFixed(i):n),parseFloat(n).toString()},max:function(t,e,o){var n=null,i=void 0!==o.precision&&o.precision;return t.forEach((function(t){((t=Number(t))>n||null===n)&&(n=t)})),null!==n?!1!==i?n.toFixed(i):n:""},min:function(t,e,o){var n=null,i=void 0!==o.precision&&o.precision;return t.forEach((function(t){((t=Number(t))<n||null===n)&&(n=t)})),null!==n?!1!==i?n.toFixed(i):n:""},sum:function(t,e,o){var n=0,i=void 0!==o.precision&&o.precision;return t.length&&t.forEach((function(t){t=Number(t),n+=isNaN(t)?0:Number(t)})),!1!==i?n.toFixed(i):n},concat:function(t,e,o){var n=0;return t.length&&(n=t.reduce((function(t,e){return String(t)+String(e)}))),n},count:function(t,e,o){var n=0;return t.length&&t.forEach((function(t){t&&n++})),n}},mt.prototype.registerModule("columnCalcs",Ct);var xt=function(t){this.table=t,this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0};xt.prototype.initialize=function(){var t=this;this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(function(e){var o,n;if(!t.blocked){if(e.preventDefault(),t.customSelection)o=t.customSelection,t.table.options.clipboardCopyFormatter&&(o=t.table.options.clipboardCopyFormatter("plain",o));else{var i=t.table.modules.export.generateExportList(t.table.options.clipboardCopyConfig,t.table.options.clipboardCopyStyled,t.rowRange,"clipboard");o=(n=t.table.modules.export.genereateHTMLTable(i))?t.generatePlainContent(i):"",t.table.options.clipboardCopyFormatter&&(o=t.table.options.clipboardCopyFormatter("plain",o),n=t.table.options.clipboardCopyFormatter("html",n))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",o):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",o),n&&e.clipboardData.setData("text/html",n)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",o),n&&e.originalEvent.clipboardData.setData("text/html",n)),t.table.options.clipboardCopied.call(t.table,o,n),t.reset()}})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(function(e){t.paste(e)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},xt.prototype.reset=function(){this.blocked=!0,this.customSelection=!1},xt.prototype.generatePlainContent=function(t){var e=[];return t.forEach((function(t){var o=[];t.columns.forEach((function(e){var n="";if(e)if("group"===t.type&&(e.value=e.component.getKey()),null===e.value)n="";else switch(it(e.value)){case"object":n=JSON.stringify(e.value);break;case"undefined":n="";break;default:n=e.value}o.push(n)})),e.push(o.join("\t"))})),e.join("\n")},xt.prototype.copy=function(t,e){var o,n;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=t||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((t=document.createRange()).selectNodeContents(this.table.element),(o=window.getSelection()).toString()&&e&&(this.customSelection=o.toString()),o.removeAllRanges(),o.addRange(t)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((n=document.body.createTextRange()).moveToElementText(this.table.element),n.select()),document.execCommand("copy"),o&&o.removeAllRanges())},xt.prototype.setPasteAction=function(t){switch(void 0===t?"undefined":it(t)){case"string":this.pasteAction=this.pasteActions[t],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",t);break;case"function":this.pasteAction=t}},xt.prototype.setPasteParser=function(t){switch(void 0===t?"undefined":it(t)){case"string":this.pasteParser=this.pasteParsers[t],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",t);break;case"function":this.pasteParser=t}},xt.prototype.paste=function(t){var e,o,n;this.checkPaseOrigin(t)&&(e=this.getPasteData(t),(o=this.pasteParser.call(this,e))?(t.preventDefault(),this.table.modExists("mutator")&&(o=this.mutateData(o)),n=this.pasteAction.call(this,o),this.table.options.clipboardPasted.call(this.table,e,o,n)):this.table.options.clipboardPasteError.call(this.table,e))},xt.prototype.mutateData=function(t){var e=this,o=[];return Array.isArray(t)?t.forEach((function(t){o.push(e.table.modules.mutator.transformRow(t,"clipboard"))})):o=t,o},xt.prototype.checkPaseOrigin=function(t){var e=!0;return("DIV"!=t.target.tagName||this.table.modules.edit.currentCell)&&(e=!1),e},xt.prototype.getPasteData=function(t){var e;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e},xt.prototype.pasteParsers={table:function(t){var e=[],o=!0,n=this.table.columnManager.columns,i=[],r=[];return(t=t.split("\n")).forEach((function(t){e.push(t.split("\t"))})),!(!e.length||1===e.length&&e[0].length<2)&&(e[0].forEach((function(t){var e=n.find((function(e){return t&&e.definition.title&&t.trim()&&e.definition.title.trim()===t.trim()}));e?i.push(e):o=!1})),o||(o=!0,i=[],e[0].forEach((function(t){var e=n.find((function(e){return t&&e.field&&t.trim()&&e.field.trim()===t.trim()}));e?i.push(e):o=!1})),o||(i=this.table.columnManager.columnsByIndex)),o&&e.shift(),e.forEach((function(t){var e={};t.forEach((function(t,o){i[o]&&(e[i[o].field]=t)})),r.push(e)})),r)}},xt.prototype.pasteActions={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},mt.prototype.registerModule("clipboard",xt);var Rt=function(t){this.table=t,this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0};Rt.prototype.initialize=function(){var t=null,e=this.table.columnManager.getFirstVisibileColumn(),o=this.table.options;switch(this.field=o.dataTreeChildField,this.indent=o.dataTreeChildIndent,this.elementField=o.dataTreeElementColumn||!!e&&e.field,o.dataTreeBranchElement&&(!0===o.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof o.dataTreeBranchElement?((t=document.createElement("div")).innerHTML=o.dataTreeBranchElement,this.branchEl=t.firstChild):this.branchEl=o.dataTreeBranchElement),o.dataTreeCollapseElement?"string"==typeof o.dataTreeCollapseElement?((t=document.createElement("div")).innerHTML=o.dataTreeCollapseElement,this.collapseEl=t.firstChild):this.collapseEl=o.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),o.dataTreeExpandElement?"string"==typeof o.dataTreeExpandElement?((t=document.createElement("div")).innerHTML=o.dataTreeExpandElement,this.expandEl=t.firstChild):this.expandEl=o.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),it(o.dataTreeStartExpanded)){case"boolean":this.startOpen=function(t,e){return o.dataTreeStartExpanded};break;case"function":this.startOpen=o.dataTreeStartExpanded;break;default:this.startOpen=function(t,e){return o.dataTreeStartExpanded[e]}}},Rt.prototype.initializeRow=function(t){var e=t.getData()[this.field],o=Array.isArray(e),n=o||!o&&"object"===(void 0===e?"undefined":it(e))&&null!==e;!n&&t.modules.dataTree&&t.modules.dataTree.branchEl&&t.modules.dataTree.branchEl.parentNode.removeChild(t.modules.dataTree.branchEl),!n&&t.modules.dataTree&&t.modules.dataTree.controlEl&&t.modules.dataTree.controlEl.parentNode.removeChild(t.modules.dataTree.controlEl),t.modules.dataTree={index:t.modules.dataTree?t.modules.dataTree.index:0,open:!!n&&(t.modules.dataTree?t.modules.dataTree.open:this.startOpen(t.getComponent(),0)),controlEl:!(!t.modules.dataTree||!n)&&t.modules.dataTree.controlEl,branchEl:!(!t.modules.dataTree||!n)&&t.modules.dataTree.branchEl,parent:!!t.modules.dataTree&&t.modules.dataTree.parent,children:n}},Rt.prototype.layoutRow=function(t){var e=(this.elementField?t.getCell(this.elementField):t.getCells()[0]).getElement(),o=t.modules.dataTree;o.branchEl&&(o.branchEl.parentNode&&o.branchEl.parentNode.removeChild(o.branchEl),o.branchEl=!1),o.controlEl&&(o.controlEl.parentNode&&o.controlEl.parentNode.removeChild(o.controlEl),o.controlEl=!1),this.generateControlElement(t,e),t.getElement().classList.add("tabulator-tree-level-"+o.index),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),e.insertBefore(o.branchEl,e.firstChild),this.table.rtl?o.branchEl.style.marginRight=(o.branchEl.offsetWidth+o.branchEl.style.marginLeft)*(o.index-1)+o.index*this.indent+"px":o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):this.table.rtl?e.style.paddingRight=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-right"))+o.index*this.indent+"px":e.style.paddingLeft=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")},Rt.prototype.generateControlElement=function(t,e){var o=this,n=t.modules.dataTree,i=(e=e||t.getCells()[0].getElement(),n.controlEl);!1!==n.children&&(n.open?(n.controlEl=this.collapseEl.cloneNode(!0),n.controlEl.addEventListener("click",(function(e){e.stopPropagation(),o.collapseRow(t)}))):(n.controlEl=this.expandEl.cloneNode(!0),n.controlEl.addEventListener("click",(function(e){e.stopPropagation(),o.expandRow(t)}))),n.controlEl.addEventListener("mousedown",(function(t){t.stopPropagation()})),i&&i.parentNode===e?i.parentNode.replaceChild(n.controlEl,i):e.insertBefore(n.controlEl,e.firstChild))},Rt.prototype.setDisplayIndex=function(t){this.displayIndex=t},Rt.prototype.getDisplayIndex=function(){return this.displayIndex},Rt.prototype.getRows=function(t){var e=this,o=[];return t.forEach((function(t,n){var i;o.push(t),t instanceof ht&&(t.create(),(i=t.modules.dataTree.children).index||!1===i.children||e.getChildren(t).forEach((function(t){t.create(),o.push(t)})))})),o},Rt.prototype.getChildren=function(t,e){var o=this,n=t.modules.dataTree,i=[],r=[];return!1!==n.children&&(n.open||e)&&(Array.isArray(n.children)||(n.children=this.generateChildren(t)),i=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(n.children):n.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(i),i.forEach((function(t){r.push(t),o.getChildren(t).forEach((function(t){r.push(t)}))}))),r},Rt.prototype.generateChildren=function(t){var e=this,o=[],n=t.getData()[this.field];return Array.isArray(n)||(n=[n]),n.forEach((function(n){var i=new ht(n||{},e.table.rowManager);i.create(),i.modules.dataTree.index=t.modules.dataTree.index+1,i.modules.dataTree.parent=t,i.modules.dataTree.children&&(i.modules.dataTree.open=e.startOpen(i.getComponent(),i.modules.dataTree.index)),o.push(i)})),o},Rt.prototype.expandRow=function(t,e){var o=t.modules.dataTree;!1!==o.children&&(o.open=!0,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowExpanded(t.getComponent(),t.modules.dataTree.index))},Rt.prototype.collapseRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open=!1,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowCollapsed(t.getComponent(),t.modules.dataTree.index))},Rt.prototype.toggleRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open?this.collapseRow(t):this.expandRow(t))},Rt.prototype.getTreeParent=function(t){return!!t.modules.dataTree.parent&&t.modules.dataTree.parent.getComponent()},Rt.prototype.getFilteredTreeChildren=function(t){var e=t.modules.dataTree,o=[];return e.children&&(Array.isArray(e.children)||(e.children=this.generateChildren(t)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(e.children):e.children).forEach((function(t){t instanceof ht&&o.push(t)}))),o},Rt.prototype.rowDelete=function(t){var e,o=t.modules.dataTree.parent;o&&(!1!==(e=this.findChildIndex(t,o))&&o.data[this.field].splice(e,1),o.data[this.field].length||delete o.data[this.field],this.initializeRow(o),this.layoutRow(o)),this.table.rowManager.refreshActiveData("tree",!1,!0)},Rt.prototype.addTreeChildRow=function(t,e,o,n){var i=!1;"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(t.data[this.field])||(t.data[this.field]=[],t.modules.dataTree.open=this.startOpen(t.getComponent(),t.modules.dataTree.index)),void 0!==n&&!1!==(i=this.findChildIndex(n,t))&&t.data[this.field].splice(o?i:i+1,0,e),!1===i&&(o?t.data[this.field].unshift(e):t.data[this.field].push(e)),this.initializeRow(t),this.layoutRow(t),this.table.rowManager.refreshActiveData("tree",!1,!0)},Rt.prototype.findChildIndex=function(t,e){var o=this,n=!1;return"object"==(void 0===t?"undefined":it(t))?t instanceof ht?n=t.data:t instanceof ct?n=t._getSelf().data:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&e.modules.dataTree&&(n=e.modules.dataTree.children.find((function(e){return e instanceof ht&&e.element===t})))&&(n=n.data):n=null!=t&&e.data[this.field].find((function(e){return e.data[o.table.options.index]==t})),n&&(Array.isArray(e.data[this.field])&&(n=e.data[this.field].indexOf(n)),-1==n&&(n=!1)),n},Rt.prototype.getTreeChildren=function(t,e,o){var n=this,i=t.modules.dataTree,r=[];return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(t)),i.children.forEach((function(t){t instanceof ht&&(r.push(e?t.getComponent():t),o&&(r=r.concat(n.getTreeChildren(t,e,o))))}))),r},Rt.prototype.checkForRestyle=function(t){t.row.cells.indexOf(t)||t.row.reinitialize()},Rt.prototype.getChildField=function(){return this.field},Rt.prototype.redrawNeeded=function(t){return!!this.field&&void 0!==t[this.field]||!!this.elementField&&void 0!==t[this.elementField]},mt.prototype.registerModule("dataTree",Rt);var Mt=function(t){this.table=t};Mt.prototype.download=function(t,e,o,n,i){var r=this,s=!1;if("function"==typeof t?s=t:r.downloaders[t]?s=r.downloaders[t]:console.warn("Download Error - No such download type found: ",t),s){var a=this.generateExportList(n);s.call(this.table,a,o||{},(function(o,n){i?!0===i?r.triggerDownload(o,n,t,e,!0):i(o):r.triggerDownload(o,n,t,e)}))}},Mt.prototype.generateExportList=function(t){var e=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,t||this.table.options.downloadRowRange,"download"),o=this.table.options.groupHeaderDownload;return o&&!Array.isArray(o)&&(o=[o]),e.forEach((function(t){var e;"group"===t.type&&(e=t.columns[0],o&&o[t.indent]&&(e.value=o[t.indent](e.value,t.component._group.getRowCount(),t.component._group.getData(),t.component)))})),e},Mt.prototype.triggerDownload=function(t,e,o,n,i){var r=document.createElement("a"),s=new Blob([t],{type:e});n=n||"Tabulator."+("function"==typeof o?"txt":o);(s=this.table.options.downloadReady.call(this.table,t,s))&&(i?window.open(window.URL.createObjectURL(s)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(s,n):(r.setAttribute("href",window.URL.createObjectURL(s)),r.setAttribute("download",n),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},Mt.prototype.commsReceived=function(t,e,o){switch(e){case"intercept":this.download(o.type,"",o.options,o.active,o.intercept)}},Mt.prototype.downloaders={csv:function(t,e,o){var n=e&&e.delimiter?e.delimiter:",",i=[],r=[];t.forEach((function(t){var e=[];switch(t.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":t.columns.forEach((function(t,e){t&&1===t.depth&&(r[e]=void 0===t.value||null===t.value?"":'"'+String(t.value).split('"').join('""')+'"')}));break;case"row":t.columns.forEach((function(t){if(t){switch(it(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value=""}e.push('"'+String(t.value).split('"').join('""')+'"')}})),i.push(e.join(n))}})),r.length&&i.unshift(r.join(n)),i=i.join("\n"),e.bom&&(i="\ufeff"+i),o(i,"text/csv")},json:function(t,e,o){var n=[];t.forEach((function(t){var e={};switch(t.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":t.columns.forEach((function(t){t&&(e[t.component.getField()]=t.value)})),n.push(e)}})),o(n=JSON.stringify(n,null,"\t"),"application/json")},pdf:function(t,e,o){var n=[],i=[],r={},s=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=e.jsPDF||{},u=e&&e.title?e.title:"";function c(t,e){var o=[];return t.columns.forEach((function(t){var n;if(t){switch(it(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value=""}n={content:t.value,colSpan:t.width,rowSpan:t.height},e&&(n.styles=e),o.push(n)}else o.push("")})),o}l.orientation||(l.orientation=e.orientation||"landscape"),l.unit||(l.unit="pt"),t.forEach((function(t){switch(t.type){case"header":n.push(c(t));break;case"group":i.push(c(t,s));break;case"calc":i.push(c(t,a));break;case"row":i.push(c(t))}}));var h=new jsPDF(l);e&&e.autoTable&&(r="function"==typeof e.autoTable?e.autoTable(h)||{}:e.autoTable),u&&(r.addPageContent=function(t){h.text(u,40,30)}),r.head=n,r.body=i,h.autoTable(r),e&&e.documentProcessing&&e.documentProcessing(h),o(h.output("arraybuffer"),"application/pdf")},xlsx:function(t,e,o){var n=e.sheetName||"Sheet1",i=XLSX.utils.book_new();function r(){var e=[],o=[],n={},i={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce((function(t,e){return t+(e&&e.width?e.width:1)}),0):0,r:t.length}};return t.forEach((function(t,n){var i=[];t.columns.forEach((function(t,e){t?(i.push(t.value instanceof Date||"object"!==it(t.value)?t.value:JSON.stringify(t.value)),(t.width>1||t.height>-1)&&o.push({s:{r:n,c:e},e:{r:n+t.height-1,c:e+t.width-1}})):i.push("")})),e.push(i)})),XLSX.utils.sheet_add_aoa(n,e),n["!ref"]=XLSX.utils.encode_range(i),o.length&&(n["!merges"]=o),n}if(i.SheetNames=[],i.Sheets={},e.sheetOnly)o(r());else{if(e.sheets)for(var s in e.sheets)!0===e.sheets[s]?(i.SheetNames.push(s),i.Sheets[s]=r()):(i.SheetNames.push(s),this.modules.comms.send(e.sheets[s],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(t){i.Sheets[s]=t}}));else i.SheetNames.push(n),i.Sheets[n]=r();e.documentProcessing&&(i=e.documentProcessing(i)),o(function(t){for(var e=new ArrayBuffer(t.length),o=new Uint8Array(e),n=0;n!=t.length;++n)o[n]=255&t.charCodeAt(n);return e}(XLSX.write(i,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function(t,e,o){this.modExists("export",!0)&&o(this.modules.export.genereateHTMLTable(t),"text/html")}},mt.prototype.registerModule("download",Mt);var Lt=function(t){this.table=t,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[]};Lt.prototype.initializeColumn=function(t){var e=this,o={editor:!1,blocked:!1,check:t.definition.editable,params:t.definition.editorParams||{}};switch(it(t.definition.editor)){case"string":"tick"===t.definition.editor&&(t.definition.editor="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),e.editors[t.definition.editor]?o.editor=e.editors[t.definition.editor]:console.warn("Editor Error - No such editor found: ",t.definition.editor);break;case"function":o.editor=t.definition.editor;break;case"boolean":!0===t.definition.editor&&("function"!=typeof t.definition.formatter?("tick"===t.definition.formatter&&(t.definition.formatter="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),e.editors[t.definition.formatter]?o.editor=e.editors[t.definition.formatter]:o.editor=e.editors.input):console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",t.definition.formatter))}o.editor&&(t.modules.edit=o)},Lt.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},Lt.prototype.clearEditor=function(t){var e,o=this.currentCell;if(this.invalidEdit=!1,o){for(this.currentCell=!1,e=o.getElement(),t?o.validate():e.classList.remove("tabulator-validation-fail"),e.classList.remove("tabulator-editing");e.firstChild;)e.removeChild(e.firstChild);o.row.getElement().classList.remove("tabulator-row-editing")}},Lt.prototype.cancelEdit=function(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(!0),t.setValueActual(t.getValue()),t.cellRendered(),("textarea"==t.column.definition.editor||t.column.definition.variableHeight)&&t.row.normalizeHeight(!0),t.column.cellEvents.cellEditCancelled&&t.column.cellEvents.cellEditCancelled.call(this.table,e),this.table.options.cellEditCancelled.call(this.table,e)}},Lt.prototype.bindEditor=function(t){var e=this,o=t.getElement(!0);o.setAttribute("tabindex",0),o.addEventListener("click",(function(t){o.classList.contains("tabulator-editing")||o.focus({preventScroll:!0})})),o.addEventListener("mousedown",(function(t){2===t.button?t.preventDefault():e.mouseClick=!0})),o.addEventListener("focus",(function(o){e.recursionBlock||e.edit(t,o,!1)}))},Lt.prototype.focusCellNoEvent=function(t,e){this.recursionBlock=!0,e&&"ie"===this.table.browser||t.getElement().focus({preventScroll:!0}),this.recursionBlock=!1},Lt.prototype.editCell=function(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)},Lt.prototype.focusScrollAdjust=function(t){if("virtual"==this.table.rowManager.getRenderMode()){var e=this.table.rowManager.element.scrollTop,o=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,n=t.row.getElement();n.offsetTop,n.offsetTop<e?this.table.rowManager.element.scrollTop-=e-n.offsetTop:n.offsetTop+n.offsetHeight>o&&(this.table.rowManager.element.scrollTop+=n.offsetTop+n.offsetHeight-o);var i=this.table.rowManager.element.scrollLeft,r=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,s=t.getElement();s.offsetLeft,this.table.modExists("frozenColumns")&&(i+=parseInt(this.table.modules.frozenColumns.leftMargin),r-=parseInt(this.table.modules.frozenColumns.rightMargin)),this.table.options.virtualDomHoz&&(i-=parseInt(this.table.vdomHoz.vDomPadLeft),r-=parseInt(this.table.vdomHoz.vDomPadLeft)),s.offsetLeft<i?this.table.rowManager.element.scrollLeft-=i-s.offsetLeft:s.offsetLeft+s.offsetWidth>r&&(this.table.rowManager.element.scrollLeft+=s.offsetLeft+s.offsetWidth-r)}},Lt.prototype.edit=function(t,e,o){var n,i,r,s=this,a=!0,l=function(){},u=t.getElement();if(!this.currentCell){if(t.column.modules.edit.blocked)return this.mouseClick=!1,u.blur(),!1;switch(e&&e.stopPropagation(),it(t.column.modules.edit.check)){case"function":a=t.column.modules.edit.check(t.getComponent());break;case"boolean":a=t.column.modules.edit.check}if(a||o){if(s.cancelEdit(),s.currentCell=t,this.focusScrollAdjust(t),i=t.getComponent(),this.mouseClick&&(this.mouseClick=!1,t.column.cellEvents.cellClick&&t.column.cellEvents.cellClick.call(this.table,e,i)),t.column.cellEvents.cellEditing&&t.column.cellEvents.cellEditing.call(this.table,i),s.table.options.cellEditing.call(this.table,i),r="function"==typeof t.column.modules.edit.params?t.column.modules.edit.params(i):t.column.modules.edit.params,!1===(n=t.column.modules.edit.editor.call(s,i,(function(t){l=t}),(function(e){if(s.currentCell===t){var o=!0;return t.column.modules.validate&&s.table.modExists("validate")&&"manual"!=s.table.options.validationMode&&(o=s.table.modules.validate.validate(t.column.modules.validate,t,e)),!0===o||"highlight"===s.table.options.validationMode?(s.clearEditor(),t.modules.edit||(t.modules.edit={}),t.modules.edit.edited=!0,-1==s.editedCells.indexOf(t)&&s.editedCells.push(t),t.setValue(e,!0),s.table.options.dataTree&&s.table.modExists("dataTree")&&s.table.modules.dataTree.checkForRestyle(t),!0===o||(u.classList.add("tabulator-validation-fail"),s.table.options.validationFailed.call(s.table,t.getComponent(),e,o),!1)):(s.invalidEdit=!0,u.classList.add("tabulator-validation-fail"),s.focusCellNoEvent(t,!0),l(),s.table.options.validationFailed.call(s.table,t.getComponent(),e,o),!1)}}),(function(){s.currentCell===t&&(s.cancelEdit(),s.table.options.dataTree&&s.table.modExists("dataTree")&&s.table.modules.dataTree.checkForRestyle(t))}),r)))return u.blur(),!1;if(!(n instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",n),u.blur(),!1;for(u.classList.add("tabulator-editing"),t.row.getElement().classList.add("tabulator-row-editing");u.firstChild;)u.removeChild(u.firstChild);u.appendChild(n),l();for(var c=u.children,h=0;h<c.length;h++)c[h].addEventListener("click",(function(t){t.stopPropagation()}));return!0}return this.mouseClick=!1,u.blur(),!1}this.invalidEdit||this.cancelEdit()},Lt.prototype.maskInput=function(t,e){var o=e.mask,n=void 0!==e.maskLetterChar?e.maskLetterChar:"A",i=void 0!==e.maskNumberChar?e.maskNumberChar:"9",r=void 0!==e.maskWildcardChar?e.maskWildcardChar:"*";function s(e){var a=o[e];void 0!==a&&a!==r&&a!==n&&a!==i&&(t.value=t.value+""+a,s(e+1))}t.addEventListener("keydown",(function(e){var s=t.value.length,a=e.key;if(e.keyCode>46){if(s>=o.length)return e.preventDefault(),e.stopPropagation(),!1;switch(o[s]){case n:if(a.toUpperCase()==a.toLowerCase())return e.preventDefault(),e.stopPropagation(),!1;break;case i:if(isNaN(a))return e.preventDefault(),e.stopPropagation(),!1;break;case r:break;default:if(a!==o[s])return e.preventDefault(),e.stopPropagation(),!1}}})),t.addEventListener("keyup",(function(o){o.keyCode>46&&e.maskAutoFill&&s(t.value.length)})),t.placeholder||(t.placeholder=o),e.maskAutoFill&&s(t.value.length)},Lt.prototype.getEditedCells=function(){var t=[];return this.editedCells.forEach((function(e){t.push(e.getComponent())})),t},Lt.prototype.clearEdited=function(t){var e;t.modules.edit&&t.modules.edit.edited&&(t.modules.edit.edited=!1,t.modules.validate&&(t.modules.validate.invalid=!1)),(e=this.editedCells.indexOf(t))>-1&&this.editedCells.splice(e,1)},Lt.prototype.editors={input:function(t,e,o,n,i){var r=t.getValue(),s=document.createElement("input");if(s.setAttribute("type",i.search?"search":"text"),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",i.elementAttributes&&"object"==it(i.elementAttributes))for(var a in i.elementAttributes)"+"==a.charAt(0)?(a=a.slice(1),s.setAttribute(a,s.getAttribute(a)+i.elementAttributes["+"+a])):s.setAttribute(a,i.elementAttributes[a]);function l(t){null==r&&""!==s.value||s.value!==r?o(s.value)&&(r=s.value):n()}return s.value=void 0!==r?r:"",e((function(){s.focus({preventScroll:!0}),s.style.height="100%"})),s.addEventListener("change",l),s.addEventListener("blur",l),s.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:l();break;case 27:n();break;case 35:case 36:t.stopPropagation()}})),i.mask&&this.table.modules.edit.maskInput(s,i),s},textarea:function(t,e,o,n,i){var r=t.getValue(),s=i.verticalNavigation||"hybrid",a=String(null!=r?r:"");(a.match(/(?:\r\n|\r|\n)/g)||[]).length;var l=document.createElement("textarea"),u=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",i.elementAttributes&&"object"==it(i.elementAttributes))for(var c in i.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),l.setAttribute(c,l.getAttribute(c)+i.elementAttributes["+"+c])):l.setAttribute(c,i.elementAttributes[c]);function h(e){null==r&&""!==l.value||l.value!==r?(o(l.value)&&(r=l.value),setTimeout((function(){t.getRow().normalizeHeight()}),300)):n()}return l.value=a,e((function(){l.focus({preventScroll:!0}),l.style.height="100%",l.scrollHeight,l.style.height=l.scrollHeight+"px",t.getRow().normalizeHeight()})),l.addEventListener("change",h),l.addEventListener("blur",h),l.addEventListener("keyup",(function(){l.style.height="";var e=l.scrollHeight;l.style.height=e+"px",e!=u&&(u=e,t.getRow().normalizeHeight())})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 27:n();break;case 38:("editor"==s||"hybrid"==s&&l.selectionStart)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 40:("editor"==s||"hybrid"==s&&l.selectionStart!==l.value.length)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation()}})),i.mask&&this.table.modules.edit.maskInput(l,i),l},number:function(t,e,o,n,i){var r=t.getValue(),s=i.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),void 0!==i.max&&a.setAttribute("max",i.max),void 0!==i.min&&a.setAttribute("min",i.min),void 0!==i.step&&a.setAttribute("step",i.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",i.elementAttributes&&"object"==it(i.elementAttributes))for(var l in i.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+i.elementAttributes["+"+l])):a.setAttribute(l,i.elementAttributes[l]);a.value=r;var u=function(t){c()};function c(){var t=a.value;isNaN(t)||""===t||(t=Number(t)),t!==r?o(t)&&(r=t):n()}return e((function(){a.removeEventListener("blur",u),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",u)})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c();break;case 27:n();break;case 38:case 40:"editor"==s&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation()}})),i.mask&&this.table.modules.edit.maskInput(a,i),a},range:function(t,e,o,n,i){var r=t.getValue(),s=document.createElement("input");if(s.setAttribute("type","range"),void 0!==i.max&&s.setAttribute("max",i.max),void 0!==i.min&&s.setAttribute("min",i.min),void 0!==i.step&&s.setAttribute("step",i.step),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",i.elementAttributes&&"object"==it(i.elementAttributes))for(var a in i.elementAttributes)"+"==a.charAt(0)?(a=a.slice(1),s.setAttribute(a,s.getAttribute(a)+i.elementAttributes["+"+a])):s.setAttribute(a,i.elementAttributes[a]);function l(){var t=s.value;isNaN(t)||""===t||(t=Number(t)),t!=r?o(t)&&(r=t):n()}return s.value=r,e((function(){s.focus({preventScroll:!0}),s.style.height="100%"})),s.addEventListener("blur",(function(t){l()})),s.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:l();break;case 27:n()}})),s},select:function(t,e,o,n,i){var r=this,s=this,a=t.getElement(),l=t.getValue(),u=i.verticalNavigation||"editor",c=void 0!==l||null===l?Array.isArray(l)?l:[l]:void 0!==i.defaultValue?i.defaultValue:[],h=document.createElement("input"),d=document.createElement("div"),p=i.multiselect,f=[],m={},g=[],b=[],v=!0,y=!1,w="",E=null;function C(e){var o,n={},i=s.table.getData();return(o=e?s.table.columnManager.getColumnByField(e):t.getColumn()._getSelf())?i.forEach((function(t){var e=o.getFieldValue(t);null!=e&&""!==e&&(n[e]=!0)})):console.warn("unable to find matching column to create select lookup list:",e),Object.keys(n)}function x(e,o){var n=[],r=[];function s(t){t={label:t.label,value:t.value,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1};return o.indexOf(t.value)>-1&&M(t),n.push(t),r.push(t),t}if("function"==typeof e&&(e=e(t)),Array.isArray(e))e.forEach((function(t){var e;"object"===(void 0===t?"undefined":it(t))?t.options?(e={label:t.label,group:!0,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1},r.push(e),t.options.forEach((function(t){s(t)}))):s(t):(e={label:t,value:t,element:!1},o.indexOf(e.value)>-1&&M(e),n.push(e),r.push(e))}));else for(var a in e){var l={label:e[a],value:a,element:!1};o.indexOf(l.value)>-1&&M(l),n.push(l),r.push(l)}i.sortValuesList&&(n.sort((function(t,e){return t.label<e.label?-1:t.label>e.label?1:0})),r.sort((function(t,e){return t.label<e.label?-1:t.label>e.label?1:0})),"asc"!==i.sortValuesList&&(n.reverse(),r.reverse())),f=n,g=r,function(){for(;d.firstChild;)d.removeChild(d.firstChild);g.forEach((function(e){var o=e.element;if(!o){if(o=document.createElement("div"),e.label=i.listItemFormatter?i.listItemFormatter(e.value,e.label,t,o,e.itemParams):e.label,e.group?(o.classList.add("tabulator-edit-select-list-group"),o.tabIndex=0,o.innerHTML=""===e.label?"&nbsp;":e.label):(o.classList.add("tabulator-edit-select-list-item"),o.tabIndex=0,o.innerHTML=""===e.label?"&nbsp;":e.label,o.addEventListener("click",(function(){y=!0,setTimeout((function(){y=!1}),10),p?(T(e),h.focus()):k(e)})),b.indexOf(e)>-1&&o.classList.add("active")),e.elementAttributes&&"object"==it(e.elementAttributes))for(var n in e.elementAttributes)"+"==n.charAt(0)?(n=n.slice(1),o.setAttribute(n,h.getAttribute(n)+e.elementAttributes["+"+n])):o.setAttribute(n,e.elementAttributes[n]);o.addEventListener("mousedown",(function(){v=!1,setTimeout((function(){v=!0}),10)})),e.element=o}d.appendChild(o)}))}()}function R(t,e){!p&&m&&m.element&&m.element.classList.remove("active"),m&&m.element&&m.element.classList.remove("focused"),m=t,t.element&&(t.element.classList.add("focused"),e&&t.element.classList.add("active")),t&&t.element&&t.element.scrollIntoView&&t.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function M(t){-1==b.indexOf(t)&&(b.push(t),R(t,!0)),S()}function L(t){var e=b[t];t>-1&&(b.splice(t,1),e.element&&e.element.classList.remove("active"))}function T(t){t||(t=m);var e=b.indexOf(t);e>-1?L(e):(!0!==p&&b.length>=p&&L(0),M(t)),S()}function k(t){A(),t||(t=m),t&&(h.value=t.label,o(t.value)),c=[t.value]}function _(t){t||A();var e=[];b.forEach((function(t){e.push(t.value)})),c=e,o(e)}function S(){var t=[];b.forEach((function(e){t.push(e.label)})),h.value=t.join(", "),!1===s.currentCell&&_(!0)}function D(){A(),n()}function A(){d.parentNode&&d.parentNode.removeChild(d),s.table.rowManager.element.removeEventListener("scroll",D)}if((Array.isArray(i)||!Array.isArray(i)&&"object"===(void 0===i?"undefined":it(i))&&!i.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),i={values:i}),h.setAttribute("type","text"),h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",h.style.cursor="default",h.readOnly=0!=this.currentCell,i.elementAttributes&&"object"==it(i.elementAttributes))for(var P in i.elementAttributes)"+"==P.charAt(0)?(P=P.slice(1),h.setAttribute(P,h.getAttribute(P)+i.elementAttributes["+"+P])):h.setAttribute(P,i.elementAttributes[P]);return h.value=void 0!==l||null===l?l:"",h.addEventListener("search",(function(t){h.value||(!function(){for(var t=b.length,e=0;e<t;e++)L(0)}(),_())})),h.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=f.indexOf(m),("editor"==u||"hybrid"==u&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e>0&&R(f[e-1],!p));break;case 40:e=f.indexOf(m),("editor"==u||"hybrid"==u&&e<f.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<f.length-1&&R(-1==e?f[0]:f[e+1],!p));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault();break;case 13:p?T():k();break;case 27:D();break;case 9:break;default:!1===s.currentCell&&t.preventDefault(),t.keyCode>=38&&t.keyCode<=90&&function(t){clearTimeout(E);var e=String.fromCharCode(event.keyCode).toLowerCase();w+=e.toLowerCase();var o=f.find((function(t){return void 0!==t.label&&t.label.toLowerCase().startsWith(w)}));o&&R(o,!p),E=setTimeout((function(){w=""}),800)}(t.keyCode)}})),h.addEventListener("blur",(function(t){v&&(p?_():D())})),h.addEventListener("focus",(function(t){y||function(){if(b=[],!d.parentNode){!0===i.values?x(C(),c):"string"==typeof i.values?x(C(i.values),c):x(i.values||[],c);var t=mt.prototype.helpers.elOffset(a);d.style.minWidth=a.offsetWidth+"px",d.style.top=t.top+a.offsetHeight+"px",d.style.left=t.left+"px",d.addEventListener("mousedown",(function(t){v=!1,setTimeout((function(){v=!0}),10)})),document.body.appendChild(d)}}()})),(d=document.createElement("div")).classList.add("tabulator-edit-select-list"),e((function(){h.style.height="100%",h.focus({preventScroll:!0})})),setTimeout((function(){r.table.rowManager.element.addEventListener("scroll",D)}),10),h},autocomplete:function(t,e,o,n,i){var r=this,s=this,a=t.getElement(),l=t.getValue(),u=i.verticalNavigation||"editor",c=void 0!==l||null===l?l:void 0!==i.defaultValue?i.defaultValue:"",h=document.createElement("input"),d=document.createElement("div"),p=[],f=!1,m=!0,g=!1;if(h.setAttribute("type","search"),h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",i.elementAttributes&&"object"==it(i.elementAttributes))for(var b in i.elementAttributes)"+"==b.charAt(0)?(b=b.slice(1),h.setAttribute(b,h.getAttribute(b)+i.elementAttributes["+"+b])):h.setAttribute(b,i.elementAttributes[b]);function v(){!0===i.values?g=y():"string"==typeof i.values&&(g=y(i.values))}function y(e){var o,n={},r=s.table.getData();return(o=e?s.table.columnManager.getColumnByField(e):t.getColumn()._getSelf())?(r.forEach((function(t){var e=o.getFieldValue(t);null!=e&&""!==e&&(n[e]=!0)})),n=i.sortValuesList?"asc"==i.sortValuesList?Object.keys(n).sort():Object.keys(n).sort().reverse():Object.keys(n)):console.warn("unable to find matching column to create autocomplete lookup list:",e),n}function w(t,e){var o,n,r=[];o=g||(i.values||[]),i.searchFunc?(r=i.searchFunc(t,o))instanceof Promise?(E(void 0!==i.searchingPlaceholder?i.searchingPlaceholder:"Searching..."),r.then((function(t){R(C(t),e)})).catch((function(t){console.err("error in autocomplete search promise:",t)}))):R(C(r),e):(n=C(o),""===t?i.showListOnEmpty&&(r=n):n.forEach((function(e){null===e.value&&void 0===e.value||(String(e.value).toLowerCase().indexOf(String(t).toLowerCase())>-1||String(e.title).toLowerCase().indexOf(String(t).toLowerCase())>-1)&&r.push(e)})),R(r,e))}function E(t){var e=document.createElement("div");x(),!1!==t&&(e.classList.add("tabulator-edit-select-list-notice"),e.tabIndex=0,t instanceof Node?e.appendChild(t):e.innerHTML=t,d.appendChild(e))}function C(t){var e=[];if(Array.isArray(t))t.forEach((function(t){var o={};"object"===(void 0===t?"undefined":it(t))?(o.title=i.listItemFormatter?i.listItemFormatter(t.value,t.label):t.label,o.value=t.value):(o.title=i.listItemFormatter?i.listItemFormatter(t,t):t,o.value=t),e.push(o)}));else for(var o in t){var n={title:i.listItemFormatter?i.listItemFormatter(o,t[o]):t[o],value:o};e.push(n)}return e}function x(){for(;d.firstChild;)d.removeChild(d.firstChild)}function R(t,e){t.length?function(t,e){var o=!1;x(),(p=t).forEach((function(t){var n=t.element;n||((n=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),n.tabIndex=0,n.innerHTML=t.title,n.addEventListener("click",(function(e){L(t),M()})),n.addEventListener("mousedown",(function(t){m=!1,setTimeout((function(){m=!0}),10)})),t.element=n,e&&t.value==l&&(h.value=t.title,t.element.classList.add("active"),o=!0),t===f&&(t.element.classList.add("active"),o=!0)),d.appendChild(n)})),o||L(!1)}(t,e):i.emptyPlaceholder&&E(i.emptyPlaceholder)}function M(){T(),f?l!==f.value?(l=f.value,h.value=f.title,o(f.value)):n():i.freetext||i.allowEmpty&&""===h.value?(l=h.value,o(h.value)):n()}function L(t,e){f&&f.element&&f.element.classList.remove("active"),f=t,t&&t.element&&t.element.classList.add("active"),t&&t.element&&t.element.scrollIntoView&&t.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function T(){d.parentNode&&d.parentNode.removeChild(d),s.table.rowManager.element.removeEventListener("scroll",k)}function k(){T(),n()}return d.classList.add("tabulator-edit-select-list"),d.addEventListener("mousedown",(function(t){m=!1,setTimeout((function(){m=!0}),10)})),h.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=p.indexOf(f),("editor"==u||"hybrid"==u&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),L(e>0&&p[e-1]));break;case 40:e=p.indexOf(f),("editor"==u||"hybrid"==u&&e<p.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<p.length-1&&L(-1==e?p[0]:p[e+1]));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation();break;case 13:M();break;case 27:k();break;case 36:case 35:t.stopImmediatePropagation()}})),h.addEventListener("keyup",(function(t){switch(t.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:w(h.value)}})),h.addEventListener("search",(function(t){w(h.value)})),h.addEventListener("blur",(function(t){m&&M()})),h.addEventListener("focus",(function(t){var e=c;v(),function(){if(!d.parentNode){for(console.log("show",c);d.firstChild;)d.removeChild(d.firstChild);var t=mt.prototype.helpers.elOffset(a);d.style.minWidth=a.offsetWidth+"px",d.style.top=t.top+a.offsetHeight+"px",d.style.left=t.left+"px",document.body.appendChild(d)}}(),h.value=e,w(e,!0)})),e((function(){h.style.height="100%",h.focus({preventScroll:!0})})),i.mask&&this.table.modules.edit.maskInput(h,i),setTimeout((function(){r.table.rowManager.element.addEventListener("scroll",k)}),10),v(),h.value=c,w(c,!0),h},star:function(t,e,o,n,i){var r=this,s=t.getElement(),a=t.getValue(),l=s.getElementsByTagName("svg").length||5,u=s.getElementsByTagName("svg")[0]?s.getElementsByTagName("svg")[0].getAttribute("width"):14,c=[],h=document.createElement("div"),d=document.createElementNS("http://www.w3.org/2000/svg","svg");function p(t){c.forEach((function(e,o){o<t?("ie"==r.table.browser?e.setAttribute("class","tabulator-star-active"):e.classList.replace("tabulator-star-inactive","tabulator-star-active"),e.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==r.table.browser?e.setAttribute("class","tabulator-star-inactive"):e.classList.replace("tabulator-star-active","tabulator-star-inactive"),e.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function f(t){var e=document.createElement("span"),n=d.cloneNode(!0);c.push(n),e.addEventListener("mouseenter",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),p(t)})),e.addEventListener("mousemove",(function(t){t.stopPropagation(),t.stopImmediatePropagation()})),e.addEventListener("click",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),o(t),s.blur()})),e.appendChild(n),h.appendChild(e)}function m(t){a=t,p(t)}if(s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",h.style.verticalAlign="middle",h.style.display="inline-block",h.style.padding="4px",d.setAttribute("width",u),d.setAttribute("height",u),d.setAttribute("viewBox","0 0 512 512"),d.setAttribute("xml:space","preserve"),d.style.padding="0 1px",i.elementAttributes&&"object"==it(i.elementAttributes))for(var g in i.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),h.setAttribute(g,h.getAttribute(g)+i.elementAttributes["+"+g])):h.setAttribute(g,i.elementAttributes[g]);for(var b=1;b<=l;b++)f(b);return p(a=Math.min(parseInt(a),l)),h.addEventListener("mousemove",(function(t){p(0)})),h.addEventListener("click",(function(t){o(0)})),s.addEventListener("blur",(function(t){n()})),s.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:m(a+1);break;case 37:m(a-1);break;case 13:o(a);break;case 27:n()}})),h},progress:function(t,e,o,n,i){var r,s,a=t.getElement(),l=void 0===i.max?a.getElementsByTagName("div")[0].getAttribute("max")||100:i.max,u=void 0===i.min?a.getElementsByTagName("div")[0].getAttribute("min")||0:i.min,c=(l-u)/100,h=t.getValue()||0,d=document.createElement("div"),p=document.createElement("div");function f(){var t=window.getComputedStyle(a,null),e=c*Math.round(p.offsetWidth/((a.clientWidth-parseInt(t.getPropertyValue("padding-left"))-parseInt(t.getPropertyValue("padding-right")))/100))+u;o(e),a.setAttribute("aria-valuenow",e),a.setAttribute("aria-label",h)}if(d.style.position="absolute",d.style.right="0",d.style.top="0",d.style.bottom="0",d.style.width="5px",d.classList.add("tabulator-progress-handle"),p.style.display="inline-block",p.style.position="relative",p.style.height="100%",p.style.backgroundColor="#488CE9",p.style.maxWidth="100%",p.style.minWidth="0%",i.elementAttributes&&"object"==it(i.elementAttributes))for(var m in i.elementAttributes)"+"==m.charAt(0)?(m=m.slice(1),p.setAttribute(m,p.getAttribute(m)+i.elementAttributes["+"+m])):p.setAttribute(m,i.elementAttributes[m]);return a.style.padding="4px 4px",h=Math.min(parseFloat(h),l),h=Math.max(parseFloat(h),u),h=Math.round((h-u)/c),p.style.width=h+"%",a.setAttribute("aria-valuemin",u),a.setAttribute("aria-valuemax",l),p.appendChild(d),d.addEventListener("mousedown",(function(t){r=t.screenX,s=p.offsetWidth})),d.addEventListener("mouseover",(function(){d.style.cursor="ew-resize"})),a.addEventListener("mousemove",(function(t){r&&(p.style.width=s+t.screenX-r+"px")})),a.addEventListener("mouseup",(function(t){r&&(t.stopPropagation(),t.stopImmediatePropagation(),r=!1,s=!1,f())})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:t.preventDefault(),p.style.width=p.clientWidth+a.clientWidth/100+"px";break;case 37:t.preventDefault(),p.style.width=p.clientWidth-a.clientWidth/100+"px";break;case 9:case 13:f();break;case 27:n()}})),a.addEventListener("blur",(function(){n()})),p},tickCross:function(t,e,o,n,i){var r=t.getValue(),s=document.createElement("input"),a=i.tristate,l=void 0===i.indeterminateValue?null:i.indeterminateValue,u=!1;if(s.setAttribute("type","checkbox"),s.style.marginTop="5px",s.style.boxSizing="border-box",i.elementAttributes&&"object"==it(i.elementAttributes))for(var c in i.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),s.setAttribute(c,s.getAttribute(c)+i.elementAttributes["+"+c])):s.setAttribute(c,i.elementAttributes[c]);function h(t){return a?t?u?l:s.checked:s.checked&&!u?(s.checked=!1,s.indeterminate=!0,u=!0,l):(u=!1,s.checked):s.checked}return s.value=r,!a||void 0!==r&&r!==l&&""!==r||(u=!0,s.indeterminate=!0),"firefox"!=this.table.browser&&e((function(){s.focus({preventScroll:!0})})),s.checked=!0===r||"true"===r||"True"===r||1===r,e((function(){s.focus()})),s.addEventListener("change",(function(t){o(h())})),s.addEventListener("blur",(function(t){o(h(!0))})),s.addEventListener("keydown",(function(t){13==t.keyCode&&o(h()),27==t.keyCode&&n()})),s}},mt.prototype.registerModule("edit",Lt);var Tt=function(t,e,o,n){this.type=t,this.columns=e,this.component=o||!1,this.indent=n||0},kt=function(t,e,o,n,i){this.value=t,this.component=e||!1,this.width=o,this.height=n,this.depth=i},_t=function(t){this.table=t,this.config={},this.cloneTableStyle=!0,this.colVisProp=""};_t.prototype.generateExportList=function(t,e,o,n){this.cloneTableStyle=e,this.config=t||{},this.colVisProp=n;var i=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],r=this.bodyToExportRows(this.rowLookup(o));return i.concat(r)},_t.prototype.genereateTable=function(t,e,o,n){var i=this.generateExportList(t,e,o,n);return this.genereateTableElement(i)},_t.prototype.rowLookup=function(t){var e=this,o=[];if("function"==typeof t)t.call(this.table).forEach((function(t){(t=e.table.rowManager.findRow(t))&&o.push(t)}));else switch(t){case!0:case"visible":o=this.table.rowManager.getVisibleRows(!0);break;case"all":o=this.table.rowManager.rows;break;case"selected":o=this.table.modules.selectRow.selectedRows;break;case"active":default:o=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],o)},_t.prototype.generateColumnGroupHeaders=function(){var t=this,e=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach((function(o){var n=t.processColumnGroup(o);n&&e.push(n)})),e},_t.prototype.processColumnGroup=function(t){var e=this,o=t.columns,n=0,i={title:t.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||t.definition.title,column:t,depth:1};if(o.length){if(i.subGroups=[],i.width=0,o.forEach((function(t){var o=e.processColumnGroup(t);o&&(i.width+=o.width,i.subGroups.push(o),o.depth>n&&(n=o.depth))})),i.depth+=n,!i.width)return!1}else{if(!this.columnVisCheck(t))return!1;i.width=1}return i},_t.prototype.columnVisCheck=function(t){return!1!==t.definition[this.colVisProp]&&(t.visible||!t.visible&&t.definition[this.colVisProp])},_t.prototype.headersToExportRows=function(t){var e=[],o=0,n=[];function i(t,n){var r=o-n;if(void 0===e[n]&&(e[n]=[]),t.height=t.subGroups?1:r-t.depth+1,e[n].push(t),t.height>1)for(var s=1;s<t.height;s++)void 0===e[n+s]&&(e[n+s]=[]),e[n+s].push(!1);if(t.width>1)for(var a=1;a<t.width;a++)e[n].push(!1);t.subGroups&&t.subGroups.forEach((function(t){i(t,n+1)}))}return t.forEach((function(t){t.depth>o&&(o=t.depth)})),t.forEach((function(t){i(t,0)})),e.forEach((function(t){var e=[];t.forEach((function(t){t?e.push(new kt(t.title,t.column.getComponent(),t.width,t.height,t.depth)):e.push(null)})),n.push(new Tt("header",e))})),n},_t.prototype.bodyToExportRows=function(t){var e=this,o=[],n=[];return this.table.columnManager.columnsByIndex.forEach((function(t){e.columnVisCheck(t)&&o.push(t.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&t.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&t.push(this.table.modules.columnCalcs.botRow)),(t=t.filter((function(t){switch(t.type){case"group":return!1!==e.config.rowGroups;case"calc":return!1!==e.config.columnCalcs;case"row":return!(e.table.options.dataTree&&!1===e.config.dataTree&&t.modules.dataTree.parent)}return!0}))).forEach((function(t,i){var r=t.getData(e.colVisProp),s=[],a=0;switch(t.type){case"group":a=t.level,s.push(new kt(t.key,t.getComponent(),o.length,1));break;case"calc":case"row":o.forEach((function(t){s.push(new kt(t._column.getFieldValue(r),t,1,1))})),e.table.options.dataTree&&!1!==e.config.dataTree&&(a=t.modules.dataTree.index)}n.push(new Tt(t.type,s,t.getComponent(),a))})),n},_t.prototype.genereateTableElement=function(t){var e=this,o=document.createElement("table"),n=document.createElement("thead"),i=document.createElement("tbody"),r=this.lookupTableStyles(),s=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a={};return a.rowFormatter=null!==s?s:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),o.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),n,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),t.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),t.forEach((function(t,o){switch(t.type){case"header":n.appendChild(e.genereateHeaderElement(t,a,r));break;case"group":i.appendChild(e.genereateGroupElement(t,a,r));break;case"calc":i.appendChild(e.genereateCalcElement(t,a,r));break;case"row":var s=e.genereateRowElement(t,a,r);e.mapElementStyles(o%2&&r.evenRow?r.evenRow:r.oddRow,s,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),i.appendChild(s)}})),n.innerHTML&&o.appendChild(n),o.appendChild(i),this.mapElementStyles(this.table.element,o,["border-top","border-left","border-right","border-bottom"]),o},_t.prototype.lookupTableStyles=function(){var t={};return this.cloneTableStyle&&window.getComputedStyle&&(t.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),t.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),t.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),t.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),t.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],t.firstRow&&(t.styleCells=t.firstRow.getElementsByClassName("tabulator-cell"),t.firstCell=t.styleCells[0],t.lastCell=t.styleCells[t.styleCells.length-1])),t},_t.prototype.genereateHeaderElement=function(t,e,o){var n=this,i=document.createElement("tr");return t.columns.forEach((function(t){if(t){var e=document.createElement("th"),o=t.component._column.definition.cssClass?t.component._column.definition.cssClass.split(" "):[];e.colSpan=t.width,e.rowSpan=t.height,e.innerHTML=t.value,n.cloneTableStyle&&(e.style.boxSizing="border-box"),o.forEach((function(t){e.classList.add(t)})),n.mapElementStyles(t.component.getElement(),e,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),n.mapElementStyles(t.component._column.contentElement,e,["padding-top","padding-left","padding-right","padding-bottom"]),t.component._column.visible?n.mapElementStyles(t.component.getElement(),e,["width"]):t.component._column.definition.width&&(e.style.width=t.component._column.definition.width+"px"),t.component._column.parent&&n.mapElementStyles(t.component._column.parent.groupElement,e,["border-top"]),i.appendChild(e)}})),i},_t.prototype.genereateGroupElement=function(t,e,o){var n=document.createElement("tr"),i=document.createElement("td"),r=t.columns[0];return n.classList.add("tabulator-print-table-row"),e.groupHeader&&e.groupHeader[t.indent]?r.value=e.groupHeader[t.indent](r.value,t.component._group.getRowCount(),t.component._group.getData(),t.component):!1===e.groupHeader?r.value=r.value:r.value=t.component._group.generator(r.value,t.component._group.getRowCount(),t.component._group.getData(),t.component),i.colSpan=r.width,i.innerHTML=r.value,n.classList.add("tabulator-print-table-group"),n.classList.add("tabulator-group-level-"+t.indent),r.component.isVisible()&&n.classList.add("tabulator-group-visible"),this.mapElementStyles(o.firstGroup,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(o.firstGroup,i,["padding-top","padding-left","padding-right","padding-bottom"]),n.appendChild(i),n},_t.prototype.genereateCalcElement=function(t,e,o){var n=this.genereateRowElement(t,e,o);return n.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(o.calcRow,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n},_t.prototype.genereateRowElement=function(t,e,o){var n=this,r=document.createElement("tr");return r.classList.add("tabulator-print-table-row"),t.columns.forEach((function(s){if(s){var a=document.createElement("td"),l=s.component._column,u=s.value,c={modules:{},getValue:function(){return u},getField:function(){return l.definition.field},getElement:function(){return a},getColumn:function(){return l.getComponent()},getData:function(){return t.component.getData()},getRow:function(){return t.component},getComponent:function(){return c},column:l};if((l.definition.cssClass?l.definition.cssClass.split(" "):[]).forEach((function(t){a.classList.add(t)})),n.table.modExists("format")&&!1!==n.config.formatCells)u=n.table.modules.format.formatExportValue(c,n.colVisProp);else switch(void 0===u?"undefined":it(u)){case"object":u=JSON.stringify(u);break;case"undefined":case"null":u="";break;default:u=u}u instanceof Node?a.appendChild(u):a.innerHTML=u,o.firstCell&&(n.mapElementStyles(o.firstCell,a,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),l.definition.align&&(a.style.textAlign=l.definition.align)),n.table.options.dataTree&&!1!==n.config.dataTree&&(e.treeElementField&&e.treeElementField==l.field||!e.treeElementField&&0==i)&&(t.component._row.modules.dataTree.controlEl&&a.insertBefore(t.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),t.component._row.modules.dataTree.branchEl&&a.insertBefore(t.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),r.appendChild(a),c.modules.format&&c.modules.format.renderedCallback&&c.modules.format.renderedCallback(),e.rowFormatter&&!1!==n.config.formatCells&&e.rowFormatter(t.component)}})),r},_t.prototype.genereateHTMLTable=function(t){var e=document.createElement("div");return e.appendChild(this.genereateTableElement(t)),e.innerHTML},_t.prototype.getHtml=function(t,e,o,n){var i=this.generateExportList(o||this.table.options.htmlOutputConfig,e,t,n||"htmlOutput");return this.genereateHTMLTable(i)},_t.prototype.mapElementStyles=function(t,e,o){if(this.cloneTableStyle&&t&&e){var n={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var i=window.getComputedStyle(t);o.forEach((function(t){e.style[n[t]]=i.getPropertyValue(t)}))}}},mt.prototype.registerModule("export",_t);var St=function(t){this.table=t,this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1};St.prototype.initializeColumn=function(t,e){var o=this,n=t.getField();t.modules.filter={success:function(e){var i,r="input"==t.modules.filter.tagType&&"text"==t.modules.filter.attrType||"textarea"==t.modules.filter.tagType?"partial":"match",s="",a="";if(void 0===t.modules.filter.prevSuccess||t.modules.filter.prevSuccess!==e){if(t.modules.filter.prevSuccess=e,t.modules.filter.emptyFunc(e))delete o.headerFilters[n];else{switch(t.modules.filter.value=e,it(t.definition.headerFilterFunc)){case"string":o.filters[t.definition.headerFilterFunc]?(s=t.definition.headerFilterFunc,i=function(n){var i=t.definition.headerFilterFuncParams||{},r=t.getFieldValue(n);return i="function"==typeof i?i(e,r,n):i,o.filters[t.definition.headerFilterFunc](e,r,n,i)}):console.warn("Header Filter Error - Matching filter function not found: ",t.definition.headerFilterFunc);break;case"function":s=i=function(o){var n=t.definition.headerFilterFuncParams||{},i=t.getFieldValue(o);return n="function"==typeof n?n(e,i,o):n,t.definition.headerFilterFunc(e,i,o,n)}}if(!i)switch(r){case"partial":i=function(o){var n=t.getFieldValue(o);return null!=n&&String(n).toLowerCase().indexOf(String(e).toLowerCase())>-1},s="like";break;default:i=function(o){return t.getFieldValue(o)==e},s="="}o.headerFilters[n]={value:e,func:i,type:s,params:{}}}a=JSON.stringify(o.headerFilters),o.prevHeaderFilterChangeCheck!==a&&(o.prevHeaderFilterChangeCheck=a,o.changed=!0,o.table.rowManager.filterRefresh())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(t)},St.prototype.generateHeaderFilterElement=function(t,e,o){var n,i,r,s,a,l,u,c=this,h=this,d=t.modules.filter.success,p=t.getField();if(t.modules.filter.headerElement&&t.modules.filter.headerElement.parentNode&&t.contentElement.removeChild(t.modules.filter.headerElement.parentNode),p){switch(t.modules.filter.emptyFunc=t.definition.headerFilterEmptyCheck||function(t){return!t&&"0"!==t&&0!==t},(n=document.createElement("div")).classList.add("tabulator-header-filter"),it(t.definition.headerFilter)){case"string":h.table.modules.edit.editors[t.definition.headerFilter]?(i=h.table.modules.edit.editors[t.definition.headerFilter],"tick"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",t.definition.editor);break;case"function":i=t.definition.headerFilter;break;case"boolean":t.modules.edit&&t.modules.edit.editor?i=t.modules.edit.editor:t.definition.formatter&&h.table.modules.edit.editors[t.definition.formatter]?(i=h.table.modules.edit.editors[t.definition.formatter],"tick"!==t.definition.formatter&&"tickCross"!==t.definition.formatter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):i=h.table.modules.edit.editors.input}if(i){if(s={getValue:function(){return void 0!==e?e:""},getField:function(){return t.definition.field},getElement:function(){return n},getColumn:function(){return t.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},u="function"==typeof(u=t.definition.headerFilterParams||{})?u.call(h.table):u,!(r=i.call(this.table.modules.edit,s,(function(){}),d,(function(){}),u)))return void console.warn("Filter Error - Cannot add filter to "+p+" column, editor returned a value of false");if(!(r instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+p+" column, editor should return an instance of Node, the editor returned:",r);p?h.table.modules.localize.bind("headerFilters|columns|"+t.definition.field,(function(t){r.setAttribute("placeholder",void 0!==t&&t?t:h.table.modules.localize.getText("headerFilters|default"))})):h.table.modules.localize.bind("headerFilters|default",(function(t){r.setAttribute("placeholder",void 0!==h.column.definition.headerFilterPlaceholder&&h.column.definition.headerFilterPlaceholder?h.column.definition.headerFilterPlaceholder:t)})),r.addEventListener("click",(function(t){t.stopPropagation(),r.focus()})),r.addEventListener("focus",(function(t){var e=c.table.columnManager.element.scrollLeft;e!==c.table.rowManager.element.scrollLeft&&(c.table.rowManager.scrollHorizontal(e),c.table.columnManager.scrollHorizontal(e))})),a=!1,l=function(t){a&&clearTimeout(a),a=setTimeout((function(){d(r.value)}),h.table.options.headerFilterLiveFilterDelay)},t.modules.filter.headerElement=r,t.modules.filter.attrType=r.hasAttribute("type")?r.getAttribute("type").toLowerCase():"",t.modules.filter.tagType=r.tagName.toLowerCase(),!1!==t.definition.headerFilterLiveFilter&&("autocomplete"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter&&("autocomplete"!==t.definition.editor&&"tickCross"!==t.definition.editor||!0!==t.definition.headerFilter)&&(r.addEventListener("keyup",l),r.addEventListener("search",l),"number"==t.modules.filter.attrType&&r.addEventListener("change",(function(t){d(r.value)})),"text"==t.modules.filter.attrType&&"ie"!==this.table.browser&&r.setAttribute("type","search")),"input"!=t.modules.filter.tagType&&"select"!=t.modules.filter.tagType&&"textarea"!=t.modules.filter.tagType||r.addEventListener("mousedown",(function(t){t.stopPropagation()}))),n.appendChild(r),t.contentElement.appendChild(n),o||h.headerFilterColumns.push(t)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",t.definition.title)},St.prototype.hideHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="none")}))},St.prototype.showHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="")}))},St.prototype.setHeaderFilterFocus=function(t){t.modules.filter&&t.modules.filter.headerElement?t.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",t.getField())},St.prototype.getHeaderFilterValue=function(t){if(t.modules.filter&&t.modules.filter.headerElement)return t.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",t.getField())},St.prototype.setHeaderFilterValue=function(t,e){t&&(t.modules.filter&&t.modules.filter.headerElement?(this.generateHeaderFilterElement(t,e,!0),t.modules.filter.success(e)):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},St.prototype.reloadHeaderFilter=function(t){t&&(t.modules.filter&&t.modules.filter.headerElement?this.generateHeaderFilterElement(t,t.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},St.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},St.prototype.setFilter=function(t,e,o,n){this.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:o,params:n}]),this.addFilter(t)},St.prototype.addFilter=function(t,e,o,n){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:o,params:n}]),t.forEach((function(t){(t=i.findFilter(t))&&(i.filterList.push(t),i.changed=!0)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},St.prototype.findFilter=function(t){var e,o=this;if(Array.isArray(t))return this.findSubFilters(t);var n=!1;return"function"==typeof t.field?n=function(e){return t.field(e,t.type||{})}:o.filters[t.type]?n=(e=o.table.columnManager.getColumnByField(t.field))?function(n){return o.filters[t.type](t.value,e.getFieldValue(n),n,t.params||{})}:function(e){return o.filters[t.type](t.value,e[t.field],e,t.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",t.type),t.func=n,!!t.func&&t},St.prototype.findSubFilters=function(t){var e=this,o=[];return t.forEach((function(t){(t=e.findFilter(t))&&o.push(t)})),!!o.length&&o},St.prototype.getFilters=function(t,e){var o=[];return t&&(o=this.getHeaderFilters()),e&&o.forEach((function(t){"function"==typeof t.type&&(t.type="function")})),o=o.concat(this.filtersToArray(this.filterList,e))},St.prototype.filtersToArray=function(t,e){var o=this,n=[];return t.forEach((function(t){var i;Array.isArray(t)?n.push(o.filtersToArray(t,e)):(i={field:t.field,type:t.type,value:t.value},e&&"function"==typeof i.type&&(i.type="function"),n.push(i))})),n},St.prototype.getHeaderFilters=function(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t},St.prototype.removeFilter=function(t,e,o){var n=this;Array.isArray(t)||(t=[{field:t,type:e,value:o}]),t.forEach((function(t){var e=-1;(e="object"==it(t.field)?n.filterList.findIndex((function(e){return t===e})):n.filterList.findIndex((function(e){return t.field===e.field&&t.type===e.type&&t.value===e.value})))>-1?(n.filterList.splice(e,1),n.changed=!0):console.warn("Filter Error - No matching filter type found, ignoring: ",t.type)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},St.prototype.clearFilter=function(t){this.filterList=[],t&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},St.prototype.clearHeaderFilter=function(){var t=this;this.headerFilters={},t.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((function(e){void 0!==e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,t.reloadHeaderFilter(e)})),this.changed=!0},St.prototype.search=function(t,e,o,n){var i=this,r=[],s=[];return Array.isArray(e)||(e=[{field:e,type:o,value:n}]),e.forEach((function(t){(t=i.findFilter(t))&&s.push(t)})),this.table.rowManager.rows.forEach((function(e){var o=!0;s.forEach((function(t){i.filterRecurse(t,e.getData())||(o=!1)})),o&&r.push("data"===t?e.getData("data"):e.getComponent())})),r},St.prototype.filter=function(t,e){var o=this,n=[],i=[];return o.table.options.dataFiltering&&o.table.options.dataFiltering.call(o.table,o.getFilters()),o.table.options.ajaxFiltering||!o.filterList.length&&!Object.keys(o.headerFilters).length?n=t.slice(0):t.forEach((function(t){o.filterRow(t)&&n.push(t)})),o.table.options.dataFiltered&&(n.forEach((function(t){i.push(t.getComponent())})),o.table.options.dataFiltered.call(o.table,o.getFilters(),i)),n},St.prototype.filterRow=function(t,e){var o=this,n=!0,i=t.getData();for(var r in o.filterList.forEach((function(t){o.filterRecurse(t,i)||(n=!1)})),o.headerFilters)o.headerFilters[r].func(i)||(n=!1);return n},St.prototype.filterRecurse=function(t,e){var o=this,n=!1;return Array.isArray(t)?t.forEach((function(t){o.filterRecurse(t,e)&&(n=!0)})):n=t.func(e),n},St.prototype.filters={"=":function(t,e,o,n){return e==t},"<":function(t,e,o,n){return e<t},"<=":function(t,e,o,n){return e<=t},">":function(t,e,o,n){return e>t},">=":function(t,e,o,n){return e>=t},"!=":function(t,e,o,n){return e!=t},regex:function(t,e,o,n){return"string"==typeof t&&(t=new RegExp(t)),t.test(e)},like:function(t,e,o,n){return null==t?e===t:null!=e&&String(e).toLowerCase().indexOf(t.toLowerCase())>-1},keywords:function(t,e,o,n){var i=t.toLowerCase().split(void 0===n.separator?" ":n.separator),r=String(null==e?"":e).toLowerCase(),s=[];return i.forEach((function(t){r.includes(t)&&s.push(!0)})),n.matchAll?s.length===i.length:!!s.length},starts:function(t,e,o,n){return null==t?e===t:null!=e&&String(e).toLowerCase().startsWith(t.toLowerCase())},ends:function(t,e,o,n){return null==t?e===t:null!=e&&String(e).toLowerCase().endsWith(t.toLowerCase())},in:function(t,e,o,n){return Array.isArray(t)?!t.length||t.indexOf(e)>-1:(console.warn("Filter Error - filter value is not an array:",t),!1)}},mt.prototype.registerModule("filter",St);var Dt=function(t){this.table=t};Dt.prototype.initializeColumn=function(t){t.modules.format=this.lookupFormatter(t,""),void 0!==t.definition.formatterPrint&&(t.modules.format.print=this.lookupFormatter(t,"Print")),void 0!==t.definition.formatterClipboard&&(t.modules.format.clipboard=this.lookupFormatter(t,"Clipboard")),void 0!==t.definition.formatterHtmlOutput&&(t.modules.format.htmlOutput=this.lookupFormatter(t,"HtmlOutput"))},Dt.prototype.lookupFormatter=function(t,e){var o={params:t.definition["formatter"+e+"Params"]||{}},n=t.definition["formatter"+e];switch(void 0===n?"undefined":it(n)){case"string":"tick"===n&&(n="tickCross",void 0===o.params.crossElement&&(o.params.crossElement=!1),console.warn("DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[n]?o.formatter=this.formatters[n]:(console.warn("Formatter Error - No such formatter found: ",n),o.formatter=this.formatters.plaintext);break;case"function":o.formatter=n;break;default:o.formatter=this.formatters.plaintext}return o},Dt.prototype.cellRendered=function(t){t.modules.format&&t.modules.format.renderedCallback&&!t.modules.format.rendered&&(t.modules.format.renderedCallback(),t.modules.format.rendered=!0)},Dt.prototype.formatValue=function(t){var e=t.getComponent(),o="function"==typeof t.column.modules.format.params?t.column.modules.format.params(e):t.column.modules.format.params;return t.column.modules.format.formatter.call(this,e,o,(function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}))},Dt.prototype.formatExportValue=function(t,e){var o,n=t.column.modules.format[e];if(n){return o="function"==typeof n.params?n.params(component):n.params,n.formatter.call(this,t.getComponent(),o,(function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}))}return this.formatValue(t)},Dt.prototype.sanitizeHTML=function(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,(function(t){return e[t]}))}return t},Dt.prototype.emptyToSpace=function(t){return null==t||""===t?"&nbsp;":t},Dt.prototype.getFormatter=function(t){switch(void 0===t?"undefined":it(t)){case"string":this.formatters[t]?t=this.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=this.formatters.plaintext);break;case"function":t=t;break;default:t=this.formatters.plaintext}return t},Dt.prototype.formatters={plaintext:function(t,e,o){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function(t,e,o){return t.getValue()},textarea:function(t,e,o){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function(t,e,o){var n,i,r,s,a=parseFloat(t.getValue()),l=e.decimal||".",u=e.thousand||",",c=e.symbol||"",h=!!e.symbolAfter,d=void 0!==e.precision?e.precision:2;if(isNaN(a))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));for(n=!1!==d?a.toFixed(d):a,i=(n=String(n).split("."))[0],r=n.length>1?l+n[1]:"",s=/(\d+)(\d{3})/;s.test(i);)i=i.replace(s,"$1"+u+"$2");return h?i+r+c:c+i+r},link:function(t,e,o){var n=t.getValue(),i=e.urlPrefix||"",r=e.download,s=n,a=document.createElement("a");if(e.labelField&&(s=t.getData()[e.labelField]),e.label)switch(it(e.label)){case"string":s=e.label;break;case"function":s=e.label(t)}if(s){if(e.urlField&&(n=t.getData()[e.urlField]),e.url)switch(it(e.url)){case"string":n=e.url;break;case"function":n=e.url(t)}return a.setAttribute("href",i+n),e.target&&a.setAttribute("target",e.target),e.download&&(r="function"==typeof r?r(t):!0===r?"":r,a.setAttribute("download",r)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(s)),a}return"&nbsp;"},image:function(t,e,o){var n=document.createElement("img"),i=t.getValue();switch(e.urlPrefix&&(i=e.urlPrefix+t.getValue()),e.urlSuffix&&(i+=e.urlSuffix),n.setAttribute("src",i),it(e.height)){case"number":n.style.height=e.height+"px";break;case"string":n.style.height=e.height}switch(it(e.width)){case"number":n.style.width=e.width+"px";break;case"string":n.style.width=e.width}return n.addEventListener("load",(function(){t.getRow().normalizeHeight()})),n},tickCross:function(t,e,o){var n=t.getValue(),i=t.getElement(),r=e.allowEmpty,s=e.allowTruthy,a=void 0!==e.tickElement?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l=void 0!==e.crossElement?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s&&n||!0===n||"true"===n||"True"===n||1===n||"1"===n?(i.setAttribute("aria-checked",!0),a||""):!r||"null"!==n&&""!==n&&null!=n?(i.setAttribute("aria-checked",!1),l||""):(i.setAttribute("aria-checked","mixed"),"")},datetime:function(t,e,o){var n=e.inputFormat||"YYYY-MM-DD hh:mm:ss",i=e.outputFormat||"DD/MM/YYYY hh:mm:ss",r=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",s=t.getValue(),a=moment(s,n);return a.isValid()?e.timezone?a.tz(e.timezone).format(i):a.format(i):!0===r?s:"function"==typeof r?r(s):r},datetimediff:function(t,e,o){var n=e.inputFormat||"YYYY-MM-DD hh:mm:ss",i=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",r=void 0!==e.suffix&&e.suffix,s=void 0!==e.unit?e.unit:void 0,a=void 0!==e.humanize&&e.humanize,l=void 0!==e.date?e.date:moment(),u=t.getValue(),c=moment(u,n);return c.isValid()?a?moment.duration(c.diff(l)).humanize(r):c.diff(l,s)+(r?" "+r:""):!0===i?u:"function"==typeof i?i(u):i},lookup:function(t,e,o){var n=t.getValue();return void 0===e[n]?(console.warn("Missing display value for "+n),n):e[n]},star:function(t,e,o){var n=t.getValue(),i=t.getElement(),r=e&&e.stars?e.stars:5,s=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg");s.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",n=n&&!isNaN(n)?parseInt(n):0,n=Math.max(0,Math.min(n,r));for(var l=1;l<=r;l++){var u=a.cloneNode(!0);u.innerHTML=l<=n?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',s.appendChild(u)}return i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.setAttribute("aria-label",n),s},traffic:function(t,e,o){var n,i,r=this.sanitizeHTML(t.getValue())||0,s=document.createElement("span"),a=e&&e.max?e.max:100,l=e&&e.min?e.min:0,u=e&&void 0!==e.color?e.color:["red","orange","green"],c="#666666";if(!isNaN(r)&&void 0!==t.getValue()){switch(s.classList.add("tabulator-traffic-light"),i=parseFloat(r)<=a?parseFloat(r):a,i=parseFloat(i)>=l?parseFloat(i):l,n=(a-l)/100,i=Math.round((i-l)/n),void 0===u?"undefined":it(u)){case"string":c=u;break;case"function":c=u(r);break;case"object":if(Array.isArray(u)){var h=100/u.length,d=Math.floor(i/h);d=Math.min(d,u.length-1),c=u[d=Math.max(d,0)];break}}return s.style.backgroundColor=c,s}},progress:function(t,e,o){var n,i,r,s,a,l=this.sanitizeHTML(t.getValue())||0,u=t.getElement(),c=e&&e.max?e.max:100,h=e&&e.min?e.min:0,d=e&&e.legendAlign?e.legendAlign:"center";switch(i=parseFloat(l)<=c?parseFloat(l):c,i=parseFloat(i)>=h?parseFloat(i):h,n=(c-h)/100,i=Math.round((i-h)/n),it(e.color)){case"string":r=e.color;break;case"function":r=e.color(l);break;case"object":if(Array.isArray(e.color)){var p=100/e.color.length,f=Math.floor(i/p);f=Math.min(f,e.color.length-1),f=Math.max(f,0),r=e.color[f];break}default:r="#2DC214"}switch(it(e.legend)){case"string":s=e.legend;break;case"function":s=e.legend(l);break;case"boolean":s=l;break;default:s=!1}switch(it(e.legendColor)){case"string":a=e.legendColor;break;case"function":a=e.legendColor(l);break;case"object":if(Array.isArray(e.legendColor)){p=100/e.legendColor.length,f=Math.floor(i/p);f=Math.min(f,e.legendColor.length-1),f=Math.max(f,0),a=e.legendColor[f]}break;default:a="#000"}u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",i);var m=document.createElement("div");if(m.style.display="inline-block",m.style.position="relative",m.style.width=i+"%",m.style.backgroundColor=r,m.style.height="100%",m.setAttribute("data-max",c),m.setAttribute("data-min",h),s){var g=document.createElement("div");g.style.position="absolute",g.style.top="4px",g.style.left=0,g.style.textAlign=d,g.style.width="100%",g.style.color=a,g.innerHTML=s}return o((function(){if(!(t instanceof dt)){var e=document.createElement("div");e.style.position="absolute",e.style.top="4px",e.style.bottom="4px",e.style.left="4px",e.style.right="4px",u.appendChild(e),u=e}u.appendChild(m),s&&u.appendChild(g)})),""},color:function(t,e,o){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""},buttonTick:function(t,e,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(t,e,o){return this.table.rowManager.activeRows.indexOf(t.getRow()._getSelf())+1},handle:function(t,e,o){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(t,e,o){var n=document.createElement("div"),i=t.getRow()._row.modules.responsiveLayout;function r(t){var e=i.element;i.open=t,e&&(i.open?(n.classList.add("open"),e.style.display=""):(n.classList.remove("open"),e.style.display="none"))}return n.classList.add("tabulator-responsive-collapse-toggle"),n.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",t.getElement().classList.add("tabulator-row-handle"),n.addEventListener("click",(function(t){t.stopImmediatePropagation(),r(!i.open)})),r(i.open),n},rowSelection:function(t,e,o){var n=this,i=document.createElement("input");if(i.type="checkbox",this.table.modExists("selectRow",!0))if(i.addEventListener("click",(function(t){t.stopPropagation()})),"function"==typeof t.getRow){var r=t.getRow();r instanceof ct?(i.addEventListener("change",(function(t){r.toggleSelect()})),i.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,i)):i=""}else i.addEventListener("change",(function(t){n.table.modules.selectRow.selectedRows.length?n.table.deselectRow():n.table.selectRow(e.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}},mt.prototype.registerModule("format",Dt);var At=function(t){this.table=t,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1};At.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0},At.prototype.initializeColumn=function(t){var e={margin:0,edge:!1};t.isGroup||(this.frozenCheck(t)?(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(t):this.rightColumns.unshift(t),this.active=!0,t.modules.frozen=e):this.initializationMode="right")},At.prototype.frozenCheck=function(t){return t.parent.isGroup&&t.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),t.parent.isGroup?this.frozenCheck(t.parent):t.definition.frozen},At.prototype.scrollHorizontal=function(){var t,e=this;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout((function(){e.layout()}),100),t=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),t.forEach((function(t){"row"===t.type&&e.layoutRow(t)})),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},At.prototype.calcMargins=function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft},At.prototype.layoutCalcRows=function(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow))},At.prototype.layoutColumnPosition=function(t){var e=this,o=[];this.leftColumns.forEach((function(n,i){if(n.modules.frozen.margin=e._calcSpace(e.leftColumns,i)+e.table.columnManager.scrollLeft+"px",i==e.leftColumns.length-1?n.modules.frozen.edge=!0:n.modules.frozen.edge=!1,n.parent.isGroup){var r=e.getColGroupParentElement(n);o.includes(r)||(e.layoutElement(r,n),o.push(r)),n.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+n.modules.frozen.position)}else e.layoutElement(n.getElement(),n);t&&n.cells.forEach((function(t){e.layoutElement(t.getElement(!0),n)}))})),this.rightColumns.forEach((function(o,n){o.modules.frozen.margin=e.rightPadding-e._calcSpace(e.rightColumns,n+1)+"px",n==e.rightColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup?e.layoutElement(e.getColGroupParentElement(o),o):e.layoutElement(o.getElement(),o),t&&o.cells.forEach((function(t){e.layoutElement(t.getElement(!0),o)}))}))},At.prototype.getColGroupParentElement=function(t){return t.parent.isGroup?this.getColGroupParentElement(t.parent):t.getElement()},At.prototype.layout=function(){var t=this;t.active&&(this.calcMargins(),t.table.rowManager.getDisplayRows().forEach((function(e){"row"===e.type&&t.layoutRow(e)})),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},At.prototype.layoutRow=function(t){var e=this;t.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach((function(o){var n=t.getCell(o);n&&e.layoutElement(n.getElement(!0),o)})),this.rightColumns.forEach((function(o){var n=t.getCell(o);n&&e.layoutElement(n.getElement(!0),o)}))},At.prototype.layoutElement=function(t,e){e.modules.frozen&&(t.style.position="absolute",t.style.left=e.modules.frozen.margin,t.classList.add("tabulator-frozen"),e.modules.frozen.edge&&t.classList.add("tabulator-frozen-"+e.modules.frozen.position))},At.prototype._calcSpace=function(t,e){for(var o=0,n=0;n<e;n++)t[n].visible&&(o+=t[n].getWidth());return o},mt.prototype.registerModule("frozenColumns",At);var Pt=function(t){this.table=t,this.topElement=document.createElement("div"),this.rows=[],this.displayIndex=0};Pt.prototype.initialize=function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)},Pt.prototype.setDisplayIndex=function(t){this.displayIndex=t},Pt.prototype.getDisplayIndex=function(){return this.displayIndex},Pt.prototype.isFrozen=function(){return!!this.rows.length},Pt.prototype.getRows=function(t){var e=t.slice(0);return this.rows.forEach((function(t){var o=e.indexOf(t);o>-1&&e.splice(o,1)})),e},Pt.prototype.freezeRow=function(t){t.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(t.modules.frozen=!0,this.topElement.appendChild(t.getElement()),t.initialize(),t.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(t),this.table.rowManager.refreshActiveData("display"),this.styleRows())},Pt.prototype.unfreezeRow=function(t){this.rows.indexOf(t),t.modules.frozen?(t.modules.frozen=!1,this.detachRow(t),this.table.rowManager.adjustTableSize(),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")},Pt.prototype.detachRow=function(t){var e=this.rows.indexOf(t);if(e>-1){var o=t.getElement();o.parentNode.removeChild(o),this.rows.splice(e,1)}},Pt.prototype.styleRows=function(t){var e=this;this.rows.forEach((function(t,o){e.table.rowManager.styleRow(t,o)}))},mt.prototype.registerModule("frozenRows",Pt);var zt=function(t){this._group=t,this.type="GroupComponent"};zt.prototype.getKey=function(){return this._group.key},zt.prototype.getField=function(){return this._group.field},zt.prototype.getElement=function(){return this._group.element},zt.prototype.getRows=function(){return this._group.getRows(!0)},zt.prototype.getSubGroups=function(){return this._group.getSubGroups(!0)},zt.prototype.getParentGroup=function(){return!!this._group.parent&&this._group.parent.getComponent()},zt.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._group.visible},zt.prototype.isVisible=function(){return this._group.visible},zt.prototype.show=function(){this._group.show()},zt.prototype.hide=function(){this._group.hide()},zt.prototype.toggle=function(){this._group.toggleVisibility()},zt.prototype._getSelf=function(){return this._group},zt.prototype.getTable=function(){return this._group.groupManager.table};var Ht=function(t,e,o,n,i,r,s){this.groupManager=t,this.parent=e,this.key=n,this.level=o,this.field=i,this.hasSubGroups=o<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=s,this.rows=[],this.groups=[],this.groupList=[],this.generator=r,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=s?s.visible:void 0!==t.startOpen[o]?t.startOpen[o]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()};Ht.prototype.wipe=function(){this.groupList.length?this.groupList.forEach((function(t){t.wipe()})):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)},Ht.prototype.createElements=function(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)},Ht.prototype.createValueGroups=function(){var t=this,e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach((function(o){t._createGroup(o,e)}))},Ht.prototype.addBindings=function(){var t,e,o,n=this;n.groupManager.table.options.groupClick&&n.element.addEventListener("click",(function(t){n.groupManager.table.options.groupClick.call(n.groupManager.table,t,n.getComponent())})),n.groupManager.table.options.groupDblClick&&n.element.addEventListener("dblclick",(function(t){n.groupManager.table.options.groupDblClick.call(n.groupManager.table,t,n.getComponent())})),n.groupManager.table.options.groupContext&&n.element.addEventListener("contextmenu",(function(t){n.groupManager.table.options.groupContext.call(n.groupManager.table,t,n.getComponent())})),(n.groupManager.table.options.groupContextMenu||n.groupManager.table.options.groupClickMenu)&&n.groupManager.table.modExists("menu")&&n.groupManager.table.modules.menu.initializeGroup.call(n.groupManager.table.modules.menu,n),n.groupManager.table.options.groupTap&&(o=!1,n.element.addEventListener("touchstart",(function(t){o=!0}),{passive:!0}),n.element.addEventListener("touchend",(function(t){o&&n.groupManager.table.options.groupTap(t,n.getComponent()),o=!1}))),n.groupManager.table.options.groupDblTap&&(t=null,n.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,n.groupManager.table.options.groupDblTap(e,n.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),n.groupManager.table.options.groupTapHold&&(e=null,n.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,o=!1,n.groupManager.table.options.groupTapHold(t,n.getComponent())}),1e3)}),{passive:!0}),n.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),n.groupManager.table.options.groupToggleElement&&("arrow"==n.groupManager.table.options.groupToggleElement?n.arrowElement:n.element).addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),n.toggleVisibility()}))},Ht.prototype._createGroup=function(t,e){var o=e+"_"+t,n=new Ht(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[o]);this.groups[o]=n,this.groupList.push(n)},Ht.prototype._addRowToGroup=function(t){var e=this.level+1;if(this.hasSubGroups){var o=this.groupManager.groupIDLookups[e].func(t.getData()),n=e+"_"+o;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[n]&&this.groups[n].addRow(t):(this.groups[n]||this._createGroup(o,e),this.groups[n].addRow(t))}},Ht.prototype._addRow=function(t){this.rows.push(t),t.modules.group=this},Ht.prototype.insertRow=function(t,e,o){var n=this.conformRowData({});t.updateData(n);var i=this.rows.indexOf(e);i>-1?o?this.rows.splice(i+1,0,t):this.rows.splice(i,0,t):o?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)},Ht.prototype.scrollHeader=function(t){this.arrowElement.style.marginLeft=t,this.groupList.forEach((function(e){e.scrollHeader(t)}))},Ht.prototype.getRowIndex=function(t){},Ht.prototype.conformRowData=function(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t},Ht.prototype.removeRow=function(t){var e=this.rows.indexOf(t),o=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(o.parentNode&&o.parentNode.removeChild(o),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))},Ht.prototype.removeGroup=function(t){var e,o=t.level+"_"+t.key;this.groups[o]&&(delete this.groups[o],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))},Ht.prototype.getHeadersAndRows=function(t){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach((function(o){e=e.concat(o.getHeadersAndRows(t))})):(!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(!t&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!t&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e},Ht.prototype.getData=function(t,e){var o=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach((function(t){o.push(t.getData(e||"data"))})),o},Ht.prototype.getRowCount=function(){var t=0;return this.groupList.length?this.groupList.forEach((function(e){t+=e.getRowCount()})):t=this.rows.length,t},Ht.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},Ht.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((function(t){t.getHeadersAndRows().forEach((function(t){t.detachElement()}))})):this.rows.forEach((function(t){var e=t.getElement();e.parentNode.removeChild(e)})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!1)},Ht.prototype.show=function(){var t=this;if(t.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var e=t.getElement();this.groupList.length?this.groupList.forEach((function(t){t.getHeadersAndRows().forEach((function(t){var o=t.getElement();e.parentNode.insertBefore(o,e.nextSibling),t.initialize(),e=o}))})):t.rows.forEach((function(t){var o=t.getElement();e.parentNode.insertBefore(o,e.nextSibling),t.initialize(),e=o})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!0)},Ht.prototype._visSet=function(){var t=[];"function"==typeof this.visible&&(this.rows.forEach((function(e){t.push(e.getData())})),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))},Ht.prototype.getRowGroup=function(t){var e=!1;return this.groupList.length?this.groupList.forEach((function(o){var n=o.getRowGroup(t);n&&(e=n)})):this.rows.find((function(e){return e===t}))&&(e=this),e},Ht.prototype.getSubGroups=function(t){var e=[];return this.groupList.forEach((function(o){e.push(t?o.getComponent():o)})),e},Ht.prototype.getRows=function(t){var e=[];return this.rows.forEach((function(o){e.push(t?o.getComponent():o)})),e},Ht.prototype.generateGroupHeaderContents=function(){var t=[];for(this.rows.forEach((function(e){t.push(e.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)},Ht.prototype.getPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.unshift(this.key),this.parent&&this.parent.getPath(t),t},Ht.prototype.getElement=function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element},Ht.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},Ht.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)},Ht.prototype.initialize=function(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)},Ht.prototype.reinitialize=function(){this.initialized=!1,this.height=0,mt.prototype.helpers.elVisible(this.element)&&this.initialize(!0)},Ht.prototype.setHeight=function(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)},Ht.prototype.getHeight=function(){return this.outerHeight},Ht.prototype.getGroup=function(){return this},Ht.prototype.reinitializeHeight=function(){},Ht.prototype.calcHeight=function(){},Ht.prototype.setCellHeight=function(){},Ht.prototype.clearCellHeight=function(){},Ht.prototype.getComponent=function(){return this.component||(this.component=new zt(this)),this.component};var Ft=function(t){this.table=t,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0};Ft.prototype.initialize=function(){var t=this,e=t.table.options.groupBy,o=t.table.options.groupStartOpen,n=t.table.options.groupHeader;(this.allowedValues=t.table.options.groupValues,Array.isArray(e)&&Array.isArray(n)&&e.length>n.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),t.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],t.table.modules.localize.bind("groups|item",(function(e,o){t.headerGenerator[0]=function(t,n,i){return(void 0===t?"":t)+"<span>("+n+" "+(1===n?e:o.groups.items)+")</span>"}})),this.groupIDLookups=[],Array.isArray(e)||e)?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach((function(e){e.definition.topCalc&&t.table.modules.columnCalcs.initializeTopRow(),e.definition.bottomCalc&&t.table.modules.columnCalcs.initializeBottomRow()}));Array.isArray(e)||(e=[e]),e.forEach((function(e,o){var n,i;n="function"==typeof e?e:(i=t.table.columnManager.getColumnByField(e))?function(t){return i.getFieldValue(t)}:function(t){return t[e]},t.groupIDLookups.push({field:"function"!=typeof e&&e,func:n,values:!!t.allowedValues&&t.allowedValues[o]})})),o&&(Array.isArray(o)||(o=[o]),o.forEach((function(t){})),t.startOpen=o),n&&(t.headerGenerator=Array.isArray(n)?n:[n]),this.initialized=!0},Ft.prototype.setDisplayIndex=function(t){this.displayIndex=t},Ft.prototype.getDisplayIndex=function(){return this.displayIndex},Ft.prototype.getRows=function(t){return this.groupIDLookups.length?(this.table.options.dataGrouping.call(this.table),this.generateGroups(t),this.table.options.dataGrouped&&this.table.options.dataGrouped.call(this.table,this.getGroups(!0)),this.updateGroupRows()):t.slice(0)},Ft.prototype.getGroups=function(t){var e=[];return this.groupList.forEach((function(o){e.push(t?o.getComponent():o)})),e},Ft.prototype.getChildGroups=function(t){var e=this,o=[];return t||(t=this),t.groupList.forEach((function(t){t.groupList.length?o=o.concat(e.getChildGroups(t)):o.push(t)})),o},Ft.prototype.wipe=function(){this.groupList.forEach((function(t){t.wipe()}))},Ft.prototype.pullGroupListData=function(t){var e=this,o=[];return t.forEach((function(t){var n={level:0,rowCount:0,headerContent:""},i=[];t.hasSubGroups?(i=e.pullGroupListData(t.groupList),n.level=t.level,n.rowCount=i.length-t.groupList.length,n.headerContent=t.generator(t.key,n.rowCount,t.rows,t),o.push(n),o=o.concat(i)):(n.level=t.level,n.headerContent=t.generator(t.key,t.rows.length,t.rows,t),n.rowCount=t.getRows().length,o.push(n),t.getRows().forEach((function(t){o.push(t.getData("data"))})))})),o},Ft.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)},Ft.prototype.getRowGroup=function(t){var e=!1;return this.groupList.forEach((function(o){var n=o.getRowGroup(t);n&&(e=n)})),e},Ft.prototype.countGroups=function(){return this.groupList.length},Ft.prototype.generateGroups=function(t){var e=this,o=e.groups;e.groups={},e.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((function(t){e.createGroup(t,0,o)})),t.forEach((function(t){e.assignRowToExistingGroup(t,o)}))):t.forEach((function(t){e.assignRowToGroup(t,o)}))},Ft.prototype.createGroup=function(t,e,o){var n,i=e+"_"+t;o=o||[],n=new Ht(this,!1,e,t,this.groupIDLookups[0].field,this.headerGenerator[0],o[i]),this.groups[i]=n,this.groupList.push(n)},Ft.prototype.assignRowToExistingGroup=function(t,e){var o="0_"+this.groupIDLookups[0].func(t.getData());this.groups[o]&&this.groups[o].addRow(t)},Ft.prototype.assignRowToGroup=function(t,e){var o=this.groupIDLookups[0].func(t.getData()),n=!this.groups["0_"+o];return n&&this.createGroup(o,0,e),this.groups["0_"+o].addRow(t),!n},Ft.prototype.reassignRowToGroup=function(t){var e=t.getGroup(),o=e.getPath(),n=this.getExpectedPath(t);o.length==n.length&&o.every((function(t,e){return t===n[e]}))||(e.removeRow(t),this.assignRowToGroup(t,self.groups),this.table.rowManager.refreshActiveData("group",!1,!0))},Ft.prototype.getExpectedPath=function(t){var e=[],o=t.getData();return this.groupIDLookups.forEach((function(t){e.push(t.func(o))})),e},Ft.prototype.updateGroupRows=function(t){var e=this,o=[];if(e.groupList.forEach((function(t){o=o.concat(t.getHeadersAndRows())})),t){var n=e.table.rowManager.setDisplayRows(o,this.getDisplayIndex());!0!==n&&this.setDisplayIndex(n),e.table.rowManager.refreshActiveData("group",!0,!0)}return o},Ft.prototype.scrollHeaders=function(t){this.table.options.virtualDomHoz&&(t-=this.table.vdomHoz.vDomPadLeft),t+="px",this.groupList.forEach((function(e){e.scrollHeader(t)}))},Ft.prototype.removeGroup=function(t){var e,o=t.level+"_"+t.key;this.groups[o]&&(delete this.groups[o],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1))},mt.prototype.registerModule("groupRows",Ft);var Ot=function(t){this.table=t,this.history=[],this.index=-1};Ot.prototype.clear=function(){this.history=[],this.index=-1},Ot.prototype.action=function(t,e,o){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:o}),this.index++},Ot.prototype.getHistoryUndoSize=function(){return this.index+1},Ot.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)},Ot.prototype.clearComponentHistory=function(t){var e=this.history.findIndex((function(e){return e.component===t}));e>-1&&(this.history.splice(e,1),e<=this.index&&this.index--,this.clearComponentHistory(t))},Ot.prototype.undo=function(){if(this.index>-1){var t=this.history[this.index];return this.undoers[t.type].call(this,t),this.index--,this.table.options.historyUndo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Undo Error - No more history to undo"),!1},Ot.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var t=this.history[this.index];return this.redoers[t.type].call(this,t),this.table.options.historyRedo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Redo Error - No more history to redo"),!1},Ot.prototype.undoers={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue)},rowAdd:function(t){t.component.deleteActual()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posFrom],!t.data.after),this.table.rowManager.redraw()}},Ot.prototype.redoers={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue)},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowDelete:function(t){t.component.deleteActual()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posTo],t.data.after),this.table.rowManager.redraw()}},Ot.prototype._rebindRow=function(t,e){this.history.forEach((function(o){if(o.component instanceof ht)o.component===t&&(o.component=e);else if(o.component instanceof pt&&o.component.row===t){var n=o.component.column.getField();n&&(o.component=e.getCell(n))}}))},mt.prototype.registerModule("history",Ot);var Bt=function(t){this.table=t,this.fieldIndex=[],this.hasIndex=!1};Bt.prototype.parseTable=function(){var t=this,e=t.table.element,o=t.table.options;o.columns;var n=e.getElementsByTagName("th"),i=e.getElementsByTagName("tbody")[0],r=[];t.hasIndex=!1,t.table.options.htmlImporting.call(this.table),i=i?i.getElementsByTagName("tr"):[],t._extractOptions(e,o),n.length?t._extractHeaders(n,i):t._generateBlankHeaders(n,i);for(var s=0;s<i.length;s++){var a=i[s].getElementsByTagName("td"),l={};t.hasIndex||(l[o.index]=s);for(var u=0;u<a.length;u++){var c=a[u];void 0!==this.fieldIndex[u]&&(l[this.fieldIndex[u]]=c.innerHTML)}r.push(l)}var h=document.createElement("div"),d=e.attributes;for(var u in d)"object"==it(d[u])&&h.setAttribute(d[u].name,d[u].value);e.parentNode.replaceChild(h,e),o.data=r,t.table.options.htmlImported.call(this.table),this.table.element=h},Bt.prototype._extractOptions=function(t,e,o){var n=t.attributes,i=o?Object.assign([],o):Object.keys(e),r={};for(var s in i.forEach((function(t){r[t.toLowerCase()]=t})),n){var a,l=n[s];l&&"object"==(void 0===l?"undefined":it(l))&&l.name&&0===l.name.indexOf("tabulator-")&&(a=l.name.replace("tabulator-",""),void 0!==r[a]&&(e[r[a]]=this._attribValue(l.value)))}},Bt.prototype._attribValue=function(t){return"true"===t||"false"!==t&&t},Bt.prototype._findCol=function(t){return this.table.options.columns.find((function(e){return e.title===t}))||!1},Bt.prototype._extractHeaders=function(t,e){for(var o=0;o<t.length;o++){var n,i=t[o],r=!1,s=this._findCol(i.textContent);s?r=!0:s={title:i.textContent.trim()},s.field||(s.field=i.textContent.trim().toLowerCase().replace(" ","_")),(n=i.getAttribute("width"))&&!s.width&&(s.width=n),this._extractOptions(i,s,at.prototype.defaultOptionList),this.fieldIndex[o]=s.field,s.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(s)}},Bt.prototype._generateBlankHeaders=function(t,e){for(var o=0;o<t.length;o++){var n=t[o],i={title:"",field:"col"+o};this.fieldIndex[o]=i.field;var r=n.getAttribute("width");r&&(i.width=r),this.table.options.columns.push(i)}},mt.prototype.registerModule("htmlTableImport",Bt);var jt=function(t){this.table=t,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};jt.prototype.initialize=function(){var t=this.table.options.keybindings,e={};if(this.watchKeys={},this.pressedKeys=[],!1!==t){for(var o in this.bindings)e[o]=this.bindings[o];if(Object.keys(t).length)for(var n in t)e[n]=t[n];this.mapBindings(e),this.bindEvents()}},jt.prototype.mapBindings=function(t){var e=this,o=this,n=function(n){e.actions[n]?t[n]&&("object"!==it(t[n])&&(t[n]=[t[n]]),t[n].forEach((function(t){o.mapBinding(n,t)}))):console.warn("Key Binding Error - no such action:",n)};for(var i in t)n(i)},jt.prototype.mapBinding=function(t,e){var o=this,n={action:this.actions[t],keys:[],ctrl:!1,shift:!1,meta:!1};e.toString().toLowerCase().split(" ").join("").split("+").forEach((function(t){switch(t){case"ctrl":n.ctrl=!0;break;case"shift":n.shift=!0;break;case"meta":n.meta=!0;break;default:t=parseInt(t),n.keys.push(t),o.watchKeys[t]||(o.watchKeys[t]=[]),o.watchKeys[t].push(n)}}))},jt.prototype.bindEvents=function(){var t=this;this.keyupBinding=function(e){var o=e.keyCode,n=t.watchKeys[o];n&&(t.pressedKeys.push(o),n.forEach((function(o){t.checkBinding(e,o)})))},this.keydownBinding=function(e){var o=e.keyCode;if(t.watchKeys[o]){var n=t.pressedKeys.indexOf(o);n>-1&&t.pressedKeys.splice(n,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)},jt.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)},jt.prototype.checkBinding=function(t,e){var o=this,n=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&t.metaKey==e.meta&&(e.keys.forEach((function(t){-1==o.pressedKeys.indexOf(t)&&(n=!1)})),n&&e.action.call(o,t),!0)},jt.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},jt.prototype.actions={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,o=e.scrollTop-e.height;e.element.scrollHeight,t.preventDefault(),e.displayRowsCount&&(o>=0?e.element.scrollTop=o:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,o=e.scrollTop+e.height,n=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(o<=n?e.element.scrollTop=o:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().prev())},navNext:function(t){var e,o=!1,n=this.table.options.tabEndNewRow;this.table.modExists("edit")&&(o=this.table.modules.edit.currentCell)&&(t.preventDefault(),(e=o.nav()).next()||n&&(o.getElement().firstChild.blur(),(n=!0===n?this.table.addRow({}):"function"==typeof n?this.table.addRow(n(o.row.getComponent())):this.table.addRow(Object.assign({},n))).then((function(){setTimeout((function(){e.next()}))}))))},navLeft:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().left())},navRight:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().right())},navUp:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().up())},navDown:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().down())},undo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},mt.prototype.registerModule("keybindings",jt);var It=function(t){this.table=t,this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1};It.prototype.initializeColumnHeader=function(t){var e,o=this;t.definition.headerContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.definition.headerContextMenu)),this.tapHold(t,t.definition.headerContextMenu)),t.definition.headerMenu&&((e=document.createElement("span")).classList.add("tabulator-header-menu-button"),e.innerHTML="&vellip;",e.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),o.LoadMenuEvent(t,t.definition.headerMenu,e)})),t.titleElement.insertBefore(e,t.titleElement.firstChild))},It.prototype.LoadMenuEvent=function(t,e,o){e="function"==typeof e?e.call(this.table,t.getComponent(),o):e,this.loadMenu(o,t,e)},It.prototype.tapHold=function(t,e){var o=this,n=t.getElement(),i=null,r=!1;n.addEventListener("touchstart",(function(n){clearTimeout(i),r=!1,i=setTimeout((function(){clearTimeout(i),i=null,r=!0,o.LoadMenuEvent(t,e,n)}),1e3)}),{passive:!0}),n.addEventListener("touchend",(function(t){clearTimeout(i),i=null,r&&t.preventDefault()}))},It.prototype.initializeCell=function(t){t.column.definition.contextMenu&&(t.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.column.definition.contextMenu)),this.tapHold(t,t.column.definition.contextMenu)),t.column.definition.clickMenu&&t.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,t,t.column.definition.clickMenu))},It.prototype.initializeRow=function(t){this.table.options.rowContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,this.table.options.rowContextMenu)),this.tapHold(t,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,this.table.options.rowClickMenu))},It.prototype.initializeGroup=function(t){this.table.options.groupContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,this.table.options.groupContextMenu)),this.tapHold(t,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,this.table.options.groupClickMenu))},It.prototype.loadMenu=function(t,e,o,n){var i=this,r=!(t instanceof MouseEvent),s=document.createElement("div");if(s.classList.add("tabulator-menu"),r||t.preventDefault(),o&&o.length){if(!n){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout((function(){i.nestedMenuBlock=!1}),100);this.hideMenu(),this.menuElements=[]}o.forEach((function(t){var o=document.createElement("div"),n=t.label,r=t.disabled;t.separator?o.classList.add("tabulator-menu-separator"):(o.classList.add("tabulator-menu-item"),"function"==typeof n&&(n=n.call(i.table,e.getComponent())),n instanceof Node?o.appendChild(n):o.innerHTML=n,"function"==typeof r&&(r=r.call(i.table,e.getComponent())),r?(o.classList.add("tabulator-menu-item-disabled"),o.addEventListener("click",(function(t){t.stopPropagation()}))):t.menu&&t.menu.length?o.addEventListener("click",(function(n){n.stopPropagation(),i.hideOldSubMenus(s),i.loadMenu(n,e,t.menu,o)})):t.action&&o.addEventListener("click",(function(o){t.action(o,e.getComponent())})),t.menu&&t.menu.length&&o.classList.add("tabulator-menu-item-submenu")),s.appendChild(o)})),s.addEventListener("click",(function(t){i.hideMenu()})),this.menuElements.push(s),this.positionMenu(s,n,r,t)}},It.prototype.hideOldSubMenus=function(t){var e=this.menuElements.indexOf(t);if(e>-1)for(var o=this.menuElements.length-1;o>e;o--){var n=this.menuElements[o];n.parentNode&&n.parentNode.removeChild(n),this.menuElements.pop()}},It.prototype.positionMenu=function(t,e,o,n){var i,r,s,a=this,l=Math.max(document.body.offsetHeight,window.innerHeight);e?(i=(s=mt.prototype.helpers.elOffset(e)).left+e.offsetWidth,r=s.top-1):(i=o?n.touches[0].pageX:n.pageX,r=o?n.touches[0].pageY:n.pageY,this.positionReversedX=!1),t.style.top=r+"px",t.style.left=i+"px",setTimeout((function(){a.table.rowManager.element.addEventListener("scroll",a.blurEvent),document.body.addEventListener("click",a.blurEvent),document.body.addEventListener("contextmenu",a.blurEvent),window.addEventListener("resize",a.blurEvent),document.body.addEventListener("keydown",a.escEvent)}),100),document.body.appendChild(t),r+t.offsetHeight>=l&&(t.style.top="",t.style.bottom=e?l-s.top-e.offsetHeight-1+"px":l-r+"px"),(i+t.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(t.style.left="",t.style.right=e?document.documentElement.offsetWidth-s.left+"px":document.documentElement.offsetWidth-i+"px",this.positionReversedX=!0)},It.prototype.isOpen=function(){return!!this.menuElements.length},It.prototype.escMenu=function(t){27==t.keyCode&&this.hideMenu()},It.prototype.hideMenu=function(){this.menuElements.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)},It.prototype.menus={},mt.prototype.registerModule("menu",It);var Nt=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};Nt.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.classList.add("tabulator-col-placeholder"),t},Nt.prototype.initializeColumn=function(t){var e,o=this,n={};t.modules.frozen||(e=t.getElement(),n.mousemove=function(n){t.parent===o.moving.parent&&((o.touchMove?n.touches[0].pageX:n.pageX)-mt.prototype.helpers.elOffset(e).left+o.table.columnManager.element.scrollLeft>t.getWidth()/2?o.toCol===t&&o.toColAfter||(e.parentNode.insertBefore(o.placeholderElement,e.nextSibling),o.moveColumn(t,!0)):(o.toCol!==t||o.toColAfter)&&(e.parentNode.insertBefore(o.placeholderElement,e),o.moveColumn(t,!1)))}.bind(o),e.addEventListener("mousedown",(function(e){o.touchMove=!1,1===e.which&&(o.checkTimeout=setTimeout((function(){o.startMove(e,t)}),o.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)})),o.bindTouchEvents(t)),t.modules.moveColumn=n},Nt.prototype.bindTouchEvents=function(t){var e,o,n,i,r,s,a=this,l=t.getElement(),u=!1;l.addEventListener("touchstart",(function(l){a.checkTimeout=setTimeout((function(){a.touchMove=!0,e=t.nextColumn(),n=e?e.getWidth()/2:0,o=t.prevColumn(),i=o?o.getWidth()/2:0,r=0,s=0,u=!1,a.startMove(l,t)}),a.checkPeriod)}),{passive:!0}),l.addEventListener("touchmove",(function(l){var c,h;a.moving&&(a.moveHover(l),u||(u=l.touches[0].pageX),(c=l.touches[0].pageX-u)>0?e&&c-r>n&&(h=e)!==t&&(u=l.touches[0].pageX,h.getElement().parentNode.insertBefore(a.placeholderElement,h.getElement().nextSibling),a.moveColumn(h,!0)):o&&-c-s>i&&(h=o)!==t&&(u=l.touches[0].pageX,h.getElement().parentNode.insertBefore(a.placeholderElement,h.getElement()),a.moveColumn(h,!1)),h&&(e=h.nextColumn(),r=n,n=e?e.getWidth()/2:0,o=h.prevColumn(),s=i,i=o?o.getWidth()/2:0))}),{passive:!0}),l.addEventListener("touchend",(function(t){a.checkTimeout&&clearTimeout(a.checkTimeout),a.moving&&a.endMove(t)}))},Nt.prototype.startMove=function(t,e){var o=e.getElement();this.moving=e,this.startX=(this.touchMove?t.touches[0].pageX:t.pageX)-mt.prototype.helpers.elOffset(o).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(t)},Nt.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveColumn.mousemove)}))},Nt.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveColumn.mousemove)}))},Nt.prototype.moveColumn=function(t,e){var o=this.moving.getCells();this.toCol=t,this.toColAfter=e,e?t.getCells().forEach((function(t,e){var n=t.getElement(!0);n.parentNode.insertBefore(o[e].getElement(),n.nextSibling)})):t.getCells().forEach((function(t,e){var n=t.getElement(!0);n.parentNode.insertBefore(o[e].getElement(),n)}))},Nt.prototype.endMove=function(t){(1===t.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))},Nt.prototype.moveHover=function(t){var e,o=this,n=o.table.columnManager.getElement(),i=n.scrollLeft,r=(o.touchMove?t.touches[0].pageX:t.pageX)-mt.prototype.helpers.elOffset(n).left+i;o.hoverElement.style.left=r-o.startX+"px",r-i<o.autoScrollMargin&&(o.autoScrollTimeout||(o.autoScrollTimeout=setTimeout((function(){e=Math.max(0,i-5),o.table.rowManager.getElement().scrollLeft=e,o.autoScrollTimeout=!1}),1))),i+n.clientWidth-r<o.autoScrollMargin&&(o.autoScrollTimeout||(o.autoScrollTimeout=setTimeout((function(){e=Math.min(n.clientWidth,i+5),o.table.rowManager.getElement().scrollLeft=e,o.autoScrollTimeout=!1}),1)))},mt.prototype.registerModule("moveColumn",Nt);var Wt=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1};Wt.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t},Wt.prototype.initialize=function(t){this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements},Wt.prototype.setHandle=function(t){this.hasHandle=t},Wt.prototype.initializeGroupHeader=function(t){var e=this,o={};o.mouseup=function(t){e.tableRowDrop(t,row)}.bind(e),o.mousemove=function(o){var n;o.pageY-mt.prototype.helpers.elOffset(t.element).top+e.table.rowManager.element.scrollTop>t.getHeight()/2?e.toRow===t&&e.toRowAfter||((n=t.getElement()).parentNode.insertBefore(e.placeholderElement,n.nextSibling),e.moveRow(t,!0)):(e.toRow!==t||e.toRowAfter)&&(n=t.getElement()).previousSibling&&(n.parentNode.insertBefore(e.placeholderElement,n),e.moveRow(t,!1))}.bind(e),t.modules.moveRow=o},Wt.prototype.initializeRow=function(t){var e,o=this,n={};n.mouseup=function(e){o.tableRowDrop(e,t)}.bind(o),n.mousemove=function(e){var n=t.getElement();e.pageY-mt.prototype.helpers.elOffset(n).top+o.table.rowManager.element.scrollTop>t.getHeight()/2?o.toRow===t&&o.toRowAfter||(n.parentNode.insertBefore(o.placeholderElement,n.nextSibling),o.moveRow(t,!0)):(o.toRow!==t||o.toRowAfter)&&(n.parentNode.insertBefore(o.placeholderElement,n),o.moveRow(t,!1))}.bind(o),this.hasHandle||((e=t.getElement()).addEventListener("mousedown",(function(e){1===e.which&&(o.checkTimeout=setTimeout((function(){o.startMove(e,t)}),o.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)})),this.bindTouchEvents(t,t.getElement())),t.modules.moveRow=n},Wt.prototype.initializeCell=function(t){var e=this,o=t.getElement(!0);o.addEventListener("mousedown",(function(o){1===o.which&&(e.checkTimeout=setTimeout((function(){e.startMove(o,t.row)}),e.checkPeriod))})),o.addEventListener("mouseup",(function(t){1===t.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)})),this.bindTouchEvents(t.row,o)},Wt.prototype.bindTouchEvents=function(t,e){var o,n,i,r,s,a,l=this,u=!1;e.addEventListener("touchstart",(function(e){l.checkTimeout=setTimeout((function(){l.touchMove=!0,o=t.nextRow(),i=o?o.getHeight()/2:0,n=t.prevRow(),r=n?n.getHeight()/2:0,s=0,a=0,u=!1,l.startMove(e,t)}),l.checkPeriod)}),{passive:!0}),this.moving,this.toRow,this.toRowAfter,e.addEventListener("touchmove",(function(e){var c,h;l.moving&&(e.preventDefault(),l.moveHover(e),u||(u=e.touches[0].pageY),(c=e.touches[0].pageY-u)>0?o&&c-s>i&&(h=o)!==t&&(u=e.touches[0].pageY,h.getElement().parentNode.insertBefore(l.placeholderElement,h.getElement().nextSibling),l.moveRow(h,!0)):n&&-c-a>r&&(h=n)!==t&&(u=e.touches[0].pageY,h.getElement().parentNode.insertBefore(l.placeholderElement,h.getElement()),l.moveRow(h,!1)),h&&(o=h.nextRow(),s=i,i=o?o.getHeight()/2:0,n=h.prevRow(),a=r,r=n?n.getHeight()/2:0))})),e.addEventListener("touchend",(function(t){l.checkTimeout&&clearTimeout(l.checkTimeout),l.moving&&(l.endMove(t),l.touchMove=!1)}))},Wt.prototype._bindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)}))},Wt.prototype._unbindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)}))},Wt.prototype.startMove=function(t,e){var o=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o)),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(t)},Wt.prototype.setStartPosition=function(t,e){var o,n,i=this.touchMove?t.touches[0].pageX:t.pageX,r=this.touchMove?t.touches[0].pageY:t.pageY;o=e.getElement(),this.connection?(n=o.getBoundingClientRect(),this.startX=n.left-i+window.pageXOffset,this.startY=n.top-r+window.pageYOffset):this.startY=r-o.getBoundingClientRect().top},Wt.prototype.endMove=function(t){t&&1!==t.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))},Wt.prototype.moveRow=function(t,e){this.toRow=t,this.toRowAfter=e},Wt.prototype.moveHover=function(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)},Wt.prototype.moveHoverTable=function(t){var e=this.table.rowManager.getElement(),o=e.scrollTop,n=(this.touchMove?t.touches[0].pageY:t.pageY)-e.getBoundingClientRect().top+o;this.hoverElement.style.top=n-this.startY+"px"},Wt.prototype.moveHoverConnections=function(t){this.hoverElement.style.left=this.startX+(this.touchMove?t.touches[0].pageX:t.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?t.touches[0].pageY:t.pageY)+"px"},Wt.prototype.elementRowDrop=function(t,e,o){this.table.options.movableRowsElementDrop&&this.table.options.movableRowsElementDrop(t,e,!!o&&o.getComponent())},Wt.prototype.connectToTables=function(t){var e,o=this;this.connectionSelectorsTables&&(e=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStart.call(this.table,e),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","connect",{row:t})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((function(t){"string"==typeof t?o.connectionElements=o.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):o.connectionElements.push(t)})),this.connectionElements.forEach((function(t){var e=function(e){o.elementRowDrop(e,t,o.moving)};t.addEventListener("mouseup",e),t.tabulatorElementDropEvent=e,t.classList.add("tabulator-movingrow-receiving")})))},Wt.prototype.disconnectFromTables=function(){var t;this.connectionSelectorsTables&&(t=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStop.call(this.table,t),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((function(t){t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent}))},Wt.prototype.connect=function(t,e){var o=this;return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=t,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),o.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)})),o.tableRowDropEvent=o.tableRowDrop.bind(o),o.table.element.addEventListener("mouseup",o.tableRowDropEvent),this.table.options.movableRowsReceivingStart.call(this.table,e,t),!0)},Wt.prototype.disconnect=function(t){var e=this;t===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),e.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)})),e.table.element.removeEventListener("mouseup",e.tableRowDropEvent),this.table.options.movableRowsReceivingStop.call(this.table,t)):console.warn("Move Row Error - trying to disconnect from non connected table")},Wt.prototype.dropComplete=function(t,e,o){var n=!1;if(o){switch(it(this.table.options.movableRowsSender)){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender}n?n.call(this,this.moving.getComponent(),e?e.getComponent():void 0,t):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t)}else this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t);this.endMove()},Wt.prototype.tableRowDrop=function(t,e){var o=!1,n=!1;switch(t.stopImmediatePropagation(),it(this.table.options.movableRowsReceiver)){case"string":o=this.receivers[this.table.options.movableRowsReceiver];break;case"function":o=this.table.options.movableRowsReceiver}o?n=o.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),n?this.table.options.movableRowsReceived.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):this.table.options.movableRowsReceivedFailed.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:e,success:n})},Wt.prototype.receivers={insert:function(t,e,o){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,o){return this.table.addRow(t.getData()),!0},update:function(t,e,o){return!!e&&(e.update(t.getData()),!0)},replace:function(t,e,o){return!!e&&(this.table.addRow(t.getData(),void 0,e),e.delete(),!0)}},Wt.prototype.senders={delete:function(t,e,o){t.delete()}},Wt.prototype.commsReceived=function(t,e,o){switch(e){case"connect":return this.connect(t,o.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,o.row,o.success)}},mt.prototype.registerModule("moveRow",Wt);var Vt=function(t){this.table=t,this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0};Vt.prototype.initializeColumn=function(t){var e=this,o=!1,n={};this.allowedTypes.forEach((function(i){var r,s="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));t.definition[s]&&(r=e.lookupMutator(t.definition[s]))&&(o=!0,n[s]={mutator:r,params:t.definition[s+"Params"]||{}})})),o&&(t.modules.mutate=n)},Vt.prototype.lookupMutator=function(t){var e=!1;switch(void 0===t?"undefined":it(t)){case"string":this.mutators[t]?e=this.mutators[t]:console.warn("Mutator Error - No such mutator found, ignoring: ",t);break;case"function":e=t}return e},Vt.prototype.transformRow=function(t,e,o){var n,i="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));return this.enabled&&this.table.columnManager.traverse((function(r){var s,a,l;r.modules.mutate&&(s=r.modules.mutate[i]||r.modules.mutate.mutator||!1)&&(n=r.getFieldValue(void 0!==o?o:t),"data"!=e&&void 0===n||(l=r.getComponent(),a="function"==typeof s.params?s.params(n,t,e,l):s.params,r.setFieldValue(t,s.mutator(n,t,e,a,l))))})),t},Vt.prototype.transformCell=function(t,e){var o=t.column.modules.mutate.mutatorEdit||t.column.modules.mutate.mutator||!1,n={};return o?(n=Object.assign(n,t.row.getData()),t.column.setFieldValue(n,e),o.mutator(e,n,"edit",o.params,t.getComponent())):e},Vt.prototype.enable=function(){this.enabled=!0},Vt.prototype.disable=function(){this.enabled=!1},Vt.prototype.mutators={},mt.prototype.registerModule("mutator",Vt);var Ut=function(t){this.table=t,this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.createElements()};Ut.prototype.createElements=function(){var t;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(t=document.createElement("button")).classList.add("tabulator-page"),t.setAttribute("type","button"),t.setAttribute("role","button"),t.setAttribute("aria-label",""),t.setAttribute("title",""),this.firstBut=t.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=t.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=t.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=t.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))},Ut.prototype.generatePageSizeSelectList=function(){var t=this,e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(var o=1;o<5;o++)e.push(this.size*o);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach((function(e){var o=document.createElement("option");o.value=e,!0===e?t.table.modules.localize.bind("pagination|all",(function(t){o.innerHTML=t})):o.innerHTML=e,t.pageSizeSelect.appendChild(o)})),this.pageSizeSelect.value=this.size}},Ut.prototype.initialize=function(t){var e,o,n,i=this;this.dataSentNames=Object.assign({},this.paginationDataSentNames),this.dataSentNames=Object.assign(this.dataSentNames,this.table.options.paginationDataSent),this.dataReceivedNames=Object.assign({},this.paginationDataReceivedNames),this.dataReceivedNames=Object.assign(this.dataReceivedNames,this.table.options.paginationDataReceived),i.table.modules.localize.bind("pagination|first",(function(t){i.firstBut.innerHTML=t})),i.table.modules.localize.bind("pagination|first_title",(function(t){i.firstBut.setAttribute("aria-label",t),i.firstBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|prev",(function(t){i.prevBut.innerHTML=t})),i.table.modules.localize.bind("pagination|prev_title",(function(t){i.prevBut.setAttribute("aria-label",t),i.prevBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|next",(function(t){i.nextBut.innerHTML=t})),i.table.modules.localize.bind("pagination|next_title",(function(t){i.nextBut.setAttribute("aria-label",t),i.nextBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|last",(function(t){i.lastBut.innerHTML=t})),i.table.modules.localize.bind("pagination|last_title",(function(t){i.lastBut.setAttribute("aria-label",t),i.lastBut.setAttribute("title",t)})),i.firstBut.addEventListener("click",(function(){i.setPage(1).then((function(){})).catch((function(){}))})),i.prevBut.addEventListener("click",(function(){i.previousPage().then((function(){})).catch((function(){}))})),i.nextBut.addEventListener("click",(function(){i.nextPage().then((function(){})).catch((function(){}))})),i.lastBut.addEventListener("click",(function(){i.setPage(i.max).then((function(){})).catch((function(){}))})),i.table.options.paginationElement&&(i.element=i.table.options.paginationElement),this.pageSizeSelect&&(e=document.createElement("label"),i.table.modules.localize.bind("pagination|page_size",(function(t){i.pageSizeSelect.setAttribute("aria-label",t),i.pageSizeSelect.setAttribute("title",t),e.innerHTML=t})),i.element.appendChild(e),i.element.appendChild(i.pageSizeSelect),i.pageSizeSelect.addEventListener("change",(function(t){i.setPageSize("true"==i.pageSizeSelect.value||i.pageSizeSelect.value),i.setPage(1).then((function(){})).catch((function(){}))}))),i.element.appendChild(i.firstBut),i.element.appendChild(i.prevBut),i.element.appendChild(i.pagesElement),i.element.appendChild(i.nextBut),i.element.appendChild(i.lastBut),i.table.options.paginationElement||t||i.table.footerManager.append(i.element,i),i.mode=i.table.options.pagination,i.table.options.paginationSize?i.size=i.table.options.paginationSize:((o=document.createElement("div")).classList.add("tabulator-row"),o.style.visibility=t,(n=document.createElement("div")).classList.add("tabulator-cell"),n.innerHTML="Page Row Test",o.appendChild(n),i.table.rowManager.getTableElement().appendChild(o),i.size=Math.floor(i.table.rowManager.getElement().clientHeight/o.offsetHeight),i.table.rowManager.getTableElement().removeChild(o)),i.count=i.table.options.paginationButtonCount,i.generatePageSizeSelectList()},Ut.prototype.initializeProgressive=function(t){this.initialize(!0),this.mode="progressive_"+t,this.progressiveLoad=!0},Ut.prototype.setDisplayIndex=function(t){this.displayIndex=t},Ut.prototype.getDisplayIndex=function(){return this.displayIndex},Ut.prototype.setMaxRows=function(t){this.max=t?!0===this.size?1:Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)},Ut.prototype.reset=function(t,e){return("local"==this.mode||t)&&(this.page=1),e&&(this.initialLoad=!0),!0},Ut.prototype.setMaxPage=function(t){t=parseInt(t),this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())},Ut.prototype.setPage=function(t){var e=this,o=this;switch(t){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return new Promise((function(n,i){(t=parseInt(t))>0&&t<=e.max||"local"!==e.mode?(e.page=t,e.trigger().then((function(){n()})).catch((function(){i()})),o.table.options.persistence&&o.table.modExists("persistence",!0)&&o.table.modules.persistence.config.page&&o.table.modules.persistence.save("page")):(console.warn("Pagination Error - Requested page is out of range of 1 - "+e.max+":",t),i())}))},Ut.prototype.setPageToRow=function(t){var e=this;return new Promise((function(o,n){var i=e.table.rowManager.getDisplayRows(e.displayIndex-1).indexOf(t);if(i>-1){var r=!0===e.size?1:Math.ceil((i+1)/e.size);e.setPage(r).then((function(){o()})).catch((function(){n()}))}else console.warn("Pagination Error - Requested row is not visible"),n()}))},Ut.prototype.setPageSize=function(t){!0!==t&&(t=parseInt(t)),t>0&&(this.size=t),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.page&&this.table.modules.persistence.save("page")},Ut.prototype._setPageButtons=function(){for(var t=this,e=Math.floor((this.count-1)/2),o=Math.ceil((this.count-1)/2),n=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),i=this.page<=o?Math.min(this.count,this.max):Math.min(this.page+o,this.max);t.pagesElement.firstChild;)t.pagesElement.removeChild(t.pagesElement.firstChild);1==t.page?(t.firstBut.disabled=!0,t.prevBut.disabled=!0):(t.firstBut.disabled=!1,t.prevBut.disabled=!1),t.page==t.max?(t.lastBut.disabled=!0,t.nextBut.disabled=!0):(t.lastBut.disabled=!1,t.nextBut.disabled=!1);for(var r=n;r<=i;r++)r>0&&r<=t.max&&t.pagesElement.appendChild(t._generatePageButton(r));this.footerRedraw()},Ut.prototype._generatePageButton=function(t){var e=this,o=document.createElement("button");return o.classList.add("tabulator-page"),t==e.page&&o.classList.add("active"),o.setAttribute("type","button"),o.setAttribute("role","button"),e.table.modules.localize.bind("pagination|page_title",(function(e){o.setAttribute("aria-label",e+" "+t),o.setAttribute("title",e+" "+t)})),o.setAttribute("data-page",t),o.textContent=t,o.addEventListener("click",(function(o){e.setPage(t).then((function(){})).catch((function(){}))})),o},Ut.prototype.previousPage=function(){var t=this;return new Promise((function(e,o){t.page>1?(t.page--,t.trigger().then((function(){e()})).catch((function(){o()})),t.table.options.persistence&&t.table.modExists("persistence",!0)&&t.table.modules.persistence.config.page&&t.table.modules.persistence.save("page")):(console.warn("Pagination Error - Previous page would be less than page 1:",0),o())}))},Ut.prototype.nextPage=function(){var t=this;return new Promise((function(e,o){t.page<t.max?(t.page++,t.trigger().then((function(){e()})).catch((function(){o()})),t.table.options.persistence&&t.table.modExists("persistence",!0)&&t.table.modules.persistence.config.page&&t.table.modules.persistence.save("page")):(t.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+t.max+":",t.max+1),o())}))},Ut.prototype.getPage=function(){return this.page},Ut.prototype.getPageMax=function(){return this.max},Ut.prototype.getPageSize=function(t){return this.size},Ut.prototype.getMode=function(){return this.mode},Ut.prototype.getRows=function(t){var e,o,n;if("local"==this.mode){e=[],!0===this.size?(o=0,n=t.length):n=(o=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(var i=o;i<n;i++)t[i]&&e.push(t[i]);return e}return this._setPageButtons(),t.slice(0)},Ut.prototype.trigger=function(){var t,e=this;return new Promise((function(o,n){switch(e.mode){case"local":t=e.table.rowManager.scrollLeft,e.table.rowManager.refreshActiveData("page"),e.table.rowManager.scrollHorizontal(t),e.table.options.pageLoaded.call(e.table,e.getPage()),o();break;case"remote":case"progressive_load":case"progressive_scroll":e.table.modules.ajax.blockActiveRequest(),e._getRemotePage().then((function(){o()})).catch((function(){n()}));break;default:console.warn("Pagination Error - no such pagination mode:",e.mode),n()}}))},Ut.prototype._getRemotePage=function(){var t,e,o=this,n=this;return new Promise((function(i,r){if(n.table.modExists("ajax",!0)||r(),t=mt.prototype.helpers.deepClone(n.table.modules.ajax.getParams()||{}),(e=n.table.modules.ajax.getParams())[o.dataSentNames.page]=n.page,o.size&&(e[o.dataSentNames.size]=o.size),o.table.options.ajaxSorting&&o.table.modExists("sort")){var s=n.table.modules.sort.getSort();s.forEach((function(t){delete t.column})),e[o.dataSentNames.sorters]=s}if(o.table.options.ajaxFiltering&&o.table.modExists("filter")){var a=n.table.modules.filter.getFilters(!0,!0);e[o.dataSentNames.filters]=a}n.table.modules.ajax.setParams(e),n.table.modules.ajax.sendRequest(o.progressiveLoad).then((function(t){n._parseRemoteData(t),i()})).catch((function(t){r()})),n.table.modules.ajax.setParams(t)}))},Ut.prototype._parseRemoteData=function(t){var e,o,n=this;if(void 0===t[this.dataReceivedNames.last_page]&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),t[this.dataReceivedNames.data]){if(this.max=parseInt(t[this.dataReceivedNames.last_page])||1,this.progressiveLoad)switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(t[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page):this.table.rowManager.addRows(t[this.dataReceivedNames.data]),this.page<this.max&&setTimeout((function(){n.nextPage().then((function(){})).catch((function(){}))}),n.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":t=this.table.rowManager.getData().concat(t[this.dataReceivedNames.data]),this.table.rowManager.setData(t,!0,this.initialLoad&&1==this.page),o=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,n.table.rowManager.element.scrollHeight<=n.table.rowManager.element.clientHeight+o&&n.nextPage().then((function(){})).catch((function(){}))}else e=this.table.rowManager.scrollLeft,this.table.rowManager.setData(t[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page),this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e),this.table.options.pageLoaded.call(this.table,this.getPage());this.initialLoad=!1}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property")},Ut.prototype.footerRedraw=function(){var t=this.table.footerManager.element;Math.ceil(t.clientWidth)-t.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(t.clientWidth)-t.scrollWidth<0&&(this.pagesElement.style.display="none"))},Ut.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},Ut.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},mt.prototype.registerModule("page",Ut);var Gt=function(t){this.table=t,this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1};Gt.prototype.localStorageTest=function(){var t="_tabulator_test";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(e){return!1}},Gt.prototype.initialize=function(){var t,e=this.table.options.persistenceMode,o=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:this.readers[this.table.options.persistenceReaderFunc]?this.readFunc=this.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):this.readers[this.mode]?this.readFunc=this.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:this.readers[this.table.options.persistenceWriterFunc]?this.writeFunc=this.readers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):this.writers[this.mode]?this.writeFunc=this.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(o||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(t=this.retreiveData("page"))&&(void 0===t.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=t.paginationSize),void 0===t.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=t.paginationInitialPage)),this.config.group&&(t=this.retreiveData("group"))&&(void 0===t.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=t.groupBy),void 0===t.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=t.groupStartOpen),void 0===t.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=t.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns))},Gt.prototype.initializeColumn=function(t){var e,o=this;this.config.columns&&(this.defWatcherBlock=!0,e=t.getDefinition(),(!0===this.config.columns?Object.keys(e):this.config.columns).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t),i=e[t];n&&Object.defineProperty(e,t,{set:function(t){i=t,o.defWatcherBlock||o.save("columns"),n.set&&n.set(t)},get:function(){return n.get&&n.get(),i}})})),this.defWatcherBlock=!1)},Gt.prototype.load=function(t,e){var o=this.retreiveData(t);return e&&(o=o?this.mergeDefinition(e,o):e),o},Gt.prototype.retreiveData=function(t){return!!this.readFunc&&this.readFunc(this.id,t)},Gt.prototype.mergeDefinition=function(t,e){var o=this,n=[];return(e=e||[]).forEach((function(e,i){var r,s=o._findColumn(t,e);s&&(!0===o.config.columns||null==o.config.columns?(r=Object.keys(s)).push("width"):r=o.config.columns,r.forEach((function(t){"columns"!==t&&void 0!==e[t]&&(s[t]=e[t])})),s.columns&&(s.columns=o.mergeDefinition(s.columns,e.columns)),n.push(s))})),t.forEach((function(t,i){o._findColumn(e,t)||(n.length>i?n.splice(i,0,t):n.push(t))})),n},Gt.prototype._findColumn=function(t,e){var o=e.columns?"group":e.field?"field":"object";return t.find((function(t){switch(o){case"group":return t.title===e.title&&t.columns.length===e.columns.length;case"field":return t.field===e.field;case"object":return t===e}}))},Gt.prototype.save=function(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.modules.filter.getFilters();break;case"sort":e=this.validateSorters(this.table.modules.sort.getSort());break;case"group":e=this.getGroupConfig();break;case"page":e=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,t,e)},Gt.prototype.validateSorters=function(t){return t.forEach((function(t){t.column=t.field,delete t.field})),t},Gt.prototype.getGroupConfig=function(){var t={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(t.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(t.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(t.groupHeader=this.table.options.groupHeader)),t},Gt.prototype.getPageConfig=function(){var t={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(t.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(t.paginationInitialPage=this.table.modules.page.getPage())),t},Gt.prototype.parseColumns=function(t){var e=this,o=[],n=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return t.forEach((function(t){var i,r={},s=t.getDefinition();t.isGroup?(r.title=s.title,r.columns=e.parseColumns(t.getColumns())):(r.field=t.getField(),!0===e.config.columns||null==e.config.columns?(i=Object.keys(s)).push("width"):i=e.config.columns,i.forEach((function(e){switch(e){case"width":r.width=t.getWidth();break;case"visible":r.visible=t.visible;break;default:"function"!=typeof s[e]&&-1===n.indexOf(e)&&(r[e]=s[e])}}))),o.push(r)})),o},Gt.prototype.readers={local:function(t,e){var o=localStorage.getItem(t+"-"+e);return!!o&&JSON.parse(o)},cookie:function(t,e){var o,n,i=document.cookie,r=t+"-"+e,s=i.indexOf(r+"=");return s>-1&&((o=(i=i.substr(s)).indexOf(";"))>-1&&(i=i.substr(0,o)),n=i.replace(r+"=","")),!!n&&JSON.parse(n)}},Gt.prototype.writers={local:function(t,e,o){localStorage.setItem(t+"-"+e,JSON.stringify(o))},cookie:function(t,e,o){var n=new Date;n.setDate(n.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(o)+"; expires="+n.toUTCString()}},mt.prototype.registerModule("persistence",Gt);var qt=function(t){this.table=t,this.element=!1,this.manualBlock=!1};qt.prototype.initialize=function(){window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))},qt.prototype.replaceTable=function(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))},qt.prototype.cleanup=function(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")},qt.prototype.printFullscreen=function(t,e,o){var n,i,r=window.scrollX,s=window.scrollY,a=document.createElement("div"),l=document.createElement("div"),u=this.table.modules.export.genereateTable(void 0!==o?o:this.table.options.printConfig,void 0!==e?e:this.table.options.printStyled,t,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(a.classList.add("tabulator-print-header"),"string"==typeof(n="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?a.innerHTML=n:a.appendChild(n),this.element.appendChild(a)),this.element.appendChild(u),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),"string"==typeof(i="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?l.innerHTML=i:l.appendChild(i),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,u),window.print(),this.cleanup(),window.scrollTo(r,s),this.manualBlock=!1},mt.prototype.registerModule("print",qt);var Yt=function(t){this.table=t,this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0};Yt.prototype.watchData=function(t){var e,o=this;this.currentVersion++,e=this.currentVersion,o.unwatchData(),o.data=t,o.origFuncs.push=t.push,Object.defineProperty(o.data,"push",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments);return o.blocked||e!==o.currentVersion||n.forEach((function(t){o.table.rowManager.addRowActual(t,!1)})),o.origFuncs.push.apply(t,arguments)}}),o.origFuncs.unshift=t.unshift,Object.defineProperty(o.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments);return o.blocked||e!==o.currentVersion||n.forEach((function(t){o.table.rowManager.addRowActual(t,!0)})),o.origFuncs.unshift.apply(t,arguments)}}),o.origFuncs.shift=t.shift,Object.defineProperty(o.data,"shift",{enumerable:!1,configurable:!0,value:function(){var n;return o.blocked||e!==o.currentVersion||o.data.length&&(n=o.table.rowManager.getRowFromDataObject(o.data[0]))&&n.deleteActual(),o.origFuncs.shift.call(t)}}),o.origFuncs.pop=t.pop,Object.defineProperty(o.data,"pop",{enumerable:!1,configurable:!0,value:function(){var n;return o.blocked||e!==o.currentVersion||o.data.length&&(n=o.table.rowManager.getRowFromDataObject(o.data[o.data.length-1]))&&n.deleteActual(),o.origFuncs.pop.call(t)}}),o.origFuncs.splice=t.splice,Object.defineProperty(o.data,"splice",{enumerable:!1,configurable:!0,value:function(){var n,i=Array.from(arguments),r=i[0]<0?t.length+i[0]:i[0],s=i[1],a=!!i[2]&&i.slice(2);if(!o.blocked&&e===o.currentVersion){if(a&&((n=!!t[r]&&o.table.rowManager.getRowFromDataObject(t[r]))?a.forEach((function(t){o.table.rowManager.addRowActual(t,!0,n,!0)})):(a=a.slice().reverse()).forEach((function(t){o.table.rowManager.addRowActual(t,!0,!1,!0)}))),0!==s){var l=t.slice(r,void 0===i[1]?i[1]:r+s);l.forEach((function(t,e){var n=o.table.rowManager.getRowFromDataObject(t);n&&n.deleteActual(e!==l.length-1)}))}(a||0!==s)&&o.table.rowManager.reRenderInPosition()}return o.origFuncs.splice.apply(t,arguments)}})},Yt.prototype.unwatchData=function(){if(!1!==this.data)for(var t in this.origFuncs)Object.defineProperty(this.data,t,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})},Yt.prototype.watchRow=function(t){var e=t.getData();for(var o in this.blocked=!0,e)this.watchKey(t,e,o);this.table.options.dataTree&&this.watchTreeChildren(t),this.blocked=!1},Yt.prototype.watchTreeChildren=function(t){var e=this,o=t.getData()[this.table.options.dataTreeChildField],n={};function i(){e.table.modules.dataTree.initializeRow(t),e.table.modules.dataTree.layoutRow(t),e.table.rowManager.refreshActiveData("tree",!1,!0)}o&&(n.push=o.push,Object.defineProperty(o,"push",{enumerable:!1,configurable:!0,value:function(){var t=n.push.apply(o,arguments);return i(),t}}),n.unshift=o.unshift,Object.defineProperty(o,"unshift",{enumerable:!1,configurable:!0,value:function(){var t=n.unshift.apply(o,arguments);return i(),t}}),n.shift=o.shift,Object.defineProperty(o,"shift",{enumerable:!1,configurable:!0,value:function(){var t=n.shift.call(o);return i(),t}}),n.pop=o.pop,Object.defineProperty(o,"pop",{enumerable:!1,configurable:!0,value:function(){var t=n.pop.call(o);return i(),t}}),n.splice=o.splice,Object.defineProperty(o,"splice",{enumerable:!1,configurable:!0,value:function(){var t=n.splice.apply(o,arguments);return i(),t}}))},Yt.prototype.watchKey=function(t,e,o){var n=this,i=Object.getOwnPropertyDescriptor(e,o),r=e[o],s=this.currentVersion;Object.defineProperty(e,o,{set:function(e){if(r=e,!n.blocked&&s===n.currentVersion){var a={};a[o]=e,t.updateData(a)}i.set&&i.set(e)},get:function(){return i.get&&i.get(),r}})},Yt.prototype.unwatchRow=function(t){var e=t.getData();for(var o in e)Object.defineProperty(e,o,{value:e[o]})},Yt.prototype.block=function(){this.blocked=!0},Yt.prototype.unblock=function(){this.blocked=!1},mt.prototype.registerModule("reactiveData",Yt);var $t=function(t){this.table=t,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};$t.prototype.initializeColumn=function(t,e,o){var n=this,i=!1,r=this.table.options.resizableColumns;if("header"===t&&(i="textarea"==e.definition.formatter||e.definition.variableHeight,e.modules.resize={variableHeight:i}),!0===r||r==t){var s=document.createElement("div");s.className="tabulator-col-resize-handle";var a=document.createElement("div");a.className="tabulator-col-resize-handle prev",s.addEventListener("click",(function(t){t.stopPropagation()}));var l=function(t){var o=e.getLastColumn();o&&n._checkResizability(o)&&(n.startColumn=e,n._mouseDown(t,o,s))};s.addEventListener("mousedown",l),s.addEventListener("touchstart",l,{passive:!0}),s.addEventListener("dblclick",(function(t){var o=e.getLastColumn();o&&n._checkResizability(o)&&(t.stopPropagation(),o.reinitializeWidth(!0))})),a.addEventListener("click",(function(t){t.stopPropagation()}));var u=function(t){var o,i,r;(o=e.getFirstColumn())&&(r=(i=n.table.columnManager.findColumnIndex(o))>0&&n.table.columnManager.getColumnByIndex(i-1))&&n._checkResizability(r)&&(n.startColumn=e,n._mouseDown(t,r,a))};a.addEventListener("mousedown",u),a.addEventListener("touchstart",u,{passive:!0}),a.addEventListener("dblclick",(function(t){var o,i,r;(o=e.getFirstColumn())&&(r=(i=n.table.columnManager.findColumnIndex(o))>0&&n.table.columnManager.getColumnByIndex(i-1))&&n._checkResizability(r)&&(t.stopPropagation(),r.reinitializeWidth(!0))})),o.appendChild(s),o.appendChild(a)}},$t.prototype._checkResizability=function(t){return void 0!==t.definition.resizable?t.definition.resizable:this.table.options.resizableColumns},$t.prototype._mouseDown=function(t,e,o){var n=this;function i(t){n.table.rtl?e.setWidth(n.startWidth-((void 0===t.screenX?t.touches[0].screenX:t.screenX)-n.startX)):e.setWidth(n.startWidth+((void 0===t.screenX?t.touches[0].screenX:t.screenX)-n.startX)),n.table.options.virtualDomHoz&&n.table.vdomHoz.reinitialize(!0),!n.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights()}function r(t){n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!1),n.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights(),document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",i),o.removeEventListener("touchmove",i),o.removeEventListener("touchend",r),n.table.element.classList.remove("tabulator-block-select"),n.table.options.persistence&&n.table.modExists("persistence",!0)&&n.table.modules.persistence.config.columns&&n.table.modules.persistence.save("columns"),n.table.options.columnResized.call(n.table,e.getComponent())}n.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!0),n.startX=void 0===t.screenX?t.touches[0].screenX:t.screenX,n.startWidth=e.getWidth(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",r),o.addEventListener("touchmove",i,{passive:!0}),o.addEventListener("touchend",r)},mt.prototype.registerModule("resizeColumns",$t);var Xt=function(t){this.table=t,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};Xt.prototype.initializeRow=function(t){var e=this,o=t.getElement(),n=document.createElement("div");n.className="tabulator-row-resize-handle";var i=document.createElement("div");i.className="tabulator-row-resize-handle prev",n.addEventListener("click",(function(t){t.stopPropagation()}));var r=function(o){e.startRow=t,e._mouseDown(o,t,n)};n.addEventListener("mousedown",r),n.addEventListener("touchstart",r,{passive:!0}),i.addEventListener("click",(function(t){t.stopPropagation()}));var s=function(o){var n=e.table.rowManager.prevDisplayRow(t);n&&(e.startRow=n,e._mouseDown(o,n,i))};i.addEventListener("mousedown",s),i.addEventListener("touchstart",s,{passive:!0}),o.appendChild(n),o.appendChild(i)},Xt.prototype._mouseDown=function(t,e,o){var n=this;function i(t){e.setHeight(n.startHeight+((void 0===t.screenY?t.touches[0].screenY:t.screenY)-n.startY))}function r(t){document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mousemove",i),o.removeEventListener("touchmove",i),o.removeEventListener("touchend",r),n.table.element.classList.remove("tabulator-block-select"),n.table.options.rowResized.call(this.table,e.getComponent())}n.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),n.startY=void 0===t.screenY?t.touches[0].screenY:t.screenY,n.startHeight=e.getHeight(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",r),o.addEventListener("touchmove",i,{passive:!0}),o.addEventListener("touchend",r)},mt.prototype.registerModule("resizeRows",Xt);var Jt=function(t){this.table=t,this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1};Jt.prototype.initialize=function(t){var e,o=this,n=this.table;this.tableHeight=n.element.clientHeight,this.tableWidth=n.element.clientWidth,n.element.parentNode&&(this.containerHeight=n.element.parentNode.clientHeight,this.containerWidth=n.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===n.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver((function(t){if(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),i=Math.floor(t[0].contentRect.width);o.tableHeight==e&&o.tableWidth==i||(o.tableHeight=e,o.tableWidth=i,n.element.parentNode&&(o.containerHeight=n.element.parentNode.clientHeight,o.containerWidth=n.element.parentNode.clientWidth),n.options.virtualDomHoz&&n.vdomHoz.reinitialize(!0),n.redraw())}})),this.observer.observe(n.element),e=window.getComputedStyle(n.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(e.getPropertyValue("max-height")||e.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((function(t){if(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),i=Math.floor(t[0].contentRect.width);o.containerHeight==e&&o.containerWidth==i||(o.containerHeight=e,o.containerWidth=i,o.tableHeight=n.element.clientHeight,o.tableWidth=n.element.clientWidth),n.options.virtualDomHoz&&n.vdomHoz.reinitialize(!0),n.redraw()}})),this.containerObserver.observe(this.table.element.parentNode))):(this.binding=function(){(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell)&&(n.options.virtualDomHoz&&n.vdomHoz.reinitialize(!0),n.redraw())},window.addEventListener("resize",this.binding))},Jt.prototype.clearBindings=function(t){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)},mt.prototype.registerModule("resizeTable",Jt);var Kt=function(t){this.table=t,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1};Kt.prototype.initialize=function(){var t=this,e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((function(o,n){o.modules.responsive&&o.modules.responsive.order&&o.modules.responsive.visible&&(o.modules.responsive.index=n,e.push(o),o.visible||"collapse"!==t.mode||t.hiddenColumns.push(o))})),e=(e=e.reverse()).sort((function(t,e){return e.modules.responsive.order-t.modules.responsive.order||e.modules.responsive.index-t.modules.responsive.index})),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();var o=this.table.columnManager.columnsByIndex,n=Array.isArray(o),i=0;for(o=n?o:o[Symbol.iterator]();;){var r;if(n){if(i>=o.length)break;r=o[i++]}else{if((i=o.next()).done)break;r=i.value}var s=r;if("responsiveCollapse"==s.definition.formatter){this.collapseHandleColumn=s;break}}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())},Kt.prototype.initializeColumn=function(t){var e=t.getDefinition();t.modules.responsive={order:void 0===e.responsive?1:e.responsive,visible:!1!==e.visible}},Kt.prototype.initializeRow=function(t){var e;"calc"!==t.type&&((e=document.createElement("div")).classList.add("tabulator-responsive-collapse"),t.modules.responsiveLayout={element:e,open:this.collapseStartOpen},this.collapseStartOpen||(e.style.display="none"))},Kt.prototype.layoutRow=function(t){var e=t.getElement();t.modules.responsiveLayout&&(e.appendChild(t.modules.responsiveLayout.element),this.generateCollapsedRowContent(t))},Kt.prototype.updateColumnVisibility=function(t,e){t.modules.responsive&&(t.modules.responsive.visible=e,this.initialize())},Kt.prototype.hideColumn=function(t){var e=this.hiddenColumns.length;t.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(t),this.generateCollapsedContent(),this.collapseHandleColumn&&!e&&this.collapseHandleColumn.show())},Kt.prototype.showColumn=function(t){var e;t.show(!1,!0),t.setWidth(t.getWidth()),"collapse"===this.mode&&((e=this.hiddenColumns.indexOf(t))>-1&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())},Kt.prototype.update=function(){for(var t=this,e=!0;e;){var o="fitColumns"==t.table.modules.layout.getMode()?t.table.columnManager.getFlexBaseWidth():t.table.columnManager.getWidth(),n=(t.table.options.headerVisible?t.table.columnManager.element.clientWidth:t.table.element.clientWidth)-o;if(n<0){var i=t.columns[t.index];i?(t.hideColumn(i),t.index++):e=!1}else{var r=t.columns[t.index-1];r&&n>0&&n>=r.getWidth()?(t.showColumn(r),t.index--):e=!1}t.table.rowManager.activeRowsCount||t.table.rowManager.renderEmptyScroll()}},Kt.prototype.generateCollapsedContent=function(){var t=this;this.table.rowManager.getDisplayRows().forEach((function(e){t.generateCollapsedRowContent(e)}))},Kt.prototype.generateCollapsedRowContent=function(t){var e,o;if(t.modules.responsiveLayout){for(e=t.modules.responsiveLayout.element;e.firstChild;)e.removeChild(e.firstChild);(o=this.collapseFormatter(this.generateCollapsedRowData(t)))&&e.appendChild(o)}},Kt.prototype.generateCollapsedRowData=function(t){var e,o=this,n=t.getData(),i=[];return this.hiddenColumns.forEach((function(r){var s=r.getFieldValue(n);r.definition.title&&r.field&&(r.modules.format&&o.table.options.responsiveLayoutCollapseUseFormatters?(e={value:!1,data:{},getValue:function(){return s},getData:function(){return n},getElement:function(){return document.createElement("div")},getRow:function(){return t.getComponent()},getColumn:function(){return r.getComponent()}},i.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(o.table.modules.format,e,r.modules.format.params)})):i.push({field:r.field,title:r.definition.title,value:s}))})),i},Kt.prototype.formatCollapsedData=function(t){var e=document.createElement("table");return t.forEach((function(t){var o,n=document.createElement("tr"),i=document.createElement("td"),r=document.createElement("td"),s=document.createElement("strong");i.appendChild(s),this.table.modules.localize.bind("columns|"+t.field,(function(e){s.innerText=e||t.title})),t.value instanceof Node?((o=document.createElement("div")).appendChild(t.value),r.appendChild(o)):r.innerHTML=t.value,n.appendChild(i),n.appendChild(r),e.appendChild(n)}),this),Object.keys(t).length?e:""},mt.prototype.registerModule("responsiveLayout",Kt);var Zt=function(t){this.table=t,this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null};Zt.prototype.clearSelectionData=function(t){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t||this._rowSelectionChanged()},Zt.prototype.initializeRow=function(t){var e=this,o=t.getElement(),n=function t(){setTimeout((function(){e.selecting=!1}),50),document.body.removeEventListener("mouseup",t)};t.modules.select={selected:!1},e.table.options.selectableCheck.call(this.table,t.getComponent())?(o.classList.add("tabulator-selectable"),o.classList.remove("tabulator-unselectable"),e.table.options.selectable&&"highlight"!=e.table.options.selectable&&("click"===e.table.options.selectableRangeMode?o.addEventListener("click",(function(o){if(o.shiftKey){e.table._clearSelection(),e.lastClickedRow=e.lastClickedRow||t;var n=e.table.rowManager.getDisplayRowIndex(e.lastClickedRow),i=e.table.rowManager.getDisplayRowIndex(t),r=n<=i?n:i,s=n>=i?n:i,a=e.table.rowManager.getDisplayRows().slice(0).splice(r,s-r+1);o.ctrlKey||o.metaKey?(a.forEach((function(o){o!==e.lastClickedRow&&(!0===e.table.options.selectable||e.isRowSelected(t)||e.selectedRows.length<e.table.options.selectable)&&e.toggleRow(o)})),e.lastClickedRow=t):(e.deselectRows(void 0,!0),!0!==e.table.options.selectable&&a.length>e.table.options.selectable&&(a=a.slice(0,e.table.options.selectable)),e.selectRows(a)),e.table._clearSelection()}else o.ctrlKey||o.metaKey?(e.toggleRow(t),e.lastClickedRow=t):(e.deselectRows(void 0,!0),e.selectRows(t),e.lastClickedRow=t)})):(o.addEventListener("click",(function(o){e.table.modExists("edit")&&e.table.modules.edit.getCurrentCell()||e.table._clearSelection(),e.selecting||e.toggleRow(t)})),o.addEventListener("mousedown",(function(o){if(o.shiftKey)return e.table._clearSelection(),e.selecting=!0,e.selectPrev=[],document.body.addEventListener("mouseup",n),document.body.addEventListener("keyup",n),e.toggleRow(t),!1})),o.addEventListener("mouseenter",(function(o){e.selecting&&(e.table._clearSelection(),e.toggleRow(t),e.selectPrev[1]==t&&e.toggleRow(e.selectPrev[0]))})),o.addEventListener("mouseout",(function(o){e.selecting&&(e.table._clearSelection(),e.selectPrev.unshift(t))}))))):(o.classList.add("tabulator-unselectable"),o.classList.remove("tabulator-selectable"))},Zt.prototype.toggleRow=function(t){this.table.options.selectableCheck.call(this.table,t.getComponent())&&(t.modules.select&&t.modules.select.selected?this._deselectRow(t):this._selectRow(t))},Zt.prototype.selectRows=function(t){var e,o=this;switch(void 0===t?"undefined":it(t)){case"undefined":this.table.rowManager.rows.forEach((function(t){o._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;case"string":(e=this.table.rowManager.findRow(t))?this._selectRow(e,!0,!0):this.table.rowManager.getRows(t).forEach((function(t){o._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;default:Array.isArray(t)?(t.forEach((function(t){o._selectRow(t,!0,!0)})),this._rowSelectionChanged()):this._selectRow(t,!1,!0)}},Zt.prototype._selectRow=function(t,e,o){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!o&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var n=this.table.rowManager.findRow(t);n?-1==this.selectedRows.indexOf(n)&&(n.getElement().classList.add("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!0,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!0),this.selectedRows.push(n),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!0),e||this.table.options.rowSelected.call(this.table,n.getComponent()),this._rowSelectionChanged(e)):e||console.warn("Selection Error - No such row found, ignoring selection:"+t)},Zt.prototype.isRowSelected=function(t){return-1!==this.selectedRows.indexOf(t)},Zt.prototype.deselectRows=function(t,e){var o,n=this;if(void 0===t){o=n.selectedRows.length;for(var i=0;i<o;i++)n._deselectRow(n.selectedRows[0],!0);n._rowSelectionChanged(e)}else Array.isArray(t)?(t.forEach((function(t){n._deselectRow(t,!0)})),n._rowSelectionChanged(e)):n._deselectRow(t,e)},Zt.prototype._deselectRow=function(t,e){var o,n=this,i=n.table.rowManager.findRow(t);i?(o=n.selectedRows.findIndex((function(t){return t==i})))>-1&&(i.getElement().classList.remove("tabulator-selected"),i.modules.select||(i.modules.select={}),i.modules.select.selected=!1,i.modules.select.checkboxEl&&(i.modules.select.checkboxEl.checked=!1),n.selectedRows.splice(o,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(i,!1),e||n.table.options.rowDeselected.call(this.table,i.getComponent()),n._rowSelectionChanged(e)):e||console.warn("Deselection Error - No such row found, ignoring selection:"+t)},Zt.prototype.getSelectedData=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getData())})),t},Zt.prototype.getSelectedRows=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getComponent())})),t},Zt.prototype._rowSelectionChanged=function(t){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),t||this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())},Zt.prototype.registerRowSelectCheckbox=function(t,e){t._row.modules.select||(t._row.modules.select={}),t._row.modules.select.checkboxEl=e},Zt.prototype.registerHeaderSelectCheckbox=function(t){this.headerCheckboxElement=t},Zt.prototype.childRowSelection=function(t,e){var o=this.table.modules.dataTree.getChildren(t,!0);if(e){var n=o,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var s;if(i){if(r>=n.length)break;s=n[r++]}else{if((r=n.next()).done)break;s=r.value}var a=s;this._selectRow(a,!0)}}else{var l=o,u=Array.isArray(l),c=0;for(l=u?l:l[Symbol.iterator]();;){var h;if(u){if(c>=l.length)break;h=l[c++]}else{if((c=l.next()).done)break;h=c.value}var d=h;this._deselectRow(d,!0)}}},mt.prototype.registerModule("selectRow",Zt);var Qt=function(t){this.table=t,this.sortList=[],this.changed=!1};Qt.prototype.initializeColumn=function(t,e){var o,n,i=this,r=!1;switch(it(t.definition.sorter)){case"string":i.sorters[t.definition.sorter]?r=i.sorters[t.definition.sorter]:console.warn("Sort Error - No such sorter found: ",t.definition.sorter);break;case"function":r=t.definition.sorter}t.modules.sort={sorter:r,dir:"none",params:t.definition.sorterParams||{},startingDir:t.definition.headerSortStartingDir||"asc",tristate:void 0!==t.definition.headerSortTristate?t.definition.headerSortTristate:this.table.options.headerSortTristate},(void 0===t.definition.headerSort?!1!==this.table.options.headerSort:!1!==t.definition.headerSort)&&((o=t.getElement()).classList.add("tabulator-sortable"),(n=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==it(this.table.options.headerSortElement)?n.appendChild(this.table.options.headerSortElement):n.innerHTML=this.table.options.headerSortElement,e.appendChild(n),t.modules.sort.element=n,o.addEventListener("click",(function(e){var o="",n=[],r=!1;if(t.modules.sort){if(t.modules.sort.tristate)o="none"==t.modules.sort.dir?t.modules.sort.startingDir:t.modules.sort.dir==t.modules.sort.startingDir?"asc"==t.modules.sort.dir?"desc":"asc":"none";else switch(t.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=t.modules.sort.startingDir}i.table.options.columnHeaderSortMulti&&(e.shiftKey||e.ctrlKey)?((r=(n=i.getSort()).findIndex((function(e){return e.field===t.getField()})))>-1?(n[r].dir=o,r!=n.length-1&&(r=n.splice(r,1)[0],"none"!=o&&n.push(r))):"none"!=o&&n.push({column:t,dir:o}),i.setSort(n)):"none"==o?i.clear():i.setSort(t,o),i.table.rowManager.sorterRefresh(!i.sortList.length)}})))},Qt.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},Qt.prototype.getSort=function(){var t=[];return this.sortList.forEach((function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})})),t},Qt.prototype.setSort=function(t,e){var o=this,n=[];Array.isArray(t)||(t=[{column:t,dir:e}]),t.forEach((function(t){var e;(e=o.table.columnManager.findColumn(t.column))?(t.column=e,n.push(t),o.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",t.column)})),o.sortList=n,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.sort&&this.table.modules.persistence.save("sort")},Qt.prototype.clear=function(){this.setSort([])},Qt.prototype.findSorter=function(t){var e,o=this.table.rowManager.activeRows[0],n="string";if(o&&(o=o.getData(),t.getField()))switch(void 0===(e=t.getFieldValue(o))?"undefined":it(e)){case"undefined":n="string";break;case"boolean":n="boolean";break;default:isNaN(e)||""===e?e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(n="alphanum"):n="number"}return this.sorters[n]},Qt.prototype.sort=function(t){var e=this,o=this.table.options.sortOrderReverse?e.sortList.slice().reverse():e.sortList,n=[],i=[];e.table.options.dataSorting&&e.table.options.dataSorting.call(e.table,e.getSort()),e.clearColumnHeaders(),e.table.options.ajaxSorting?o.forEach((function(t,o){e.setColumnHeader(t.column,t.dir)})):(o.forEach((function(t,o){var i=t.column.modules.sort;t.column&&i&&(i.sorter||(i.sorter=e.findSorter(t.column)),t.params="function"==typeof i.params?i.params(t.column.getComponent(),t.dir):i.params,n.push(t)),e.setColumnHeader(t.column,t.dir)})),n.length&&e._sortItems(t,n)),e.table.options.dataSorted&&(t.forEach((function(t){i.push(t.getComponent())})),e.table.options.dataSorted.call(e.table,e.getSort(),i))},Qt.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach((function(t){t.modules.sort&&(t.modules.sort.dir="none",t.getElement().setAttribute("aria-sort","none"))}))},Qt.prototype.setColumnHeader=function(t,e){t.modules.sort.dir=e,t.getElement().setAttribute("aria-sort",e)},Qt.prototype._sortItems=function(t,e){var o=this,n=e.length-1;t.sort((function(t,i){for(var r,s=n;s>=0;s--){var a=e[s];if(0!==(r=o._sortRow(t,i,a.column,a.dir,a.params)))break}return r}))},Qt.prototype._sortRow=function(t,e,o,n,i){var r,s,a="asc"==n?t:e,l="asc"==n?e:t;return t=void 0!==(t=o.getFieldValue(a.getData()))?t:"",e=void 0!==(e=o.getFieldValue(l.getData()))?e:"",r=a.getComponent(),s=l.getComponent(),o.modules.sort.sorter.call(this,t,e,r,s,o.getComponent(),n,i)},Qt.prototype.sorters={number:function(t,e,o,n,i,r,s){var a=s.alignEmptyValues,l=s.decimalSeparator,u=s.thousandSeparator,c=0;if(t=String(t),e=String(e),u&&(t=t.split(u).join(""),e=e.split(u).join("")),l&&(t=t.split(l).join("."),e=e.split(l).join(".")),t=parseFloat(t),e=parseFloat(e),isNaN(t))c=isNaN(e)?0:-1;else{if(!isNaN(e))return t-e;c=1}return("top"===a&&"desc"===r||"bottom"===a&&"asc"===r)&&(c*=-1),c},string:function(t,e,o,n,i,r,s){var a,l=s.alignEmptyValues,u=0;if(t){if(e){switch(it(s.locale)){case"boolean":s.locale&&(a=this.table.modules.localize.getLocale());break;case"string":a=s.locale}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),a)}u=1}else u=e?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u},date:function(t,e,o,n,i,r,s){return s.format||(s.format="DD/MM/YYYY"),this.sorters.datetime.call(this,t,e,o,n,i,r,s)},time:function(t,e,o,n,i,r,s){return s.format||(s.format="HH:mm"),this.sorters.datetime.call(this,t,e,o,n,i,r,s)},datetime:function(t,e,o,n,i,r,s){var a=s.format||"DD/MM/YYYY HH:mm:ss",l=s.alignEmptyValues,u=0;if("undefined"!=typeof moment){if(t=moment(t,a),e=moment(e,a),t.isValid()){if(e.isValid())return t-e;u=1}else u=e.isValid()?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(t,e,o,n,i,r,s){return(!0===t||"true"===t||"True"===t||1===t?1:0)-(!0===e||"true"===e||"True"===e||1===e?1:0)},array:function(t,e,o,n,i,r,s){var a=s.type||"length",l=s.alignEmptyValues,u=0;function c(t){switch(a){case"length":return t.length;case"sum":return t.reduce((function(t,e){return t+e}));case"max":return Math.max.apply(null,t);case"min":return Math.min.apply(null,t);case"avg":return t.reduce((function(t,e){return t+e}))/t.length}}if(Array.isArray(t)){if(Array.isArray(e))return(t?c(t):0)-(e?c(e):0);l=1}else l=Array.isArray(e)?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u},exists:function(t,e,o,n,i,r,s){return(void 0===t?0:1)-(void 0===e?0:1)},alphanum:function(t,e,o,n,i,r,s){var a,l,u,c,h,d=0,p=/(\d+)|(\D+)/g,f=/\d/,m=s.alignEmptyValues,g=0;if(t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if((a=String(t).toLowerCase())===(l=String(e).toLowerCase()))return 0;if(!f.test(a)||!f.test(l))return a>l?1:-1;for(a=a.match(p),l=l.match(p),h=a.length>l.length?l.length:a.length;d<h;)if((u=a[d])!==(c=l[d++]))return isFinite(u)&&isFinite(c)?("0"===u.charAt(0)&&(u="."+u),"0"===c.charAt(0)&&(c="."+c),u-c):u>c?1:-1;return a.length>l.length}g=1}else g=e||0===e?-1:0;return("top"===m&&"desc"===r||"bottom"===m&&"asc"===r)&&(g*=-1),g}},mt.prototype.registerModule("sort",Qt);var te=function(t){this.table=t,this.invalidCells=[]};function ee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}te.prototype.initializeColumn=function(t){var e,o=this,n=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach((function(t){(e=o._extractValidator(t))&&n.push(e)})):(e=this._extractValidator(t.definition.validator))&&n.push(e),t.modules.validate=!!n.length&&n)},te.prototype._extractValidator=function(t){var e,o,n;switch(void 0===t?"undefined":it(t)){case"string":return(n=t.indexOf(":"))>-1?(e=t.substring(0,n),o=t.substring(n+1)):e=t,this._buildValidator(e,o);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}},te.prototype._buildValidator=function(t,e){var o="function"==typeof t?t:this.validators[t];return o?{type:"function"==typeof t?"function":t,func:o,params:e}:(console.warn("Validator Setup Error - No matching validator found:",t),!1)},te.prototype.validate=function(t,e,o){var n=this,i=[],r=this.invalidCells.indexOf(e);return t&&t.forEach((function(t){t.func.call(n,e.getComponent(),o,t.params)||i.push({type:t.type,parameters:t.params})})),i=!i.length||i,e.modules.validate||(e.modules.validate={}),!0===i?(e.modules.validate.invalid=!1,e.getElement().classList.remove("tabulator-validation-fail"),r>-1&&this.invalidCells.splice(r,1)):(e.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&e.getElement().classList.add("tabulator-validation-fail"),-1==r&&this.invalidCells.push(e)),i},te.prototype.getInvalidCells=function(){var t=[];return this.invalidCells.forEach((function(e){t.push(e.getComponent())})),t},te.prototype.clearValidation=function(t){var e;t.modules.validate&&t.modules.validate.invalid&&(t.getElement().classList.remove("tabulator-validation-fail"),t.modules.validate.invalid=!1,(e=this.invalidCells.indexOf(t))>-1&&this.invalidCells.splice(e,1))},te.prototype.validators={integer:function(t,e,o){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&Math.floor(e)===e},float:function(t,e,o){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&e%1!=0},numeric:function(t,e,o){return""===e||null==e||!isNaN(e)},string:function(t,e,o){return""===e||null==e||isNaN(e)},max:function(t,e,o){return""===e||null==e||parseFloat(e)<=o},min:function(t,e,o){return""===e||null==e||parseFloat(e)>=o},starts:function(t,e,o){return""===e||null==e||String(e).toLowerCase().startsWith(String(o).toLowerCase())},ends:function(t,e,o){return""===e||null==e||String(e).toLowerCase().endsWith(String(o).toLowerCase())},minLength:function(t,e,o){return""===e||null==e||String(e).length>=o},maxLength:function(t,e,o){return""===e||null==e||String(e).length<=o},in:function(t,e,o){return""===e||null==e||("string"==typeof o&&(o=o.split("|")),""===e||o.indexOf(e)>-1)},regex:function(t,e,o){return""===e||null==e||new RegExp(o).test(e)},unique:function(t,e,o){if(""===e||null==e)return!0;var n=!0,i=t.getData(),r=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(t){var o=t.getData();o!==i&&e==r.getFieldValue(o)&&(n=!1)})),n},required:function(t,e,o){return""!==e&&null!=e}},mt.prototype.registerModule("validate",te);var oe={exports:{}};window;var ne=ee(oe.exports=function(t){function e(e){for(var o,n,r=e[0],s=e[1],a=0,u=[];a<r.length;a++)n=r[a],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);for(l&&l(e);u.length;)u.shift()()}function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}var n={},i={0:0};o.e=function(){return Promise.resolve()},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var r=window.webpackJsonpJsonUrl=window.webpackJsonpJsonUrl||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var a=0;a<r.length;a++)e(r[a]);var l=s;return o(o.s=60)}([function(t,e,o){t.exports=o(34)},function(t,e){function o(t,e,o,n,i,r,s){try{var a=t[r](s),l=a.value}catch(u){return void o(u)}a.done?e(l):Promise.resolve(l).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){function s(t){o(l,i,r,s,a,"next",t)}function a(t){o(l,i,r,s,a,"throw",t)}var l=t.apply(e,n);s(void 0)}))}}},function(t,e,o){var n=o(0),i=o.n(n),r=o(1),s=o.n(r);e.a={msgpack:function(){return s()(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(o.t.bind(null,37,7));case 2:return e=t.sent,n=e.default||e,t.abrupt("return",n());case 5:case"end":return t.stop()}}),t)})))()},safe64:function(){return s()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(o.t.bind(null,55,7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},lzma:function(){return s()(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(o.t.bind(null,57,7));case 2:return e=t.sent,t.abrupt("return",e.compress?e:e.LZMA);case 4:case"end":return t.stop()}}),t)})))()},lzstring:function(){return s()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(o.t.bind(null,58,7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},lzw:function(){return s()(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(o.t.bind(null,59,7));case 2:return e=t.sent,n=e.default||e,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()}}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}},function(t,e,o){(function(t){function o(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===o(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===o(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===o(t)},e.isError=function(t){return"[object Error]"===o(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,o(5).Buffer)},function(t,e,o){function n(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=r.prototype:(null===t&&(t=new r(e)),t.length=e),t}function r(t,e,o){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(t,e,o);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return s(this,t,e,o)}function s(t,e,o,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,o,n){if(e.byteLength,o<0||e.byteLength<o)throw new RangeError("'offset' is out of bounds");if(e.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===o&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,o):new Uint8Array(e,o,n),r.TYPED_ARRAY_SUPPORT?(t=e).__proto__=r.prototype:t=u(t,e),t}(t,e,o,n):"string"==typeof e?function(t,e,o){if("string"==typeof o&&""!==o||(o="utf8"),!r.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(e,o),s=(t=i(t,n)).write(e,o);return s!==n&&(t=t.slice(0,s)),t}(t,e,o):function(t,e){if(r.isBuffer(e)){var o=0|c(e.length);return 0===(t=i(t,o)).length||e.copy(t,0,0,o),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?i(t,0):u(t,e);if("Buffer"===e.type&&N(e.data))return u(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(a(e),t=i(t,e<0?0:0|c(e)),!r.TYPED_ARRAY_SUPPORT)for(var o=0;o<e;++o)t[o]=0;return t}function u(t,e){var o=e.length<0?0:0|c(e.length);t=i(t,o);for(var n=0;n<o;n+=1)t[n]=255&e[n];return t}function c(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function h(t,e){if(r.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var o=t.length;if(0===o)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return O(t).length;default:if(n)return F(t).length;e=(""+e).toLowerCase(),n=!0}}function d(t,e,o){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,o);case"utf8":case"utf-8":return x(this,e,o);case"ascii":return R(this,e,o);case"latin1":case"binary":return M(this,e,o);case"base64":return C(this,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,o);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function p(t,e,o){var n=t[e];t[e]=t[o],t[o]=n}function f(t,e,o,n,i){if(0===t.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=i?0:t.length-1),o<0&&(o=t.length+o),o>=t.length){if(i)return-1;o=t.length-1}else if(o<0){if(!i)return-1;o=0}if("string"==typeof e&&(e=r.from(e,n)),r.isBuffer(e))return 0===e.length?-1:m(t,e,o,n,i);if("number"==typeof e)return e&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,o):Uint8Array.prototype.lastIndexOf.call(t,e,o):m(t,[e],o,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,o,n,i){function r(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var s,a=1,l=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,l/=2,u/=2,o/=2}if(i){var c=-1;for(s=o;s<l;s++)if(r(t,s)===r(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===u)return c*a}else-1!==c&&(s-=s-c),c=-1}else for(o+u>l&&(o=l-u),s=o;s>=0;s--){for(var h=!0,d=0;d<u;d++)if(r(t,s+d)!==r(e,d)){h=!1;break}if(h)return s}return-1}function g(t,e,o,n){o=Number(o)||0;var i=t.length-o;n?(n=Number(n))>i&&(n=i):n=i;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[o+s]=a}return s}function b(t,e,o,n){return B(F(e,t.length-o),t,o,n)}function v(t,e,o,n){return B(function(t){for(var e=[],o=0;o<t.length;++o)e.push(255&t.charCodeAt(o));return e}(e),t,o,n)}function y(t,e,o,n){return v(t,e,o,n)}function w(t,e,o,n){return B(O(e),t,o,n)}function E(t,e,o,n){return B(function(t,e){for(var o,n,i,r=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(o=t.charCodeAt(s))>>8,i=o%256,r.push(i),r.push(n);return r}(e,t.length-o),t,o,n)}function C(t,e,o){return 0===e&&o===t.length?j.fromByteArray(t):j.fromByteArray(t.slice(e,o))}function x(t,e,o){o=Math.min(t.length,o);for(var n=[],i=e;i<o;){var r,s,a,l,u=t[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=o)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(r=t[i+1]))&&(l=(31&u)<<6|63&r)>127&&(c=l);break;case 3:r=t[i+1],s=t[i+2],128==(192&r)&&128==(192&s)&&(l=(15&u)<<12|(63&r)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:r=t[i+1],s=t[i+2],a=t[i+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(l=(15&u)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(t){var e=t.length;if(e<=W)return String.fromCharCode.apply(String,t);for(var o="",n=0;n<e;)o+=String.fromCharCode.apply(String,t.slice(n,n+=W));return o}(n)}function R(t,e,o){var n="";o=Math.min(t.length,o);for(var i=e;i<o;++i)n+=String.fromCharCode(127&t[i]);return n}function M(t,e,o){var n="";o=Math.min(t.length,o);for(var i=e;i<o;++i)n+=String.fromCharCode(t[i]);return n}function L(t,e,o){var n=t.length;(!e||e<0)&&(e=0),(!o||o<0||o>n)&&(o=n);for(var i="",r=e;r<o;++r)i+=H(t[r]);return i}function T(t,e,o){for(var n=t.slice(e,o),i="",r=0;r<n.length;r+=2)i+=String.fromCharCode(n[r]+256*n[r+1]);return i}function k(t,e,o){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>o)throw new RangeError("Trying to access beyond buffer length")}function _(t,e,o,n,i,s){if(!r.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(o+n>t.length)throw new RangeError("Index out of range")}function S(t,e,o,n){e<0&&(e=65535+e+1);for(var i=0,r=Math.min(t.length-o,2);i<r;++i)t[o+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,e,o,n){e<0&&(e=4294967295+e+1);for(var i=0,r=Math.min(t.length-o,4);i<r;++i)t[o+i]=e>>>8*(n?i:3-i)&255}function A(t,e,o,n,i,r){if(o+n>t.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function P(t,e,o,n,i){return i||A(t,0,o,4),I.write(t,e,o,n,23,4),o+4}function z(t,e,o,n,i){return i||A(t,0,o,8),I.write(t,e,o,n,52,8),o+8}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){e=e||1/0;for(var o,n=t.length,i=null,r=[],s=0;s<n;++s){if((o=t.charCodeAt(s))>55295&&o<57344){if(!i){if(o>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&r.push(239,191,189);continue}i=o;continue}if(o<56320){(e-=3)>-1&&r.push(239,191,189),i=o;continue}o=65536+(i-55296<<10|o-56320)}else i&&(e-=3)>-1&&r.push(239,191,189);if(i=null,o<128){if((e-=1)<0)break;r.push(o)}else if(o<2048){if((e-=2)<0)break;r.push(o>>6|192,63&o|128)}else if(o<65536){if((e-=3)<0)break;r.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return r}function O(t){return j.toByteArray(function(t){if((t=(e=t,e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(V,"")).length<2)return"";for(var e;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,o,n){for(var i=0;i<n&&!(i+o>=e.length||i>=t.length);++i)e[i+o]=t[i];return i}var j=o(35),I=o(36),N=o(15);e.Buffer=r,e.SlowBuffer=function(t){return+t!=t&&(t=0),r.alloc(+t)},e.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=n(),r.poolSize=8192,r._augment=function(t){return t.__proto__=r.prototype,t},r.from=function(t,e,o){return s(null,t,e,o)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(t,e,o){return n=null,s=e,l=o,a(r=t),r<=0?i(n,r):void 0!==s?"string"==typeof l?i(n,r).fill(s,l):i(n,r).fill(s):i(n,r);var n,r,s,l},r.allocUnsafe=function(t){return l(null,t)},r.allocUnsafeSlow=function(t){return l(null,t)},r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var o=t.length,n=e.length,i=0,s=Math.min(o,n);i<s;++i)if(t[i]!==e[i]){o=t[i],n=e[i];break}return o<n?-1:n<o?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!N(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return r.alloc(0);var o;if(void 0===e)for(e=0,o=0;o<t.length;++o)e+=t[o].length;var n=r.allocUnsafe(e),i=0;for(o=0;o<t.length;++o){var s=t[o];if(!r.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},r.byteLength=h,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},r.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},r.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},r.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):d.apply(this,arguments)},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===r.compare(this,t)},r.prototype.inspect=function(){var t="",o=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t,e,o,n,i){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===o&&(o=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||o>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=o)return 0;if(n>=i)return-1;if(e>=o)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),a=(o>>>=0)-(e>>>=0),l=Math.min(s,a),u=this.slice(n,i),c=t.slice(e,o),h=0;h<l;++h)if(u[h]!==c[h]){s=u[h],a=c[h];break}return s<a?-1:a<s?1:0},r.prototype.includes=function(t,e,o){return-1!==this.indexOf(t,e,o)},r.prototype.indexOf=function(t,e,o){return f(this,t,e,o,!0)},r.prototype.lastIndexOf=function(t,e,o){return f(this,t,e,o,!1)},r.prototype.write=function(t,e,o,n){if(void 0===e)n="utf8",o=this.length,e=0;else if(void 0===o&&"string"==typeof e)n=e,o=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var i=this.length-e;if((void 0===o||o>i)&&(o=i),t.length>0&&(o<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return g(this,t,e,o);case"utf8":case"utf-8":return b(this,t,e,o);case"ascii":return v(this,t,e,o);case"latin1":case"binary":return y(this,t,e,o);case"base64":return w(this,t,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,o);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;r.prototype.slice=function(t,e){var o,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),r.TYPED_ARRAY_SUPPORT)(o=this.subarray(t,e)).__proto__=r.prototype;else{var i=e-t;o=new r(i,void 0);for(var s=0;s<i;++s)o[s]=this[s+t]}return o},r.prototype.readUIntLE=function(t,e,o){t|=0,e|=0,o||k(t,e,this.length);for(var n=this[t],i=1,r=0;++r<e&&(i*=256);)n+=this[t+r]*i;return n},r.prototype.readUIntBE=function(t,e,o){t|=0,e|=0,o||k(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},r.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,o){t|=0,e|=0,o||k(t,e,this.length);for(var n=this[t],i=1,r=0;++r<e&&(i*=256);)n+=this[t+r]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},r.prototype.readIntBE=function(t,e,o){t|=0,e|=0,o||k(t,e,this.length);for(var n=e,i=1,r=this[t+--n];n>0&&(i*=256);)r+=this[t+--n]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},r.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var o=this[t]|this[t+1]<<8;return 32768&o?4294901760|o:o},r.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var o=this[t+1]|this[t]<<8;return 32768&o?4294901760|o:o},r.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),I.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),I.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),I.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),I.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,o,n){t=+t,e|=0,o|=0,n||_(this,t,e,o,Math.pow(2,8*o)-1,0);var i=1,r=0;for(this[e]=255&t;++r<o&&(i*=256);)this[e+r]=t/i&255;return e+o},r.prototype.writeUIntBE=function(t,e,o,n){t=+t,e|=0,o|=0,n||_(this,t,e,o,Math.pow(2,8*o)-1,0);var i=o-1,r=1;for(this[e+i]=255&t;--i>=0&&(r*=256);)this[e+i]=t/r&255;return e+o},r.prototype.writeUInt8=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},r.prototype.writeUInt16LE=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},r.prototype.writeIntLE=function(t,e,o,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*o-1);_(this,t,e,o,i-1,-i)}var r=0,s=1,a=0;for(this[e]=255&t;++r<o&&(s*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+o},r.prototype.writeIntBE=function(t,e,o,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*o-1);_(this,t,e,o,i-1,-i)}var r=o-1,s=1,a=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+o},r.prototype.writeInt8=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},r.prototype.writeInt16LE=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,o){return t=+t,e|=0,o||_(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,o){return P(this,t,e,!0,o)},r.prototype.writeFloatBE=function(t,e,o){return P(this,t,e,!1,o)},r.prototype.writeDoubleLE=function(t,e,o){return z(this,t,e,!0,o)},r.prototype.writeDoubleBE=function(t,e,o){return z(this,t,e,!1,o)},r.prototype.copy=function(t,e,o,n){if(o||(o=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-o&&(n=t.length-e+o);var i,s=n-o;if(this===t&&o<e&&e<n)for(i=s-1;i>=0;--i)t[i+e]=this[i+o];else if(s<1e3||!r.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+o];else Uint8Array.prototype.set.call(t,this.subarray(o,o+s),e);return s},r.prototype.fill=function(t,e,o,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!r.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<o)throw new RangeError("Out of range index");if(o<=e)return this;var s;if(e>>>=0,o=void 0===o?this.length:o>>>0,t||(t=0),"number"==typeof t)for(s=e;s<o;++s)this[s]=t;else{var a=r.isBuffer(t)?t:F(new r(t,n).toString()),l=a.length;for(s=0;s<o-e;++s)this[s+e]=a[s%l]}return this};var V=/[^+\/0-9A-Za-z-_]/g},function(t,e){function o(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===o||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(n){return u.call(this,t,0)}}}function r(){f&&d&&(f=!1,d.length?p=d.concat(p):m=-1,p.length&&s())}function s(){if(!f){var t=i(r);f=!0;for(var e=p.length;e;){for(d=p,p=[];++m<e;)d&&d[m].run();m=-1,e=p.length}d=null,f=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(o){return c.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function l(){}var u,c,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:o}catch(t){u=o}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var d,p=[],f=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];p.push(new a(t,e)),1!==p.length||f||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,o){function n(t){if(!(this instanceof n))return new n(t);u.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s.nextTick(r,this)}function r(t){t.end()}var s=o(11),a=Object.keys||function(t){var e=[];for(var o in t)e.push(o);return e};t.exports=n;var l=Object.create(o(4));l.inherits=o(3);var u=o(20),c=o(23);l.inherits(n,u);for(var h=a(c.prototype),d=0;d<h.length;d++){var p=h[d];n.prototype[p]||(n.prototype[p]=c.prototype[p])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),n.prototype._destroy=function(t,e){this.push(null),this.end(),s.nextTick(e,t)}},function(t,e,o){function n(t){if(!(this instanceof n))return new n(t);u.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s.nextTick(r,this)}function r(t){t.end()}var s=o(14),a=Object.keys||function(t){var e=[];for(var o in t)e.push(o);return e};t.exports=n;var l=Object.create(o(4));l.inherits=o(3);var u=o(26),c=o(29);l.inherits(n,u);for(var h=a(c.prototype),d=0;d<h.length;d++){var p=h[d];n.prototype[p]||(n.prototype[p]=c.prototype[p])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),n.prototype._destroy=function(t,e){this.push(null),this.end(),s.nextTick(e,t)}},function(t,e,o){function n(t,e){for(var o in t)e[o]=t[o]}function i(t,e,o){return s(t,e,o)}var r=o(5),s=r.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=r:(n(r,e),e.Buffer=i),n(s,i),i.from=function(t,e,o){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,o)},i.alloc=function(t,e,o){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=s(t);return void 0!==e?"string"==typeof o?n.fill(e,o):n.fill(e):n.fill(0),n},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,o){function n(t){if(!(this instanceof n))return new n(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)}))}else this.append(t);i.call(this)}var i=o(41).Duplex,r=o(16),s=o(9).Buffer;r.inherits(n,i),n.prototype._offset=function(t){var e,o=0,n=0;if(0===t)return[0,0];for(;n<this._bufs.length;n++){if(t<(e=o+this._bufs[n].length)||n==this._bufs.length-1)return[n,t-o];o=e}},n.prototype._reverseOffset=function(t){for(var e=t[0],o=t[1],n=0;n<e;n++)o+=this._bufs[n].length;return o},n.prototype.append=function(t){var e=0;if(s.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof n)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(s.from(t)));return this},n.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},n.prototype._write=function(t,e,o){this._appendBuffer(t),"function"==typeof o&&o()},n.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},n.prototype.end=function(t){i.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype.get=function(t){if(!(t>this.length||t<0)){var e=this._offset(t);return this._bufs[e[0]][e[1]]}},n.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},n.prototype.copy=function(t,e,o,n){if(("number"!=typeof o||o<0)&&(o=0),("number"!=typeof n||n>this.length)&&(n=this.length),o>=this.length)return t||s.alloc(0);if(n<=0)return t||s.alloc(0);var i,r,a=!!t,l=this._offset(o),u=n-o,c=u,h=a&&e||0,d=l[1];if(0===o&&n==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:s.concat(this._bufs,this.length);for(r=0;r<this._bufs.length;r++)this._bufs[r].copy(t,h),h+=this._bufs[r].length;return t}if(c<=this._bufs[l[0]].length-d)return a?this._bufs[l[0]].copy(t,e,d,d+c):this._bufs[l[0]].slice(d,d+c);for(a||(t=s.allocUnsafe(u)),r=l[0];r<this._bufs.length;r++){if(!(c>(i=this._bufs[r].length-d))){this._bufs[r].copy(t,h,d,d+c),h+=i;break}this._bufs[r].copy(t,h,d),h+=i,c-=i,d&&(d=0)}return t.length>h?t.slice(0,h):t},n.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return new n;var o=this._offset(t),i=this._offset(e),r=this._bufs.slice(o[0],i[0]+1);return 0==i[1]?r.pop():r[r.length-1]=r[r.length-1].slice(0,i[1]),0!=o[1]&&(r[0]=r[0].slice(o[1])),new n(r)},n.prototype.toString=function(t,e,o){return this.slice(e,o).toString(t)},n.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},n.prototype.duplicate=function(){for(var t=0,e=new n;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},n.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},n.prototype.indexOf=function(t,e,o){if(void 0===o&&"string"==typeof e&&(o=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=s.from([t]):"string"==typeof t?t=s.from(t,o):t instanceof n?t=t.slice():s.isBuffer(t)||(t=s.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;for(var i=this._offset(e),r=i[0],a=i[1];r<this._bufs.length;r++){for(var l=this._bufs[r];a<l.length;)if(l.length-a>=t.length){var u=l.indexOf(t,a);if(-1!==u)return this._reverseOffset([r,u]);a=l.length-t.length+1}else{var c=this._reverseOffset([r,a]);if(this._match(c,t))return c;a++}a=0}return-1},n.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(var o=0;o<e.length;o++)if(this.get(t+o)!==e[o])return!1;return!0},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var e in t)!function(e){n.prototype[e]=null===t[e]?function(t,o){return this.slice(t,t+o)[e](0,o)}:function(o){return this.slice(o,o+t[e])[e](0)}}(e)}(),t.exports=n},function(t,e,o){(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,o,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,o)}));case 3:return e.nextTick((function(){t.call(null,o,n)}));case 4:return e.nextTick((function(){t.call(null,o,n,i)}));default:for(r=new Array(a-1),s=0;s<r.length;)r[s++]=arguments[s];return e.nextTick((function(){t.apply(null,r)}))}}}:t.exports=e}).call(this,o(6))},function(t,e,o){function n(){n.init.call(this)}function i(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function r(t){return void 0===t._maxListeners?n.defaultMaxListeners:t._maxListeners}function s(t,e,o,n){var s,a,l,u;if(i(o),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,o.listener?o.listener:o),a=t._events),l=a[e]),void 0===l)l=a[e]=o,++t._eventsCount;else if("function"==typeof l?l=a[e]=n?[o,l]:[l,o]:n?l.unshift(o):l.push(o),(s=r(t))>0&&l.length>s&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=l.length,u=c,console&&console.warn&&console.warn(u)}return t}function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,o){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:o},i=a.bind(n);return i.listener=o,n.wrapFn=i,i}function u(t,e,o){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?o?[i.listener||i]:[i]:o?function(t){for(var e=new Array(t.length),o=0;o<e.length;++o)e[o]=t[o].listener||t[o];return e}(i):h(i,i.length)}function c(t){var e=this._events;if(void 0!==e){var o=e[t];if("function"==typeof o)return 1;if(void 0!==o)return o.length}return 0}function h(t,e){for(var o=new Array(e),n=0;n<e;++n)o[n]=t[n];return o}var d,p="object"==typeof Reflect?Reflect:null,f=p&&"function"==typeof p.apply?p.apply:function(t,e,o){return Function.prototype.apply.call(t,e,o)};d=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var m=Number.isNaN||function(t){return t!=t};t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var g=10;Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(t){if("number"!=typeof t||t<0||m(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g=t}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||m(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},n.prototype.getMaxListeners=function(){return r(this)},n.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e.push(arguments[o]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var s=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw s.context=r,s}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)f(a,this,e);else{var l=a.length,u=h(a,l);for(o=0;o<l;++o)f(u[o],this,e)}return!0},n.prototype.addListener=function(t,e){return s(this,t,e,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(t,e){return s(this,t,e,!0)},n.prototype.once=function(t,e){return i(e),this.on(t,l(this,t,e)),this},n.prototype.prependOnceListener=function(t,e){return i(e),this.prependListener(t,l(this,t,e)),this},n.prototype.removeListener=function(t,e){var o,n,r,s,a;if(i(e),void 0===(n=this._events))return this;if(void 0===(o=n[t]))return this;if(o===e||o.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,o.listener||e));else if("function"!=typeof o){for(r=-1,s=o.length-1;s>=0;s--)if(o[s]===e||o[s].listener===e){a=o[s].listener,r=s;break}if(r<0)return this;0===r?o.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(o,r),1===o.length&&(n[t]=o[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(t){var e,o,n;if(void 0===(o=this._events))return this;if(void 0===o.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==o[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete o[t]),this;if(0===arguments.length){var i,r=Object.keys(o);for(n=0;n<r.length;++n)"removeListener"!==(i=r[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=o[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},n.prototype.listeners=function(t){return u(this,t,!0)},n.prototype.rawListeners=function(t){return u(this,t,!1)},n.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):c.call(t,e)},n.prototype.listenerCount=c,n.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},function(t,e,o){function n(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(d.isEncoding===p||!p(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=s,this.end=a,e=4;break;case"utf8":this.fillLast=r,e=4;break;case"base64":this.text=l,this.end=u,e=3;break;default:return this.write=c,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(e)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function r(t){var e=this.lastTotal-this.lastNeed,o=function(t,e,o){if(128!=(192&e[0]))return t.lastNeed=0,"".repeat(o);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"".repeat(o+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"".repeat(o+2)}}(this,t,e);return void 0!==o?o:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var o=t.toString("utf16le",e);if(o){var n=o.charCodeAt(o.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],o.slice(0,-1)}return o}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function a(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var o=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,o)}return e}function l(t,e){var o=(t.length-e)%3;return 0===o?t.toString("base64",e):(this.lastNeed=3-o,this.lastTotal=3,1===o?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-o))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}var d=o(9).Buffer,p=d.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=n,n.prototype.write=function(t){if(0===t.length)return"";var e,o;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";o=this.lastNeed,this.lastNeed=0}else o=0;return o<t.length?e?e+this.text(t,o):this.text(t,o):e||""},n.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"".repeat(this.lastTotal-this.lastNeed):e},n.prototype.text=function(t,e){var o=function(t,e,o){var n=e.length-1;if(n<o)return 0;var r=i(e[n]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--n<o?0:(r=i(e[n]))>=0?(r>0&&(t.lastNeed=r-2),r):--n<o?0:(r=i(e[n]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=o;var n=t.length-(o-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},n.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,o){(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,o,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,o)}));case 3:return e.nextTick((function(){t.call(null,o,n)}));case 4:return e.nextTick((function(){t.call(null,o,n,i)}));default:for(r=new Array(a-1),s=0;s<r.length;)r[s++]=arguments[s];return e.nextTick((function(){t.apply(null,r)}))}}}:t.exports=e}).call(this,o(6))},function(t,e){var o={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==o.call(t)}},function(t,e,o){(function(t){function n(t,o){var n={seen:[],stylize:r};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(o)?n.showHidden=o:o&&e._extend(n,o),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),s(n,t,n.depth)}function i(t,e){var o=n.styles[e];return o?"["+n.colors[o][0]+"m"+t+"["+n.colors[o][1]+"m":t}function r(t,e){return t}function s(t,o,n){if(t.customInspect&&o&&w(o.inspect)&&o.inspect!==e.inspect&&(!o.constructor||o.constructor.prototype!==o)){var i=o.inspect(n,t);return f(i)||(i=s(t,i,n)),i}var r=a(t,o);if(r)return r;var h,d=Object.keys(o),p=(h={},d.forEach((function(t,e){h[t]=!0})),h);if(t.showHidden&&(d=Object.getOwnPropertyNames(o)),y(o)&&(d.indexOf("message")>=0||d.indexOf("description")>=0))return l(o);if(0===d.length){if(w(o)){var m=o.name?": "+o.name:"";return t.stylize("[Function"+m+"]","special")}if(g(o))return t.stylize(RegExp.prototype.toString.call(o),"regexp");if(v(o))return t.stylize(Date.prototype.toString.call(o),"date");if(y(o))return l(o)}var b,E="",C=!1,x=["{","}"];return c(o)&&(C=!0,x=["[","]"]),w(o)&&(E=" [Function"+(o.name?": "+o.name:"")+"]"),g(o)&&(E=" "+RegExp.prototype.toString.call(o)),v(o)&&(E=" "+Date.prototype.toUTCString.call(o)),y(o)&&(E=" "+l(o)),0!==d.length||C&&0!=o.length?n<0?g(o)?t.stylize(RegExp.prototype.toString.call(o),"regexp"):t.stylize("[Object]","special"):(t.seen.push(o),b=C?function(t,e,o,n,i){for(var r=[],s=0,a=e.length;s<a;++s)R(e,String(s))?r.push(u(t,e,o,n,String(s),!0)):r.push("");return i.forEach((function(i){i.match(/^\d+$/)||r.push(u(t,e,o,n,i,!0))})),r}(t,o,n,p,d):d.map((function(e){return u(t,o,n,p,e,C)})),t.seen.pop(),function(t,e,o){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?o[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+o[1]:o[0]+e+" "+t.join(", ")+" "+o[1]}(b,E,x)):x[0]+E+x[1]}function a(t,e){if(m(e))return t.stylize("undefined","undefined");if(f(e)){var o="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(o,"string")}return p(e)?t.stylize(""+e,"number"):h(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function u(t,e,o,n,i,r){var a,l,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?l=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(l=t.stylize("[Setter]","special")),R(n,i)||(a="["+i+"]"),l||(t.seen.indexOf(u.value)<0?(l=d(o)?s(t,u.value,null):s(t,u.value,o-1)).indexOf("\n")>-1&&(l=r?l.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+l.split("\n").map((function(t){return"   "+t})).join("\n")):l=t.stylize("[Circular]","special")),m(a)){if(r&&i.match(/^\d+$/))return l;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+l}function c(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function d(t){return null===t}function p(t){return"number"==typeof t}function f(t){return"string"==typeof t}function m(t){return void 0===t}function g(t){return b(t)&&"[object RegExp]"===E(t)}function b(t){return"object"==typeof t&&null!==t}function v(t){return b(t)&&"[object Date]"===E(t)}function y(t){return b(t)&&("[object Error]"===E(t)||t instanceof Error)}function w(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}function x(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){if(!t){var o=new Error("Promise was rejected with a falsy value");o.reason=t,t=o}return e(t)}var L=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),o={},n=0;n<e.length;n++)o[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return o},T=/%[sdj%]/g;e.format=function(t){if(!f(t)){for(var e=[],o=0;o<arguments.length;o++)e.push(n(arguments[o]));return e.join(" ")}o=1;for(var i=arguments,r=i.length,s=String(t).replace(T,(function(t){if("%%"===t)return"%";if(o>=r)return t;switch(t){case"%s":return String(i[o++]);case"%d":return Number(i[o++]);case"%j":try{return JSON.stringify(i[o++])}catch(e){return"[Circular]"}default:return t}})),a=i[o];o<r;a=i[++o])d(a)||!b(a)?s+=" "+a:s+=" "+n(a);return s},e.deprecate=function(o,n){if(void 0!==t&&!0===t.noDeprecation)return o;if(void 0===t)return function(){return e.deprecate(o,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),i=!0}return o.apply(this,arguments)}};var k,_={};e.debuglog=function(o){if(m(k)&&(k=t.env.NODE_DEBUG||""),o=o.toUpperCase(),!_[o])if(new RegExp("\\b"+o+"\\b","i").test(k)){var n=t.pid;_[o]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",o,n,t)}}else _[o]=function(){};return _[o]},e.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=c,e.isBoolean=h,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=p,e.isString=f,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=g,e.isObject=b,e.isDate=v,e.isError=y,e.isFunction=w,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=o(40);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",x(),e.format.apply(e,arguments))},e.inherits=o(3),e._extend=function(t,e){if(!e||!b(e))return t;for(var o=Object.keys(e),n=o.length;n--;)t[o[n]]=e[o[n]];return t};var D="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;e.promisify=function(t){function e(){for(var e,o,n=new Promise((function(t,n){e=t,o=n})),i=[],r=0;r<arguments.length;r++)i.push(arguments[r]);i.push((function(t,n){t?o(t):e(n)}));try{t.apply(this,i)}catch(s){o(s)}return n}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(D&&t[D]){var e;if("function"!=typeof(e=t[D]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,D,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),D&&Object.defineProperty(e,D,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,L(t))},e.promisify.custom=D,e.callbackify=function(e){function o(){for(var o=[],n=0;n<arguments.length;n++)o.push(arguments[n]);var i=o.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var r=this,s=function(){return i.apply(r,arguments)};e.apply(this,o).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(M,e,s)}))}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(o,Object.getPrototypeOf(e)),Object.defineProperties(o,L(e)),o}}).call(this,o(6))},function(t,e,o){function n(t,e){this._id=t,this._clearFn=e}var i="undefined"!=typeof window&&window||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;e.setTimeout=function(){return new n(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new n(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},o(45),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof window&&window.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof window&&window.clearImmediate||this&&this.clearImmediate},function(t,e,o){function n(t,e){for(var o in t)e[o]=t[o]}function i(t,e,o){return s(t,e,o)}var r=o(5),s=r.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=r:(n(r,e),e.Buffer=i),n(s,i),i.from=function(t,e,o){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,o)},i.alloc=function(t,e,o){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=s(t);return void 0!==e?"string"==typeof o?n.fill(e,o):n.fill(e):n.fill(0),n},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,o){function n(t,e){for(var o in t)e[o]=t[o]}function i(t,e,o){return s(t,e,o)}var r=o(5),s=r.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=r:(n(r,e),e.Buffer=i),i.prototype=Object.create(s.prototype),n(s,i),i.from=function(t,e,o){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,o)},i.alloc=function(t,e,o){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=s(t);return void 0!==e?"string"==typeof o?n.fill(e,o):n.fill(e):n.fill(0),n},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,o){(function(e){function n(t,e){t=t||{};var n=e instanceof(E=E||o(7));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,r=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(r||0===r)?r:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(S||(S=o(13).StringDecoder),this.decoder=new S(t.encoding),this.encoding=t.encoding)}function i(t){if(E=E||o(7),!(this instanceof i))return new i(t);this._readableState=new n(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),R.call(this)}function r(t,e,o,n,i){var r,l,c=t._readableState;return null===e?(c.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var o=e.decoder.end();o&&o.length&&(e.buffer.push(o),e.length+=e.objectMode?1:o.length)}e.ended=!0,u(t)}}(t,c)):(i||(r=a(c,e)),r?t.emit("error",r):c.objectMode||e&&e.length>0?("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===M.prototype||(l=e,e=M.from(l)),n?c.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):s(t,c,e,!0):c.ended?t.emit("error",new Error("stream.push() after EOF")):(c.reading=!1,c.decoder&&!o?(e=c.decoder.write(e),c.objectMode||0!==e.length?s(t,c,e,!1):h(t,c)):s(t,c,e,!1))):n||(c.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(c)}function s(t,e,o,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",o),t.read(0)):(e.length+=e.objectMode?1:o.length,n?e.buffer.unshift(o):e.buffer.push(o),e.needReadable&&u(t)),h(t,e)}function a(t,e){var o,n;return n=e,M.isBuffer(n)||n instanceof L||"string"==typeof e||void 0===e||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o}function l(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=((o=t)>=z?o=z:(o--,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o++),o)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var o}function u(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(_("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?w.nextTick(c,t):c(t))}function c(t){_("emit readable"),t.emit("readable"),m(t)}function h(t,e){e.readingMore||(e.readingMore=!0,w.nextTick(d,t,e))}function d(t,e){for(var o=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(_("maybeReadMore read 0"),t.read(0),o!==e.length);)o=e.length;e.readingMore=!1}function p(t){_("readable nexttick read 0"),t.read(0)}function f(t,e){e.reading||(_("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}function m(t){var e=t._readableState;for(_("flow",e.flowing);e.flowing&&null!==t.read(););}function g(t,e){return 0===e.length?null:(e.objectMode?s=e.buffer.shift():!t||t>=e.length?(s=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):(o=t,n=e.buffer,i=e.decoder,o<n.head.data.length?(r=n.head.data.slice(0,o),n.head.data=n.head.data.slice(o)):r=o===n.head.data.length?n.shift():i?function(t,e){var o=e.head,n=1,i=o.data;for(t-=i.length;o=o.next;){var r=o.data,s=t>r.length?r.length:t;if(s===r.length?i+=r:i+=r.slice(0,t),0==(t-=s)){s===r.length?(++n,o.next?e.head=o.next:e.head=e.tail=null):(e.head=o,o.data=r.slice(s));break}++n}return e.length-=n,i}(o,n):function(t,e){var o=M.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(o),t-=n.data.length;n=n.next;){var r=n.data,s=t>r.length?r.length:t;if(r.copy(o,o.length-t,0,s),0==(t-=s)){s===r.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=r.slice(s));break}++i}return e.length-=i,o}(o,n),s=r),s);var o,n,i,r,s}function b(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,w.nextTick(v,e,t))}function v(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function y(t,e){for(var o=0,n=t.length;o<n;o++)if(t[o]===e)return o;return-1}var w=o(11);t.exports=i;var E,C=o(15);i.ReadableState=n;var x=(o(12).EventEmitter,function(t,e){return t.listeners(e).length}),R=o(21),M=o(9).Buffer,L=window.Uint8Array||function(){},T=Object.create(o(4));T.inherits=o(3);var k=o(42),_=void 0;_=k&&k.debuglog?k.debuglog("stream"):function(){};var S,D=o(43),A=o(22);T.inherits(i,R);var P=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),i.prototype.destroy=A.destroy,i.prototype._undestroy=A.undestroy,i.prototype._destroy=function(t,e){this.push(null),e(t)},i.prototype.push=function(t,e){var o,n=this._readableState;return n.objectMode?o=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=M.from(t,e),e=""),o=!0),r(this,t,e,!1,o)},i.prototype.unshift=function(t){return r(this,t,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(t){return S||(S=o(13).StringDecoder),this._readableState.decoder=new S(t),this._readableState.encoding=t,this};var z=8388608;i.prototype.read=function(t){_("read",t),t=parseInt(t,10);var e=this._readableState,o=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return _("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?b(this):u(this),null;if(0===(t=l(t,e))&&e.ended)return 0===e.length&&b(this),null;var n,i=e.needReadable;return _("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&_("length less than watermark",i=!0),e.ended||e.reading?_("reading or ended",i=!1):i&&(_("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=l(o,e))),null===(n=t>0?g(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),o!==t&&e.ended&&b(this)),null!==n&&this.emit("data",n),n},i.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(t,o){function n(t,e){_("onunpipe"),t===h&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,r())}function i(){_("onend"),t.end()}function r(){_("cleanup"),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("drain",g),t.removeListener("error",a),t.removeListener("unpipe",n),h.removeListener("end",i),h.removeListener("end",c),h.removeListener("data",s),b=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||g()}function s(e){_("ondata"),v=!1,!1!==t.write(e)||v||((1===d.pipesCount&&d.pipes===t||d.pipesCount>1&&-1!==y(d.pipes,t))&&!b&&(_("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,v=!0),h.pause())}function a(e){_("onerror",e),c(),t.removeListener("error",a),0===x(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",u),c()}function u(){_("onfinish"),t.removeListener("close",l),c()}function c(){_("unpipe"),h.unpipe(t)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,_("pipe count=%d opts=%j",d.pipesCount,o);var p=o&&!1===o.end||t===e.stdout||t===e.stderr?c:i;d.endEmitted?w.nextTick(p):h.once("end",p),t.on("unpipe",n);var f,g=(f=h,function(){var t=f._readableState;_("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&x(f,"data")&&(t.flowing=!0,m(f))});t.on("drain",g);var b=!1,v=!1;return h.on("data",s),function(t,e,o){if("function"==typeof t.prependListener)return t.prependListener(e,o);t._events&&t._events[e]?C(t._events[e])?t._events[e].unshift(o):t._events[e]=[o,t._events[e]]:t.on(e,o)}(t,"error",a),t.once("close",l),t.once("finish",u),t.emit("pipe",h),d.flowing||(_("pipe resume"),h.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState,o={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,o)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this,o);return this}var s=y(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,o)),this},i.prototype.on=function(t,e){var o=R.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&u(this):w.nextTick(p,this))}return o},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t,e,o=this._readableState;return o.flowing||(_("resume"),o.flowing=!0,t=this,(e=o).resumeScheduled||(e.resumeScheduled=!0,w.nextTick(f,t,e))),this},i.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this,o=this._readableState,n=!1;for(var i in t.on("end",(function(){if(_("wrapped end"),o.decoder&&!o.ended){var t=o.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){_("wrapped data"),o.decoder&&(i=o.decoder.write(i)),o.objectMode&&null==i||!(o.objectMode||i&&i.length)||e.push(i)||(n=!0,t.pause())})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var r=0;r<P.length;r++)t.on(P[r],this.emit.bind(this,P[r]));return this._read=function(e){_("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),i._fromList=g}).call(this,o(6))},function(t,e,o){t.exports=o(12).EventEmitter},function(t,e,o){function n(t,e){t.emit("error",e)}var i=o(11);t.exports={destroy:function(t,e){var o=this,r=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return r||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(n,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(n,o,t),o._writableState&&(o._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,o){(function(e,n){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,o){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(o),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function r(){}function s(t,e){g=g||o(7),t=t||{};var n=e instanceof g;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,s=t.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var o,n=t._writableState,i=n.sync,r=n.writecb;if((o=n).writing=!1,o.writecb=null,o.length-=o.writelen,o.writelen=0,e)!function(t,e,o,n,i){--e.pendingcb,o?(m.nextTick(i,n),m.nextTick(f,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),f(t,e))}(t,n,i,e,r);else{var s=d(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||h(t,n),i?b(c,t,n,s,r):c(t,n,s,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function a(t){if(g=g||o(7),!(y.call(a,this)||this instanceof g))return new a(t);this._writableState=new s(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),E.call(this)}function l(t,e,o,n,i,r){if(!o){var s=(l=n,c=i,(a=e).objectMode||!1===a.decodeStrings||"string"!=typeof l||(l=C.from(l,c)),l);n!==s&&(o=!0,i="buffer",n=s)}var a,l,c,h=e.objectMode?1:n.length;e.length+=h;var d=e.length<e.highWaterMark;if(d||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:o,callback:r,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else u(t,e,!1,h,n,i,r);return d}function u(t,e,o,n,i,r,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,o?t._writev(i,e.onwrite):t._write(i,r,e.onwrite),e.sync=!1}function c(t,e,o,n){var i,r;o||(i=t,0===(r=e).length&&r.needDrain&&(r.needDrain=!1,i.emit("drain"))),e.pendingcb--,n(),f(t,e)}function h(t,e){e.bufferProcessing=!0;var o=e.bufferedRequest;if(t._writev&&o&&o.next){var n=e.bufferedRequestCount,r=new Array(n),s=e.corkedRequestsFree;s.entry=o;for(var a=0,l=!0;o;)r[a]=o,o.isBuf||(l=!1),o=o.next,a+=1;r.allBuffers=l,u(t,e,!0,e.length,r,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;o;){var c=o.chunk,h=o.encoding,d=o.callback;if(u(t,e,!1,e.objectMode?1:c.length,c,h,d),o=o.next,e.bufferedRequestCount--,e.writing)break}null===o&&(e.lastBufferedRequest=null)}e.bufferedRequest=o,e.bufferProcessing=!1}function d(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function p(t,e){t._final((function(o){e.pendingcb--,o&&t.emit("error",o),e.prefinished=!0,t.emit("prefinish"),f(t,e)}))}function f(t,e){var o,n,i=d(e);return i&&(o=t,(n=e).prefinished||n.finalCalled||("function"==typeof o._final?(n.pendingcb++,n.finalCalled=!0,m.nextTick(p,o,n)):(n.prefinished=!0,o.emit("prefinish"))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),i}var m=o(11);t.exports=a;var g,b=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:m.nextTick;a.WritableState=s;var v=Object.create(o(4));v.inherits=o(3);var y,w={deprecate:o(24)},E=o(21),C=o(9).Buffer,x=window.Uint8Array||function(){},R=o(22);v.inherits(a,E),s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:w.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(t){return!!y.call(this,t)||this===a&&t&&t._writableState instanceof s}})):y=function(t){return t instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(t,e,o){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=t,C.isBuffer(n)||n instanceof x);return a&&!C.isBuffer(t)&&(t=function(t){return C.from(t)}(t)),"function"==typeof e&&(o=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof o&&(o=r),i.ended?function(t,e){var o=new Error("write after end");t.emit("error",o),m.nextTick(e,o)}(this,o):(a||function(t,e,o,n){var i=!0,r=!1;return null===o?r=new TypeError("May not write null values to stream"):"string"==typeof o||void 0===o||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r&&(t.emit("error",r),m.nextTick(n,r),i=!1),i}(this,i,t,o))&&(i.pendingcb++,s=l(this,i,a,t,e,o)),s},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||h(this,t))},a.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),a.prototype._write=function(t,e,o){o(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(t,e,o){var n,i,r,s=this._writableState;"function"==typeof t?(o=t,t=null,e=null):"function"==typeof e&&(o=e,e=null),null!=t&&this.write(t,e),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||(n=this,r=o,(i=s).ending=!0,f(n,i),r&&(i.finished?m.nextTick(r):n.once("finish",r)),i.ended=!0,n.writable=!1)},Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),a.prototype.destroy=R.destroy,a.prototype._undestroy=R.undestroy,a.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,o(6),o(17).setImmediate)},function(t,e){function o(t){try{if(!window.localStorage)return!1}catch(o){return!1}var e=window.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(o("noDeprecation"))return t;var n=!1;return function(){if(!n){if(o("throwDeprecation"))throw new Error(e);o("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}},function(t,e,o){function n(t,e){var o=this._transformState;o.transforming=!1;var n=o.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));o.writechunk=null,o.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);a.call(this,t),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",r)}function r(){var t=this;"function"==typeof this._flush?this._flush((function(e,o){s(t,e,o)})):s(this,null,null)}function s(t,e,o){if(e)return t.emit("error",e);if(null!=o&&t.push(o),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=i;var a=o(7),l=Object.create(o(4));l.inherits=o(3),l.inherits(i,a),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,o){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,o){var n=this._transformState;if(n.writecb=o,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var o=this;a.prototype._destroy.call(this,t,(function(t){e(t),o.emit("close")}))}},function(t,e,o){(function(e){function n(t,e){t=t||{};var n=e instanceof(E=E||o(8));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,r=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(r||0===r)?r:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(S||(S=o(13).StringDecoder),this.decoder=new S(t.encoding),this.encoding=t.encoding)}function i(t){if(E=E||o(8),!(this instanceof i))return new i(t);this._readableState=new n(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),R.call(this)}function r(t,e,o,n,i){var r,l,c=t._readableState;return null===e?(c.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var o=e.decoder.end();o&&o.length&&(e.buffer.push(o),e.length+=e.objectMode?1:o.length)}e.ended=!0,u(t)}}(t,c)):(i||(r=a(c,e)),r?t.emit("error",r):c.objectMode||e&&e.length>0?("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===M.prototype||(l=e,e=M.from(l)),n?c.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):s(t,c,e,!0):c.ended?t.emit("error",new Error("stream.push() after EOF")):(c.reading=!1,c.decoder&&!o?(e=c.decoder.write(e),c.objectMode||0!==e.length?s(t,c,e,!1):h(t,c)):s(t,c,e,!1))):n||(c.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(c)}function s(t,e,o,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",o),t.read(0)):(e.length+=e.objectMode?1:o.length,n?e.buffer.unshift(o):e.buffer.push(o),e.needReadable&&u(t)),h(t,e)}function a(t,e){var o,n;return n=e,M.isBuffer(n)||n instanceof L||"string"==typeof e||void 0===e||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o}function l(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=((o=t)>=z?o=z:(o--,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o++),o)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var o}function u(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(_("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?w.nextTick(c,t):c(t))}function c(t){_("emit readable"),t.emit("readable"),m(t)}function h(t,e){e.readingMore||(e.readingMore=!0,w.nextTick(d,t,e))}function d(t,e){for(var o=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(_("maybeReadMore read 0"),t.read(0),o!==e.length);)o=e.length;e.readingMore=!1}function p(t){_("readable nexttick read 0"),t.read(0)}function f(t,e){e.reading||(_("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}function m(t){var e=t._readableState;for(_("flow",e.flowing);e.flowing&&null!==t.read(););}function g(t,e){return 0===e.length?null:(e.objectMode?s=e.buffer.shift():!t||t>=e.length?(s=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):(o=t,n=e.buffer,i=e.decoder,o<n.head.data.length?(r=n.head.data.slice(0,o),n.head.data=n.head.data.slice(o)):r=o===n.head.data.length?n.shift():i?function(t,e){var o=e.head,n=1,i=o.data;for(t-=i.length;o=o.next;){var r=o.data,s=t>r.length?r.length:t;if(s===r.length?i+=r:i+=r.slice(0,t),0==(t-=s)){s===r.length?(++n,o.next?e.head=o.next:e.head=e.tail=null):(e.head=o,o.data=r.slice(s));break}++n}return e.length-=n,i}(o,n):function(t,e){var o=M.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(o),t-=n.data.length;n=n.next;){var r=n.data,s=t>r.length?r.length:t;if(r.copy(o,o.length-t,0,s),0==(t-=s)){s===r.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=r.slice(s));break}++i}return e.length-=i,o}(o,n),s=r),s);var o,n,i,r,s}function b(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,w.nextTick(v,e,t))}function v(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function y(t,e){for(var o=0,n=t.length;o<n;o++)if(t[o]===e)return o;return-1}var w=o(14);t.exports=i;var E,C=o(15);i.ReadableState=n;var x=(o(12).EventEmitter,function(t,e){return t.listeners(e).length}),R=o(27),M=o(18).Buffer,L=window.Uint8Array||function(){},T=Object.create(o(4));T.inherits=o(3);var k=o(49),_=void 0;_=k&&k.debuglog?k.debuglog("stream"):function(){};var S,D=o(50),A=o(28);T.inherits(i,R);var P=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),i.prototype.destroy=A.destroy,i.prototype._undestroy=A.undestroy,i.prototype._destroy=function(t,e){this.push(null),e(t)},i.prototype.push=function(t,e){var o,n=this._readableState;return n.objectMode?o=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=M.from(t,e),e=""),o=!0),r(this,t,e,!1,o)},i.prototype.unshift=function(t){return r(this,t,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(t){return S||(S=o(13).StringDecoder),this._readableState.decoder=new S(t),this._readableState.encoding=t,this};var z=8388608;i.prototype.read=function(t){_("read",t),t=parseInt(t,10);var e=this._readableState,o=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return _("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?b(this):u(this),null;if(0===(t=l(t,e))&&e.ended)return 0===e.length&&b(this),null;var n,i=e.needReadable;return _("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&_("length less than watermark",i=!0),e.ended||e.reading?_("reading or ended",i=!1):i&&(_("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=l(o,e))),null===(n=t>0?g(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),o!==t&&e.ended&&b(this)),null!==n&&this.emit("data",n),n},i.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(t,o){function n(t,e){_("onunpipe"),t===h&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,r())}function i(){_("onend"),t.end()}function r(){_("cleanup"),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("drain",g),t.removeListener("error",a),t.removeListener("unpipe",n),h.removeListener("end",i),h.removeListener("end",c),h.removeListener("data",s),b=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||g()}function s(e){_("ondata"),v=!1,!1!==t.write(e)||v||((1===d.pipesCount&&d.pipes===t||d.pipesCount>1&&-1!==y(d.pipes,t))&&!b&&(_("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,v=!0),h.pause())}function a(e){_("onerror",e),c(),t.removeListener("error",a),0===x(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",u),c()}function u(){_("onfinish"),t.removeListener("close",l),c()}function c(){_("unpipe"),h.unpipe(t)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,_("pipe count=%d opts=%j",d.pipesCount,o);var p=o&&!1===o.end||t===e.stdout||t===e.stderr?c:i;d.endEmitted?w.nextTick(p):h.once("end",p),t.on("unpipe",n);var f,g=(f=h,function(){var t=f._readableState;_("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&x(f,"data")&&(t.flowing=!0,m(f))});t.on("drain",g);var b=!1,v=!1;return h.on("data",s),function(t,e,o){if("function"==typeof t.prependListener)return t.prependListener(e,o);t._events&&t._events[e]?C(t._events[e])?t._events[e].unshift(o):t._events[e]=[o,t._events[e]]:t.on(e,o)}(t,"error",a),t.once("close",l),t.once("finish",u),t.emit("pipe",h),d.flowing||(_("pipe resume"),h.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState,o={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,o)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this,o);return this}var s=y(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,o)),this},i.prototype.on=function(t,e){var o=R.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&u(this):w.nextTick(p,this))}return o},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t,e,o=this._readableState;return o.flowing||(_("resume"),o.flowing=!0,t=this,(e=o).resumeScheduled||(e.resumeScheduled=!0,w.nextTick(f,t,e))),this},i.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this,o=this._readableState,n=!1;for(var i in t.on("end",(function(){if(_("wrapped end"),o.decoder&&!o.ended){var t=o.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){_("wrapped data"),o.decoder&&(i=o.decoder.write(i)),o.objectMode&&null==i||!(o.objectMode||i&&i.length)||e.push(i)||(n=!0,t.pause())})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var r=0;r<P.length;r++)t.on(P[r],this.emit.bind(this,P[r]));return this._read=function(e){_("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),i._fromList=g}).call(this,o(6))},function(t,e,o){t.exports=o(12).EventEmitter},function(t,e,o){function n(t,e){t.emit("error",e)}var i=o(14);t.exports={destroy:function(t,e){var o=this,r=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return r||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(n,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(n,o,t),o._writableState&&(o._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,o){(function(e,n){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,o){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(o),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function r(){}function s(t,e){g=g||o(8),t=t||{};var n=e instanceof g;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,s=t.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var o,n=t._writableState,i=n.sync,r=n.writecb;if((o=n).writing=!1,o.writecb=null,o.length-=o.writelen,o.writelen=0,e)!function(t,e,o,n,i){--e.pendingcb,o?(m.nextTick(i,n),m.nextTick(f,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),f(t,e))}(t,n,i,e,r);else{var s=d(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||h(t,n),i?b(c,t,n,s,r):c(t,n,s,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function a(t){if(g=g||o(8),!(y.call(a,this)||this instanceof g))return new a(t);this._writableState=new s(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),E.call(this)}function l(t,e,o,n,i,r){if(!o){var s=(l=n,c=i,(a=e).objectMode||!1===a.decodeStrings||"string"!=typeof l||(l=C.from(l,c)),l);n!==s&&(o=!0,i="buffer",n=s)}var a,l,c,h=e.objectMode?1:n.length;e.length+=h;var d=e.length<e.highWaterMark;if(d||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:o,callback:r,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else u(t,e,!1,h,n,i,r);return d}function u(t,e,o,n,i,r,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,o?t._writev(i,e.onwrite):t._write(i,r,e.onwrite),e.sync=!1}function c(t,e,o,n){var i,r;o||(i=t,0===(r=e).length&&r.needDrain&&(r.needDrain=!1,i.emit("drain"))),e.pendingcb--,n(),f(t,e)}function h(t,e){e.bufferProcessing=!0;var o=e.bufferedRequest;if(t._writev&&o&&o.next){var n=e.bufferedRequestCount,r=new Array(n),s=e.corkedRequestsFree;s.entry=o;for(var a=0,l=!0;o;)r[a]=o,o.isBuf||(l=!1),o=o.next,a+=1;r.allBuffers=l,u(t,e,!0,e.length,r,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;o;){var c=o.chunk,h=o.encoding,d=o.callback;if(u(t,e,!1,e.objectMode?1:c.length,c,h,d),o=o.next,e.bufferedRequestCount--,e.writing)break}null===o&&(e.lastBufferedRequest=null)}e.bufferedRequest=o,e.bufferProcessing=!1}function d(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function p(t,e){t._final((function(o){e.pendingcb--,o&&t.emit("error",o),e.prefinished=!0,t.emit("prefinish"),f(t,e)}))}function f(t,e){var o,n,i=d(e);return i&&(o=t,(n=e).prefinished||n.finalCalled||("function"==typeof o._final?(n.pendingcb++,n.finalCalled=!0,m.nextTick(p,o,n)):(n.prefinished=!0,o.emit("prefinish"))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),i}var m=o(14);t.exports=a;var g,b=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:m.nextTick;a.WritableState=s;var v=Object.create(o(4));v.inherits=o(3);var y,w={deprecate:o(24)},E=o(27),C=o(18).Buffer,x=window.Uint8Array||function(){},R=o(28);v.inherits(a,E),s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:w.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(t){return!!y.call(this,t)||this===a&&t&&t._writableState instanceof s}})):y=function(t){return t instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(t,e,o){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=t,C.isBuffer(n)||n instanceof x);return a&&!C.isBuffer(t)&&(t=function(t){return C.from(t)}(t)),"function"==typeof e&&(o=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof o&&(o=r),i.ended?function(t,e){var o=new Error("write after end");t.emit("error",o),m.nextTick(e,o)}(this,o):(a||function(t,e,o,n){var i=!0,r=!1;return null===o?r=new TypeError("May not write null values to stream"):"string"==typeof o||void 0===o||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r&&(t.emit("error",r),m.nextTick(n,r),i=!1),i}(this,i,t,o))&&(i.pendingcb++,s=l(this,i,a,t,e,o)),s},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||h(this,t))},a.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),a.prototype._write=function(t,e,o){o(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(t,e,o){var n,i,r,s=this._writableState;"function"==typeof t?(o=t,t=null,e=null):"function"==typeof e&&(o=e,e=null),null!=t&&this.write(t,e),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||(n=this,r=o,(i=s).ending=!0,f(n,i),r&&(i.finished?m.nextTick(r):n.once("finish",r)),i.ended=!0,n.writable=!1)},Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),a.prototype.destroy=R.destroy,a.prototype._undestroy=R.undestroy,a.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,o(6),o(17).setImmediate)},function(t,e,o){function n(t,e){var o=this._transformState;o.transforming=!1;var n=o.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));o.writechunk=null,o.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);a.call(this,t),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",r)}function r(){var t=this;"function"==typeof this._flush?this._flush((function(e,o){s(t,e,o)})):s(this,null,null)}function s(t,e,o){if(e)return t.emit("error",e);if(null!=o&&t.push(o),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=i;var a=o(8),l=Object.create(o(4));l.inherits=o(3),l.inherits(i,a),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,o){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,o){var n=this._transformState;if(n.writecb=o,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var o=this;a.prototype._destroy.call(this,t,(function(t){e(t),o.emit("close")}))}},function(t,e,o){(function(t){var n,i=o(0),r=o.n(i),s=o(1),a=o.n(s),l=o(2);e.a={pack:!0,encode:!0,compress:(n=a()(r.a.mark((function e(o){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.lzma();case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){return n.compress(o,9,(function(o,n){return n?i(n):e(t.from(o))}))})));case 4:case"end":return e.stop()}}),e)}))),function(t){return n.apply(this,arguments)}),decompress:function(){var e=a()(r.a.mark((function e(o){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.lzma();case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){return n.decompress(o,(function(o,n){return n?i(n):e(t.from(o))}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}).call(this,o(5).Buffer)},function(t,e,o){(function(t){var n,i,r=o(0),s=o.n(r),a=o(1),l=o.n(a),u=o(2);e.a={pack:!1,encode:!0,compress:(i=l()(s.a.mark((function e(o){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,u.a.lzstring();case 3:return e.t1=e.sent.compressToUint8Array(o),e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),function(t){return i.apply(this,arguments)}),decompress:(n=l()(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.lzstring();case 2:return t.abrupt("return",t.sent.decompressFromUint8Array(e));case 3:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})}}).call(this,o(5).Buffer)},function(t,e,o){(function(t){var n,i=o(0),r=o.n(i),s=o(1),a=o.n(s),l=o(2);e.a={pack:!0,encode:!0,compress:(n=a()(r.a.mark((function e(o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,l.a.lzw();case 3:return e.t1=e.sent.encode(o.toString("binary")),e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),function(t){return n.apply(this,arguments)}),decompress:function(){var e=a()(r.a.mark((function e(o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,l.a.lzw();case 3:return e.t1=e.sent.decode(o),e.abrupt("return",e.t0.from.call(e.t0,e.t1,"binary"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}).call(this,o(5).Buffer)},function(t,e,o){var n=function(t){function e(t,e,o,i){var r=e&&e.prototype instanceof n?e:n,s=Object.create(r.prototype),a=new d(i||[]);return s._invoke=l(t,o,a),s}function o(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(n){return{type:"throw",arg:n}}}function n(){}function i(){}function r(){}function s(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function a(t){function e(n,i,r,s){var a=o(t[n],t,i);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&b.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,r,s)}),(function(t){e("throw",t,r,s)})):Promise.resolve(u).then((function(t){l.value=t,r(l)}),(function(t){return e("throw",t,r,s)}))}s(a.arg)}var n;this._invoke=function(t,o){function i(){return new Promise((function(n,i){e(t,o,n,i)}))}return n=n?n.then(i,i):i()}}function l(t,e,n){var i=C;return function(r,s){if(i===R)throw new Error("Generator is already running");if(i===M){if("throw"===r)throw s;return f()}for(n.method=r,n.arg=s;;){var a=n.delegate;if(a){var l=u(a,n);if(l){if(l===L)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===C)throw i=M,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=R;var c=o(t,e,n);if("normal"===c.type){if(i=n.done?M:x,c.arg===L)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=M,n.method="throw",n.arg=c.arg)}}}function u(t,e){var n=t.iterator[e.method];if(n===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,u(t,e),"throw"===e.method))return L;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var i=o(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,L;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,L):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,L)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function p(t){if(t){var e=t[y];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,n=function e(){for(;++o<t.length;)if(b.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=m,e.done=!0,e};return n.next=n}}return{next:f}}function f(){return{value:m,done:!0}}var m,g=Object.prototype,b=g.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},y=v.iterator||"@@iterator",w=v.asyncIterator||"@@asyncIterator",E=v.toStringTag||"@@toStringTag";t.wrap=e;var C="suspendedStart",x="suspendedYield",R="executing",M="completed",L={},T={};T[y]=function(){return this};var k=Object.getPrototypeOf,_=k&&k(k(p([])));_&&_!==g&&b.call(_,y)&&(T=_);var S=r.prototype=n.prototype=Object.create(T);return i.prototype=S.constructor=r,r.constructor=i,r[E]=i.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,r):(t.__proto__=r,E in t||(t[E]="GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},s(a.prototype),a.prototype[w]=function(){return this},t.AsyncIterator=a,t.async=function(o,n,i,r){var s=new a(e(o,n,i,r));return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},s(S),S[E]="Generator",S[y]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var o in t)e.push(o);return e.reverse(),function o(){for(;e.length;){var n=e.pop();if(n in t)return o.value=n,o.done=!1,o}return o.done=!0,o}},t.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&b.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,n){return r.type="throw",r.arg=t,o.next=e,n&&(o.method="next",o.arg=m),!!n}if(this.done)throw t;for(var o=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],r=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=b.call(i,"catchLoc"),a=b.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,L):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),L},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),h(o),L}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var n=o.completion;if("throw"===n.type){var i=n.arg;h(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:p(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=m),L}},t}(t.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},function(t,e,o){function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=t.indexOf("=");return-1===o&&(o=e),[o,o===e?0:4-o%4]}function i(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function r(t,e,o){for(var n,r=[],s=e;s<o;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(i(n));return r.join("")}e.byteLength=function(t){var e=n(t),o=e[0],i=e[1];return 3*(o+i)/4-i},e.toByteArray=function(t){var e,o,i,r=n(t),s=r[0],u=r[1],c=new l(3*(s+(i=u))/4-i),h=0,d=u>0?s-4:s;for(o=0;o<d;o+=4)e=a[t.charCodeAt(o)]<<18|a[t.charCodeAt(o+1)]<<12|a[t.charCodeAt(o+2)]<<6|a[t.charCodeAt(o+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===u&&(e=a[t.charCodeAt(o)]<<2|a[t.charCodeAt(o+1)]>>4,c[h++]=255&e),1===u&&(e=a[t.charCodeAt(o)]<<10|a[t.charCodeAt(o+1)]<<4|a[t.charCodeAt(o+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},e.fromByteArray=function(t){for(var e,o=t.length,n=o%3,i=[],a=0,l=o-n;a<l;a+=16383)i.push(r(t,a,a+16383>l?l:a+16383));return 1===n?(e=t[o-1],i.push(s[e>>2]+s[e<<4&63]+"==")):2===n&&(e=(t[o-2]<<8)+t[o-1],i.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"=")),i.join("")};for(var s=[],a=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,h=u.length;c<h;++c)s[c]=u[c],a[u.charCodeAt(c)]=c;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,o,n,i){var r,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=o?i-1:0,d=o?-1:1,p=t[e+h];for(h+=d,r=p&(1<<-c)-1,p>>=-c,c+=a;c>0;r=256*r+t[e+h],h+=d,c-=8);for(s=r&(1<<-c)-1,r>>=-c,c+=n;c>0;s=256*s+t[e+h],h+=d,c-=8);if(0===r)r=1-u;else{if(r===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),r-=u}return(p?-1:1)*s*Math.pow(2,r-n)},e.write=function(t,e,o,n,i,r){var s,a,l,u=8*r-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,f=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*l-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[o+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[o+p]=255&s,p+=f,s/=256,u-=8);t[o+p-f]|=128*m}},function(t,e,o){var n=o(19).Buffer,i=o(38),r=o(10),s=o(47),a=o(53),l=o(54);t.exports=function(t){var e=[],o=[];return{encode:l(e,(t=t||{forceFloat64:!1,compatibilityMode:!1,disableTimestampEncoding:!1,protoAction:"error"}).forceFloat64,t.compatibilityMode,t.disableTimestampEncoding),decode:a(o,t),register:function(t,e,o,s){return i(e,"must have a constructor"),i(o,"must have an encode function"),i(t>=0,"must have a non-negative type"),i(s,"must have a decode function"),this.registerEncoder((function(t){return t instanceof e}),(function(e){var i=r(),s=n.allocUnsafe(1);return s.writeInt8(t,0),i.append(s),i.append(o(e)),i})),this.registerDecoder(t,s),this},registerEncoder:function(t,o){return i(t,"must have an encode function"),i(o,"must have an encode function"),e.push({check:t,encode:o}),this},registerDecoder:function(t,e){return i(t>=0,"must have a non-negative type"),i(e,"must have a decode function"),o.push({type:t,decode:e}),this},encoder:s.encoder,decoder:s.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:a.IncompleteBufferError}}},function(t,e,o){function n(t,e){if(t===e)return 0;for(var o=t.length,n=e.length,i=0,r=Math.min(o,n);i<r;++i)if(t[i]!==e[i]){o=t[i],n=e[i];break}return o<n?-1:n<o?1:0}function i(t){return window.Buffer&&"function"==typeof window.Buffer.isBuffer?window.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function r(t){return Object.prototype.toString.call(t)}function s(t){return!i(t)&&"function"==typeof window.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}function a(t){if(b.isFunction(t)){if(w)return t.name;var e=t.toString().match(C);return e&&e[1]}}function l(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function u(t){if(w||!b.isFunction(t))return b.inspect(t);var e=a(t);return"[Function"+(e?": "+e:"")+"]"}function c(t,e,o,n,i){throw new E.AssertionError({message:o,actual:t,expected:e,operator:n,stackStartFunction:i})}function h(t,e){t||c(t,!0,e,"==",E.ok)}function d(t,e,o,a){if(t===e)return!0;if(i(t)&&i(e))return 0===n(t,e);if(b.isDate(t)&&b.isDate(e))return t.getTime()===e.getTime();if(b.isRegExp(t)&&b.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(s(t)&&s(e)&&r(t)===r(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(t);return-1!==l&&l===a.expected.indexOf(e)||(a.actual.push(t),a.expected.push(e),function(t,e,o,n){if(null==t||null==e)return!1;if(b.isPrimitive(t)||b.isPrimitive(e))return t===e;if(o&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=p(t),r=p(e);if(i&&!r||!i&&r)return!1;if(i)return d(t=y.call(t),e=y.call(e),o);var s,a,l=x(t),u=x(e);if(l.length!==u.length)return!1;for(l.sort(),u.sort(),a=l.length-1;a>=0;a--)if(l[a]!==u[a])return!1;for(a=l.length-1;a>=0;a--)if(!d(t[s=l[a]],e[s],o,n))return!1;return!0}(t,e,o,a))}return o?t===e:t==e}function p(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function f(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(o){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function m(t,e,o,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof o&&(n=o,o=null),i=function(t){var e;try{t()}catch(o){e=o}return e}(e),n=(o&&o.name?" ("+o.name+").":".")+(n?" "+n:"."),t&&!i&&c(i,o,"Missing expected exception"+n);var r="string"==typeof n,s=!t&&i&&!o;if((!t&&b.isError(i)&&r&&f(i,o)||s)&&c(i,o,"Got unwanted exception"+n),t&&i&&o&&!f(i,o)||!t&&i)throw i}var g=o(39),b=o(16),v=Object.prototype.hasOwnProperty,y=Array.prototype.slice,w="foo"===function(){}.name,E=t.exports=h,C=/\s*function\s+([^\(\s]*)\s*/;E.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(u((e=this).actual),128)+" "+e.operator+" "+l(u(e.expected),128),this.generatedMessage=!0);var o=t.stackStartFunction||c;if(Error.captureStackTrace)Error.captureStackTrace(this,o);else{var n=new Error;if(n.stack){var i=n.stack,r=a(o),s=i.indexOf("\n"+r);if(s>=0){var h=i.indexOf("\n",s+1);i=i.substring(h+1)}this.stack=i}}},b.inherits(E.AssertionError,Error),E.fail=c,E.ok=h,E.equal=function(t,e,o){t!=e&&c(t,e,o,"==",E.equal)},E.notEqual=function(t,e,o){t==e&&c(t,e,o,"!=",E.notEqual)},E.deepEqual=function(t,e,o){d(t,e,!1)||c(t,e,o,"deepEqual",E.deepEqual)},E.deepStrictEqual=function(t,e,o){d(t,e,!0)||c(t,e,o,"deepStrictEqual",E.deepStrictEqual)},E.notDeepEqual=function(t,e,o){d(t,e,!1)&&c(t,e,o,"notDeepEqual",E.notDeepEqual)},E.notDeepStrictEqual=function t(e,o,n){d(e,o,!0)&&c(e,o,n,"notDeepStrictEqual",t)},E.strictEqual=function(t,e,o){t!==e&&c(t,e,o,"===",E.strictEqual)},E.notStrictEqual=function(t,e,o){t===e&&c(t,e,o,"!==",E.notStrictEqual)},E.throws=function(t,e,o){m(!0,t,e,o)},E.doesNotThrow=function(t,e,o){m(!1,t,e,o)},E.ifError=function(t){if(t)throw t},E.strict=g((function t(e,o){e||c(e,!0,o,"==",t)}),E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict;var x=Object.keys||function(t){var e=[];for(var o in t)v.call(t,o)&&e.push(o);return e}},function(t,e,o){function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},o=0;o<10;o++)e["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var o,a,l=n(t),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))r.call(o,c)&&(l[c]=o[c]);if(i){a=i(o);for(var h=0;h<a.length;h++)s.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,o){(e=t.exports=o(20)).Stream=e,e.Readable=e,e.Writable=o(23),e.Duplex=o(7),e.Transform=o(25),e.PassThrough=o(46)},function(t,e){},function(t,e,o){function n(t,e,o){t.copy(e,o)}var i=o(9).Buffer,r=o(44);t.exports=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,o=""+e.data;e=e.next;)o+=t+e.data;return o},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),o=this.head,r=0;o;)n(o.data,e,r),r+=o.data.length,o=o.next;return e},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,o){(function(t){!function(e,o){function n(t){delete a[t]}function i(t){if(l)setTimeout(i,0,t);else{var e=a[t];if(e){l=!0;try{!function(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(void 0,o)}}(e)}finally{n(t),l=!1}}}}if(!e.setImmediate){var r,s=1,a={},l=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){i(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,o=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=o,t}}()?(h="setImmediate$"+Math.random()+"$",d=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(h)&&i(+t.data.slice(h.length))},e.addEventListener?e.addEventListener("message",d,!1):e.attachEvent("onmessage",d),r=function(t){e.postMessage(h+t,"*")}):e.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){i(t.data)},r=function(e){t.port2.postMessage(e)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var t=u.documentElement;r=function(e){var o=u.createElement("script");o.onreadystatechange=function(){i(e),o.onreadystatechange=null,t.removeChild(o),o=null},t.appendChild(o)}}():r=function(t){setTimeout(i,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),o=0;o<e.length;o++)e[o]=arguments[o+1];var n={callback:t,args:e};return a[s]=n,r(s),s++},c.clearImmediate=n}var h,d}("undefined"==typeof self?"undefined"==typeof window?this:window:self)}).call(this,o(6))},function(t,e,o){function n(t){if(!(this instanceof n))return new n(t);i.call(this,t)}t.exports=n;var i=o(25),r=Object.create(o(4));r.inherits=o(3),r.inherits(n,i),n.prototype._transform=function(t,e,o){o(null,t)}},function(t,e,o){function n(t){(t=t||{}).objectMode=!0,t.highWaterMark=16,s.call(this,t),this._msgpack=t.msgpack}function i(t){if(!(this instanceof i))return(t=t||{}).msgpack=this,new i(t);n.call(this,t),this._wrap="wrap"in t&&t.wrap}function r(t){if(!(this instanceof r))return(t=t||{}).msgpack=this,new r(t);n.call(this,t),this._chunks=l(),this._wrap="wrap"in t&&t.wrap}var s=o(48).Transform,a=o(3),l=o(10);a(n,s),a(i,n),i.prototype._transform=function(t,e,o){var n=null;try{n=this._msgpack.encode(this._wrap?t.value:t).slice(0)}catch(i){return this.emit("error",i),o()}this.push(n),o()},a(r,n),r.prototype._transform=function(t,e,o){t&&this._chunks.append(t);try{var n=this._msgpack.decode(this._chunks);this._wrap&&(n={value:n}),this.push(n)}catch(i){return void(i instanceof this._msgpack.IncompleteBufferError?o():this.emit("error",i))}this._chunks.length>0?this._transform(null,e,o):o()},t.exports.decoder=r,t.exports.encoder=i},function(t,e,o){(e=t.exports=o(26)).Stream=e,e.Readable=e,e.Writable=o(29),e.Duplex=o(8),e.Transform=o(30),e.PassThrough=o(52)},function(t,e){},function(t,e,o){function n(t,e,o){t.copy(e,o)}var i=o(18).Buffer,r=o(51);t.exports=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,o=""+e.data;e=e.next;)o+=t+e.data;return o},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),o=this.head,r=0;o;)n(o.data,e,r),r+=o.data.length,o=o.next;return e},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,o){function n(t){if(!(this instanceof n))return new n(t);i.call(this,t)}t.exports=n;var i=o(30),r=Object.create(o(4));r.inherits=o(3),r.inherits(n,i),n.prototype._transform=function(t,e,o){o(null,t)}},function(t,e,o){function n(t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t||"unable to decode"}var i=o(10);o(16).inherits(n,Error),t.exports=function(t,e){function o(t,e){var o=function(t){switch(t){case 196:return 2;case 197:return 3;case 198:return 5;case 199:return 3;case 200:return 4;case 201:return 6;case 202:return 5;case 203:return 9;case 204:return 2;case 205:return 3;case 206:return 5;case 207:return 9;case 208:return 2;case 209:return 3;case 210:return 5;case 211:return 9;case 212:return 3;case 213:return 4;case 214:return 6;case 215:return 10;case 216:return 18;case 217:return 2;case 218:return 3;case 219:return 5;case 222:return 3;default:return-1}}(t);return!(-1!==o&&e<o)}function r(t,e,o){return e>=o+t}function s(t,e){return{value:t,bytesConsumed:e}}function a(t,e){e=void 0===e?0:e;var n=t.length-e;if(n<=0)return null;var i,a,d,p=t.readUInt8(e),f=0;if(!o(p,n))return null;switch(p){case 192:return s(null,1);case 194:return s(!1,1);case 195:return s(!0,1);case 204:return s(f=t.readUInt8(e+1),2);case 205:return s(f=t.readUInt16BE(e+1),3);case 206:return s(f=t.readUInt32BE(e+1),5);case 207:for(d=7;d>=0;d--)f+=t.readUInt8(e+d+1)*Math.pow(2,8*(7-d));return s(f,9);case 208:return s(f=t.readInt8(e+1),2);case 209:return s(f=t.readInt16BE(e+1),3);case 210:return s(f=t.readInt32BE(e+1),5);case 211:return s(f=function(t,e){var o=128==(128&t[e]);if(o)for(var n=1,i=e+7;i>=e;i--){var r=(255^t[i])+n;t[i]=255&r,n=r>>8}return(4294967296*t.readUInt32BE(e+0)+t.readUInt32BE(e+4))*(o?-1:1)}(t.slice(e+1,e+9),0),9);case 202:return s(f=t.readFloatBE(e+1),5);case 203:return s(f=t.readDoubleBE(e+1),9);case 217:return r(i=t.readUInt8(e+1),n,2)?s(f=t.toString("utf8",e+2,e+2+i),2+i):null;case 218:return r(i=t.readUInt16BE(e+1),n,3)?s(f=t.toString("utf8",e+3,e+3+i),3+i):null;case 219:return r(i=t.readUInt32BE(e+1),n,5)?s(f=t.toString("utf8",e+5,e+5+i),5+i):null;case 196:return r(i=t.readUInt8(e+1),n,2)?s(f=t.slice(e+2,e+2+i),2+i):null;case 197:return r(i=t.readUInt16BE(e+1),n,3)?s(f=t.slice(e+3,e+3+i),3+i):null;case 198:return r(i=t.readUInt32BE(e+1),n,5)?s(f=t.slice(e+5,e+5+i),5+i):null;case 220:return n<3?null:(i=t.readUInt16BE(e+1),l(t,e,i,3));case 221:return n<5?null:(i=t.readUInt32BE(e+1),l(t,e,i,5));case 222:return i=t.readUInt16BE(e+1),u(t,e,i,3);case 223:return i=t.readUInt32BE(e+1),u(t,e,i,5);case 212:return c(t,e,1);case 213:return c(t,e,2);case 214:return c(t,e,4);case 215:return c(t,e,8);case 216:return c(t,e,16);case 199:return i=t.readUInt8(e+1),a=t.readUInt8(e+2),r(i,n,3)?h(t,e,a,i,3):null;case 200:return i=t.readUInt16BE(e+1),a=t.readUInt8(e+3),r(i,n,4)?h(t,e,a,i,4):null;case 201:return i=t.readUInt32BE(e+1),a=t.readUInt8(e+5),r(i,n,6)?h(t,e,a,i,6):null}if(144==(240&p))return l(t,e,i=15&p,1);if(128==(240&p))return u(t,e,i=15&p,1);if(160==(224&p))return r(i=31&p,n,1)?s(f=t.toString("utf8",e+1,e+i+1),i+1):null;if(p>=224)return s(f=p-256,1);if(p<128)return s(p,1);throw new Error("not implemented yet")}function l(t,e,o,n){var i,r=[],l=0;for(e+=n,i=0;i<o;i++){var u=a(t,e);if(!u)return null;r.push(u.value),e+=u.bytesConsumed,l+=u.bytesConsumed}return s(r,n+l)}function u(t,o,n,i){var r,l,u={},c=0;for(o+=i,l=0;l<n;l++){var h=a(t,o);if(!h)return null;var d=a(t,o+=h.bytesConsumed);if(!d)return null;if("__proto__"===(r=h.value)){if("error"===e.protoAction)throw new SyntaxError("Object contains forbidden prototype property");if("remove"===e.protoAction)continue}u[r]=d.value,o+=d.bytesConsumed,c+=h.bytesConsumed+d.bytesConsumed}return s(u,i+c)}function c(t,e,o){return h(t,e,t.readInt8(e+1),o,2)}function h(e,o,n,i,r){var a,l;if(o+=r,n<0)switch(n){case-1:return function(t,e,o){var n,i=0;switch(e){case 4:n=t.readUInt32BE(0);break;case 8:var r=t.readUInt32BE(0),a=t.readUInt32BE(4);i=r/4,n=(3&r)*Math.pow(2,32)+a;break;case 12:throw new Error("timestamp 96 is not yet implemented")}var l=1e3*n+Math.round(i/1e6);return s(new Date(l),e+o)}(l=e.slice(o,o+i),i,r)}for(a=0;a<t.length;a++)if(n===t[a].type)return l=e.slice(o,o+i),s(t[a].decode(l),r+i);throw new Error("unable to find ext type "+n)}return function(t){t instanceof i||(t=i().append(t));var e=a(t);if(e)return t.consume(e.bytesConsumed),e.value;throw new n}},t.exports.IncompleteBufferError=n},function(t,e,o){function n(t,e){var o,n=!0;return Math.fround&&(n=Math.fround(t)!==t),e&&(n=!0),n?((o=i.allocUnsafe(9))[0]=203,o.writeDoubleBE(t,1)):((o=i.allocUnsafe(5))[0]=202,o.writeFloatBE(t,1)),o}var i=o(19).Buffer,r=o(10);t.exports=function(t,e,o,s){function a(t,u){var c,h,d;if(void 0===t)throw new Error("undefined is not encodable in msgpack!");if((d=t)!=d&&"number"==typeof d)throw new Error("NaN is not encodable in msgpack!");if(null===t)(c=i.allocUnsafe(1))[0]=192;else if(!0===t)(c=i.allocUnsafe(1))[0]=195;else if(!1===t)(c=i.allocUnsafe(1))[0]=194;else if("string"==typeof t)(h=i.byteLength(t))<32?((c=i.allocUnsafe(1+h))[0]=160|h,h>0&&c.write(t,1)):h<=255&&!o?((c=i.allocUnsafe(2+h))[0]=217,c[1]=h,c.write(t,2)):h<=65535?((c=i.allocUnsafe(3+h))[0]=218,c.writeUInt16BE(h,1),c.write(t,3)):((c=i.allocUnsafe(5+h))[0]=219,c.writeUInt32BE(h,1),c.write(t,5));else if(t&&(t.readUInt32LE||t instanceof Uint8Array))t instanceof Uint8Array&&(t=i.from(t)),t.length<=255?((c=i.allocUnsafe(2))[0]=196,c[1]=t.length):t.length<=65535?((c=i.allocUnsafe(3))[0]=197,c.writeUInt16BE(t.length,1)):((c=i.allocUnsafe(5))[0]=198,c.writeUInt32BE(t.length,1)),c=r([c,t]);else if(Array.isArray(t))t.length<16?(c=i.allocUnsafe(1))[0]=144|t.length:t.length<65536?((c=i.allocUnsafe(3))[0]=220,c.writeUInt16BE(t.length,1)):((c=i.allocUnsafe(5))[0]=221,c.writeUInt32BE(t.length,1)),c=t.reduce((function(t,e){return t.append(a(e,!0)),t}),r().append(c));else{if(!s&&"function"==typeof t.getDate)return function(t){var e,o=1*t,n=Math.floor(o/1e3),s=1e6*(o-1e3*n);if(s||n>4294967295){(e=i.allocUnsafe(10))[0]=215,e[1]=-1;var a=4*s+n/Math.pow(2,32)&4294967295,l=4294967295&n;e.writeInt32BE(a,2),e.writeInt32BE(l,6)}else(e=i.allocUnsafe(6))[0]=214,e[1]=-1,e.writeUInt32BE(Math.floor(o/1e3),2);return r().append(e)}(t);if("object"==typeof t)c=l(t)||function(t){var e,o,n=[],s=0;for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&"function"!=typeof t[e]&&(++s,n.push(a(e,!0)),n.push(a(t[e],!0)));return s<16?(o=i.allocUnsafe(1))[0]=128|s:s<65535?((o=i.allocUnsafe(3))[0]=222,o.writeUInt16BE(s,1)):((o=i.allocUnsafe(5))[0]=223,o.writeUInt32BE(s,1)),n.unshift(o),n.reduce((function(t,e){return t.append(e)}),r())}(t);else if("number"==typeof t){if(function(t){return t%1!=0}(t))return n(t,e);if(t>=0)if(t<128)(c=i.allocUnsafe(1))[0]=t;else if(t<256)(c=i.allocUnsafe(2))[0]=204,c[1]=t;else if(t<65536)(c=i.allocUnsafe(3))[0]=205,c.writeUInt16BE(t,1);else if(t<=4294967295)(c=i.allocUnsafe(5))[0]=206,c.writeUInt32BE(t,1);else{if(!(t<=9007199254740991))return n(t,!0);(c=i.allocUnsafe(9))[0]=207,function(t,e){for(var o=7;o>=0;o--)t[o+1]=255&e,e/=256}(c,t)}else if(t>=-32)(c=i.allocUnsafe(1))[0]=256+t;else if(t>=-128)(c=i.allocUnsafe(2))[0]=208,c.writeInt8(t,1);else if(t>=-32768)(c=i.allocUnsafe(3))[0]=209,c.writeInt16BE(t,1);else if(t>-214748365)(c=i.allocUnsafe(5))[0]=210,c.writeInt32BE(t,1);else{if(!(t>=-9007199254740991))return n(t,!0);(c=i.allocUnsafe(9))[0]=211,function(t,e,o){var n=o<0;n&&(o=Math.abs(o));var i=o%4294967296,r=o/4294967296;if(t.writeUInt32BE(Math.floor(r),e+0),t.writeUInt32BE(i,e+4),n)for(var s=1,a=e+7;a>=e;a--){var l=(255^t[a])+s;t[a]=255&l,s=l>>8}}(c,1,t)}}}if(!c)throw new Error("not implemented yet");return u?c:c.slice()}function l(e){var o,n,s=-1,a=[];for(o=0;o<t.length;o++)if(t[o].check(e)){n=t[o].encode(e);break}return n?(1==(s=n.length-1)?a.push(212):2===s?a.push(213):4===s?a.push(214):8===s?a.push(215):16===s?a.push(216):s<256?(a.push(199),a.push(s)):s<65536?(a.push(200),a.push(s>>8),a.push(255&s)):(a.push(201),a.push(s>>24),a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)),r().append(i.from(a)).append(n)):null}return a}},function(t,e,o){t.exports=o(56)},function(t,e,o){(function(t){e.version="1.0.0",e.encode=function(t){return t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.decode=function(e){return e=(e+=Array(5-e.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new t(e,"base64")},e.validate=function(t){return/^[A-Za-z0-9\-_]+$/.test(t)}}).call(this,o(5).Buffer)},function(t,e,o){(function(t){var e=function(){function o(t,e){postMessage({action:Wt,cbn:e,result:t})}function n(t){var e=[];return e[t-1]=void 0,e}function i(t,e){return a(t[0]+e[0],t[1]+e[1])}function r(t,e){return o=~~Math.max(Math.min(t[1]/Ut,2147483647),-2147483648)&~~Math.max(Math.min(e[1]/Ut,2147483647),-2147483648),n=c(t)&c(e),i=n,0>n&&(i+=Ut),[i,o*Ut];var o,n,i}function s(t,e){var o,n;return t[0]==e[0]&&t[1]==e[1]?0:(o=0>t[1],n=0>e[1],o&&!n?-1:!o&&n?1:f(t,e)[1]<0?-1:1)}function a(t,e){var o,n;for(t%=0x10000000000000000,e=(e%=0x10000000000000000)-(o=e%Ut)+(n=Math.floor(t/Ut)*Ut),t=t-n+o;0>t;)t+=Ut,e-=Ut;for(;t>4294967295;)t-=Ut,e+=Ut;for(e%=0x10000000000000000;e>0x7fffffff00000000;)e-=0x10000000000000000;for(;-0x8000000000000000>e;)e+=0x10000000000000000;return[t,e]}function l(t,e){return t[0]==e[0]&&t[1]==e[1]}function u(t){return t>=0?[t,0]:[t+Ut,-Ut]}function c(t){return t[0]>=2147483648?~~Math.max(Math.min(t[0]-Ut,2147483647),-2147483648):~~Math.max(Math.min(t[0],2147483647),-2147483648)}function h(t){return 30>=t?1<<t:h(30)*h(t-30)}function d(t,e){var o,n,i,r;if(e&=63,l(t,qt))return e?Yt:t;if(0>t[1])throw Error("Neg");return r=h(e),n=t[1]*r%0x10000000000000000,(n+=o=(i=t[0]*r)-i%Ut)>=0x8000000000000000&&(n-=0x10000000000000000),[i-=o,n]}function p(t,e){var o;return o=h(e&=63),a(Math.floor(t[0]/o),t[1]/o)}function f(t,e){return a(t[0]-e[0],t[1]-e[1])}function m(t,e){return t.Mc=e,t.Lc=0,t.Yb=e.length,t}function g(t){return t.Lc>=t.Yb?-1:255&t.Mc[t.Lc++]}function b(t,e,o,n){return t.Lc>=t.Yb?-1:(n=Math.min(n,t.Yb-t.Lc),C(t.Mc,t.Lc,e,o,n),t.Lc+=n,n)}function v(t){return t.Mc=n(32),t.Yb=0,t}function y(t){var e=t.Mc;return e.length=t.Yb,e}function w(t,e){t.Mc[t.Yb++]=e<<24>>24}function E(t,e,o,n){C(e,o,t.Mc,t.Yb,n),t.Yb+=n}function C(t,e,o,n,i){for(var r=0;i>r;++r)o[n+r]=t[e+r]}function x(t,o,n,i,r){var a,l,u,h,d,f,m;if(s(i,Gt)<0)throw Error("invalid length "+i);for(t.Tb=i,u=r,h=a=J({}),d=void 0,f=void 0,m=void 0,function(t,e){t.ab=e;for(var o=0;e>1<<o;++o);t.$b=2*o}(h,1<<u.s),h.n=u.f,d=h,f=u.m,m=d.X,d.X=f,d.b&&m!=d.X&&(d.wb=-1,d.b=null),h.eb=0,h.fb=3,h.Y=2,h.y=3,a.Gc=void 0===e.disableEndMark,function(t,e){t.fc[0]=9*(5*t.Y+t.eb)+t.fb<<24>>24;for(var o=0;4>o;++o)t.fc[1+o]=t.ab>>8*o<<24>>24;E(e,t.fc,0,5)}(a,n),l=0;64>l;l+=8)w(n,255&c(p(i,l)));t.yb=(a.W=0,a.oc=o,a.pc=0,function(t){var e,o;t.b||(e={},o=4,t.X||(o=2),function(t,e){t.qb=e>2,t.qb?(t.w=0,t.xb=4,t.R=66560):(t.w=2,t.xb=3,t.R=0)}(e,o),t.b=e),pt(t.A,t.eb,t.fb),(t.ab!=t.wb||t.Hb!=t.n)&&(A(t.b,t.ab,4096,t.n,274),t.wb=t.ab,t.Hb=t.n)}(a),a.d.Ab=n,function(t){(function(t){t.l=0,t.J=0;for(var e=0;4>e;++e)t.v[e]=0})(t),function(t){t.mc=Yt,t.xc=Yt,t.E=-1,t.Jb=1,t.Oc=0}(t.d),St(t.C),St(t._),St(t.bb),St(t.hb),St(t.Ub),St(t.vc),St(t.Sb),function(t){var e,o=1<<t.u+t.I;for(e=0;o>e;++e)St(t.V[e].tb)}(t.A);for(var e=0;4>e;++e)St(t.K[e].G);at(t.$,1<<t.Y),at(t.i,1<<t.Y),St(t.S.G),t.N=0,t.jb=0,t.q=0,t.s=0}(a),Z(a),K(a),a.$.rb=a.n+1-2,dt(a.$,1<<a.Y),a.i.rb=a.n+1-2,dt(a.i,1<<a.Y),a.g=Yt,function(t,e){return t.cb=e,t.Z=null,t.zc=1,t}({},a))}function R(t,e,o){return t.Nb=v({}),x(t,m({},e),t.Nb,u(e.length),o),t}function M(t,e,o){var n,i,r,s,a,l,c,h,d,p="",f=[];for(i=0;5>i;++i){if(-1==(r=g(e)))throw Error("truncated input");f[i]=r<<24>>24}if(!function(t,e){var o,n,i,r,s,a,l,u,c;if(5>e.length)return 0;for(i=(l=255&e[0])%9,r=(a=~~(l/9))%5,s=~~(a/5),o=0,n=0;4>n;++n)o+=(255&e[1+n])<<8*n;return o>99999999||!function(t,e,o,n){if(e>8||o>4||n>4)return 0;Y(t.gb,o,e);var i=1<<n;return V(t.Rb,i),V(t.sb,i),t.Dc=i-1,1}(t,i,r,s)?0:(u=t,0>(c=o)?0:(u.Ob!=c&&(u.Ob=c,u.nb=Math.max(u.Ob,1),H(u.B,Math.max(u.nb,4096))),1))}(n=W({}),f))throw Error("corrupted input");for(i=0;64>i;i+=8){if(-1==(r=g(e)))throw Error("truncated input");1==(r=r.toString(16)).length&&(r="0"+r),p=r+""+p}/^0+$|^f+$/i.test(p)?t.Tb=Gt:(s=parseInt(p,16),t.Tb=s>4294967295?Gt:u(s)),t.yb=(a=n,l=e,c=o,h=t.Tb,a.e.Ab=l,B(a.B),a.B.cc=c,function(t){t.B.h=0,t.B.o=0,St(t.Gb),St(t.pb),St(t.Zb),St(t.Cb),St(t.Db),St(t.Eb),St(t.kc),function(t){var e,o;for(o=1<<t.u+t.I,e=0;o>e;++e)St(t.V[e].Ib)}(t.gb);for(var e=0;4>e;++e)St(t.kb[e].G);q(t.Rb),q(t.sb),St(t.Fb.G),function(t){t.Bb=0,t.E=-1;for(var e=0;5>e;++e)t.Bb=t.Bb<<8|g(t.Ab)}(t.e)}(a),a.U=0,a.ib=0,a.Jc=0,a.Ic=0,a.Qc=0,a.Nc=h,a.g=Yt,a.jc=0,(d={}).Z=a,d.cb=null,d.zc=1,d)}function L(t,e){return t.Nb=v({}),M(t,m({},e),t.Nb),t}function T(t,e){return t.c[t.f+t.o+e]}function k(t,e,o,n){var i,r;for(t.T&&t.o+e+n>t.h&&(n=t.h-(t.o+e)),++o,r=t.f+t.o+e,i=0;n>i&&t.c[r+i]==t.c[r+i-o];++i);return i}function _(t){return t.h-t.o}function S(t){var e,o;if(!t.T)for(;;){if(!(o=-t.f+t.Kb-t.h))return;if(-1==(e=b(t.cc,t.c,t.f+t.h,o)))return t.zb=t.h,t.f+t.zb>t.H&&(t.zb=t.H-t.f),void(t.T=1);t.h+=e,t.h>=t.o+t._b&&(t.zb=t.h-t._b)}}function D(t,e){t.f+=e,t.zb-=e,t.o-=e,t.h-=e}function A(t,e,o,i,r){var s,a,l,u,c,h,d;1073741567>e&&(t.Fc=16+(i>>1),u=e+o,c=i+r,h=256+~~((e+o+i+r)/2),(l=t).Bc=u,l._b=c,d=u+c+h,(null==l.c||l.Kb!=d)&&(l.c=null,l.Kb=d,l.c=n(l.Kb)),l.H=l.Kb-c,t.ob=i,s=e+1,t.p!=s&&(t.L=n(2*(t.p=s))),a=65536,t.qb&&(a=e-1,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a>>=1,(a|=65535)>16777216&&(a>>=1),t.Ec=a,++a,a+=t.R),a!=t.rc&&(t.ub=n(t.rc=a)))}function P(t){var e,o;++t.k>=t.p&&(t.k=0),++(o=t).o>o.zb&&(o.f+o.o>o.H&&function(t){var e,o,n;for((n=t.f+t.o-t.Bc)>0&&--n,o=t.f+t.h-n,e=0;o>e;++e)t.c[e]=t.c[n+e];t.f-=n}(o),S(o)),1073741823==t.o&&(e=t.o-t.p,z(t.L,2*t.p,e),z(t.ub,t.rc,e),D(t,e))}function z(t,e,o){var n,i;for(n=0;e>n;++n)o>=(i=t[n]||0)?i=0:i-=o,t[n]=i}function H(t,e){(null==t.Lb||t.M!=e)&&(t.Lb=n(e)),t.M=e,t.o=0,t.h=0}function F(t){var e=t.o-t.h;e&&(E(t.cc,t.Lb,t.h,e),t.o>=t.M&&(t.o=0),t.h=t.o)}function O(t,e){var o=t.o-e-1;return 0>o&&(o+=t.M),t.Lb[o]}function B(t){F(t),t.cc=null}function j(t){return 4>(t-=2)?t:3}function I(t){return 4>t?0:10>t?t-3:t-6}function N(t){if(!t.zc)throw Error("bad state");return t.cb?(function(t,e,o,n){var r,a,h,d,p,m,g,b,v,y,w,E,C,x,R,M;if(e[0]=Yt,o[0]=Yt,n[0]=1,t.oc&&(t.b.cc=t.oc,(M=t.b).f=0,M.o=0,M.h=0,M.T=0,S(M),M.k=0,D(M,-1),t.W=1,t.oc=null),!t.pc){if(t.pc=1,x=t.g,l(t.g,Yt)){if(!_(t.b))return void Q(t,c(t.g));it(t),C=c(t.g)&t.y,Dt(t.d,t.C,(t.l<<4)+C,0),t.l=I(t.l),h=T(t.b,-t.s),mt(ft(t.A,c(t.g),t.J),t.d,h),t.J=h,--t.s,t.g=i(t.g,$t)}if(!_(t.b))return void Q(t,c(t.g));for(;;){if(g=tt(t,c(t.g)),y=t.mb,C=c(t.g)&t.y,a=(t.l<<4)+C,1==g&&-1==y)Dt(t.d,t.C,a,0),h=T(t.b,-t.s),R=ft(t.A,c(t.g),t.J),7>t.l?mt(R,t.d,h):(v=T(t.b,-t.v[0]-1-t.s),gt(R,t.d,v,h)),t.J=h,t.l=I(t.l);else{if(Dt(t.d,t.C,a,1),4>y){if(Dt(t.d,t.bb,t.l,1),y?(Dt(t.d,t.hb,t.l,1),1==y?Dt(t.d,t.Ub,t.l,0):(Dt(t.d,t.Ub,t.l,1),Dt(t.d,t.vc,t.l,y-2))):(Dt(t.d,t.hb,t.l,0),Dt(t.d,t._,a,1==g?0:1)),1==g?t.l=7>t.l?9:11:(ut(t.i,t.d,g-2,C),t.l=7>t.l?8:11),d=t.v[y],0!=y){for(m=y;m>=1;--m)t.v[m]=t.v[m-1];t.v[0]=d}}else{for(Dt(t.d,t.bb,t.l,0),t.l=7>t.l?7:10,ut(t.$,t.d,g-2,C),E=st(y-=4),b=j(g),xt(t.K[b],t.d,E),E>=4&&(w=y-(r=(2|1&E)<<(p=(E>>1)-1)),14>E?Tt(t.Sb,r-E-1,t.d,p,w):(At(t.d,w>>4,p-4),Mt(t.S,t.d,15&w),++t.Qb)),d=y,m=3;m>=1;--m)t.v[m]=t.v[m-1];t.v[0]=d,++t.Mb}t.J=T(t.b,g-1-t.s)}if(t.s-=g,t.g=i(t.g,u(g)),!t.s){if(t.Mb>=128&&Z(t),t.Qb>=16&&K(t),e[0]=t.g,o[0]=Pt(t.d),!_(t.b))return void Q(t,c(t.g));if(s(f(t.g,x),[4096,0])>=0)return t.pc=0,void(n[0]=0)}}}}((e=t).cb,e.cb.Xb,e.cb.uc,e.cb.Kc),e.Pb=e.cb.Xb[0],e.cb.Kc[0]&&(rt(o=e.cb),o.d.Ab=null,e.zc=0)):function(t){var e=function(t){var e,o,n,r,a,l,h,d,p;if(l=c(t.g)&t.Dc,_t(t.e,t.Gb,(t.U<<4)+l)){if(_t(t.e,t.Zb,t.U))n=0,_t(t.e,t.Cb,t.U)?(_t(t.e,t.Db,t.U)?(_t(t.e,t.Eb,t.U)?(o=t.Qc,t.Qc=t.Ic):o=t.Ic,t.Ic=t.Jc):o=t.Jc,t.Jc=t.ib,t.ib=o):_t(t.e,t.pb,(t.U<<4)+l)||(t.U=7>t.U?9:11,n=1),n||(n=U(t.sb,t.e,l)+2,t.U=7>t.U?8:11);else if(t.Qc=t.Ic,t.Ic=t.Jc,t.Jc=t.ib,n=2+U(t.Rb,t.e,l),t.U=7>t.U?7:10,(a=Et(t.kb[j(n)],t.e))>=4){if(r=(a>>1)-1,t.ib=(2|1&a)<<r,14>a)t.ib+=function(t,e,o,n){var i,r,s=1,a=0;for(r=0;n>r;++r)i=_t(o,t,e+s),s<<=1,s+=i,a|=i<<r;return a}(t.kc,t.ib-a-1,t.e,r);else if(t.ib+=function(t,e){var o,n,i=0;for(o=e;0!=o;--o)t.E>>>=1,n=t.Bb-t.E>>>31,t.Bb-=t.E&n-1,i=i<<1|1-n,-16777216&t.E||(t.Bb=t.Bb<<8|g(t.Ab),t.E<<=8);return i}(t.e,r-4)<<4,t.ib+=function(t,e){var o,n,i=1,r=0;for(n=0;t.F>n;++n)o=_t(e,t.G,i),i<<=1,i+=o,r|=o<<n;return r}(t.Fb,t.e),0>t.ib)return-1==t.ib?1:-1}else t.ib=a;if(s(u(t.ib),t.g)>=0||t.ib>=t.nb)return-1;(function(t,e,o){var n=t.o-e-1;for(0>n&&(n+=t.M);0!=o;--o)n>=t.M&&(n=0),t.Lb[t.o++]=t.Lb[n++],t.o>=t.M&&F(t)})(t.B,t.ib,n),t.g=i(t.g,u(n)),t.jc=O(t.B,0)}else h=t.gb,d=c(t.g),p=t.jc,e=h.V[((d&h.qc)<<h.u)+((255&p)>>>8-h.u)],t.jc=7>t.U?function(t,e){var o=1;do{o=o<<1|_t(e,t.Ib,o)}while(256>o);return o<<24>>24}(e,t.e):function(t,e,o){var n,i,r=1;do{if(i=o>>7&1,o<<=1,r=r<<1|(n=_t(e,t.Ib,(1+i<<8)+r)),i!=n){for(;256>r;)r=r<<1|_t(e,t.Ib,r);break}}while(256>r);return r<<24>>24}(e,t.e,O(t.B,t.ib)),function(t,e){t.Lb[t.o++]=e,t.o>=t.M&&F(t)}(t.B,t.jc),t.U=I(t.U),t.g=i(t.g,$t);return 0}(t.Z);if(-1==e)throw Error("corrupted input");t.Pb=Gt,t.Pc=t.Z.g,(e||s(t.Z.Nc,Yt)>=0&&s(t.Z.g,t.Z.Nc)>=0)&&(F(t.Z.B),B(t.Z.B),t.Z.e.Ab=null,t.zc=0)}(t),t.zc;var e,o}function W(t){t.B={},t.e={},t.Gb=n(192),t.Zb=n(12),t.Cb=n(12),t.Db=n(12),t.Eb=n(12),t.pb=n(192),t.kb=n(4),t.kc=n(114),t.Fb=wt({},4),t.Rb=G({}),t.sb=G({}),t.gb={};for(var e=0;4>e;++e)t.kb[e]=wt({},6);return t}function V(t,e){for(;e>t.O;++t.O)t.ec[t.O]=wt({},3),t.hc[t.O]=wt({},3)}function U(t,e,o){return _t(e,t.wc,0)?8+(_t(e,t.wc,1)?8+Et(t.tc,e):Et(t.hc[o],e)):Et(t.ec[o],e)}function G(t){return t.wc=n(2),t.ec=n(16),t.hc=n(16),t.tc=wt({},8),t.O=0,t}function q(t){St(t.wc);for(var e=0;t.O>e;++e)St(t.ec[e].G),St(t.hc[e].G);St(t.tc.G)}function Y(t,e,o){var i,r;if(null==t.V||t.u!=o||t.I!=e)for(t.I=e,t.qc=(1<<e)-1,t.u=o,r=1<<t.u+t.I,t.V=n(r),i=0;r>i;++i)t.V[i]=$({})}function $(t){return t.Ib=n(768),t}function X(t,e){var o,n,i,r;t.jb=e,i=t.a[e].r,n=t.a[e].j;do{t.a[e].t&&(yt(t.a[i]),t.a[i].r=i-1,t.a[e].Ac&&(t.a[i-1].t=0,t.a[i-1].r=t.a[e].r2,t.a[i-1].j=t.a[e].j2)),r=i,o=n,n=t.a[r].j,i=t.a[r].r,t.a[r].j=o,t.a[r].r=e,e=r}while(e>0);return t.mb=t.a[0].j,t.q=t.a[0].r}function J(t){var e;for(t.v=n(4),t.a=[],t.d={},t.C=n(192),t.bb=n(12),t.hb=n(12),t.Ub=n(12),t.vc=n(12),t._=n(192),t.K=[],t.Sb=n(114),t.S=Ct({},4),t.$=ct({}),t.i=ct({}),t.A={},t.m=[],t.P=[],t.lb=[],t.nc=n(16),t.x=n(4),t.Q=n(4),t.Xb=[Yt],t.uc=[Yt],t.Kc=[0],t.fc=n(5),t.yc=n(128),t.vb=0,t.X=1,t.D=0,t.Hb=-1,t.mb=0,e=0;4096>e;++e)t.a[e]={};for(e=0;4>e;++e)t.K[e]=Ct({},6);return t}function K(t){for(var e=0;16>e;++e)t.nc[e]=Lt(t.S,e);t.Qb=0}function Z(t){var e,o,n,i,r,s,a,l;for(i=4;128>i;++i)e=(2|1&(s=st(i)))<<(n=(s>>1)-1),t.yc[i]=kt(t.Sb,e-s-1,n,i-e);for(r=0;4>r;++r){for(o=t.K[r],a=r<<6,s=0;t.$b>s;++s)t.P[a+s]=Rt(o,s);for(s=14;t.$b>s;++s)t.P[a+s]+=(s>>1)-1-4<<6;for(l=128*r,i=0;4>i;++i)t.lb[l+i]=t.P[a+i];for(;128>i;++i)t.lb[l+i]=t.P[a+st(i)]+t.yc[i]}t.Mb=0}function Q(t,e){rt(t),function(t,e){if(t.Gc){Dt(t.d,t.C,(t.l<<4)+e,1),Dt(t.d,t.bb,t.l,0),t.l=7>t.l?7:10,ut(t.$,t.d,0,e);var o=j(2);xt(t.K[o],t.d,63),At(t.d,67108863,26),Mt(t.S,t.d,15)}}(t,e&t.y);for(var o=0;5>o;++o)zt(t.d)}function tt(t,e){var o,n,i,r,s,a,l,u,c,h,d,p,f,m,g,b,v,y,w,E,C,x,R,M,L,S,D,A,P,z,H,F,O,B,j,N,W,V,U,G,q,Y,$,J,K,Z,Q;if(t.jb!=t.q)return f=t.a[t.q].r-t.q,t.mb=t.a[t.q].j,t.q=t.a[t.q].r,f;if(t.q=t.jb=0,t.N?(p=t.vb,t.N=0):p=it(t),S=t.D,2>(M=_(t.b)+1))return t.mb=-1,1;for(M>273&&(M=273),U=0,c=0;4>c;++c)t.x[c]=t.v[c],t.Q[c]=k(t.b,-1,t.x[c],273),t.Q[c]>t.Q[U]&&(U=c);if(t.Q[U]>=t.n)return t.mb=U,nt(t,(f=t.Q[U])-1),f;if(p>=t.n)return t.mb=t.m[S-1]+4,nt(t,p-1),p;if(l=T(t.b,-1),v=T(t.b,-t.v[0]-1-1),2>p&&l!=v&&2>t.Q[U])return t.mb=-1,1;if(t.a[0].Hc=t.l,O=e&t.y,t.a[1].z=Kt[t.C[(t.l<<4)+O]>>>2]+vt(ft(t.A,e,t.J),t.l>=7,v,l),yt(t.a[1]),V=(y=Kt[2048-t.C[(t.l<<4)+O]>>>2])+Kt[2048-t.bb[t.l]>>>2],v==l&&(G=V+(K=t,Z=t.l,Q=O,Kt[K.hb[Z]>>>2]+Kt[K._[(Z<<4)+Q]>>>2]),t.a[1].z>G&&(t.a[1].z=G,function(t){t.j=0,t.t=0}(t.a[1]))),2>(d=p>=t.Q[U]?p:t.Q[U]))return t.mb=t.a[1].j,1;t.a[1].r=0,t.a[0].bc=t.x[0],t.a[0].ac=t.x[1],t.a[0].dc=t.x[2],t.a[0].lc=t.x[3],h=d;do{t.a[h--].z=268435455}while(h>=2);for(c=0;4>c;++c)if(!(2>(W=t.Q[c]))){j=V+ot(t,c,t.l,O);do{r=j+ht(t.i,W-2,O),(z=t.a[W]).z>r&&(z.z=r,z.r=0,z.j=c,z.t=0)}while(--W>=2)}if(R=y+Kt[t.bb[t.l]>>>2],p>=(h=t.Q[0]>=2?t.Q[0]+1:2)){for(D=0;h>t.m[D];)D+=2;for(;r=R+et(t,u=t.m[D+1],h,O),(z=t.a[h]).z>r&&(z.z=r,z.r=0,z.j=u+4,z.t=0),h!=t.m[D]||(D+=2)!=S;++h);}for(o=0;;){if(++o==d)return X(t,o);if(w=it(t),S=t.D,w>=t.n)return t.vb=w,t.N=1,X(t,o);if(++e,F=t.a[o].r,t.a[o].t?(--F,t.a[o].Ac?(Y=t.a[t.a[o].r2].Hc,Y=4>t.a[o].j2?7>Y?8:11:7>Y?7:10):Y=t.a[F].Hc,Y=I(Y)):Y=t.a[F].Hc,F==o-1?Y=t.a[o].j?I(Y):7>Y?9:11:(t.a[o].t&&t.a[o].Ac?(F=t.a[o].r2,H=t.a[o].j2,Y=7>Y?8:11):Y=4>(H=t.a[o].j)?7>Y?8:11:7>Y?7:10,P=t.a[F],4>H?H?1==H?(t.x[0]=P.ac,t.x[1]=P.bc,t.x[2]=P.dc,t.x[3]=P.lc):2==H?(t.x[0]=P.dc,t.x[1]=P.bc,t.x[2]=P.ac,t.x[3]=P.lc):(t.x[0]=P.lc,t.x[1]=P.bc,t.x[2]=P.ac,t.x[3]=P.dc):(t.x[0]=P.bc,t.x[1]=P.ac,t.x[2]=P.dc,t.x[3]=P.lc):(t.x[0]=H-4,t.x[1]=P.bc,t.x[2]=P.ac,t.x[3]=P.dc)),t.a[o].Hc=Y,t.a[o].bc=t.x[0],t.a[o].ac=t.x[1],t.a[o].dc=t.x[2],t.a[o].lc=t.x[3],a=t.a[o].z,l=T(t.b,-1),v=T(t.b,-t.x[0]-1-1),O=e&t.y,n=a+Kt[t.C[(Y<<4)+O]>>>2]+vt(ft(t.A,e,T(t.b,-2)),Y>=7,v,l),E=0,(C=t.a[o+1]).z>n&&(C.z=n,C.r=o,C.j=-1,C.t=0,E=1),V=(y=a+Kt[2048-t.C[(Y<<4)+O]>>>2])+Kt[2048-t.bb[Y]>>>2],v!=l||o>C.r&&!C.j||(G=V+(Kt[t.hb[Y]>>>2]+Kt[t._[(Y<<4)+O]>>>2]),C.z>=G&&(C.z=G,C.r=o,C.j=0,C.t=0,E=1)),!(2>(M=L=(L=_(t.b)+1)>4095-o?4095-o:L))){if(M>t.n&&(M=t.n),!E&&v!=l&&(J=Math.min(L-1,t.n),(g=k(t.b,0,t.x[0],J))>=2)){for($=I(Y),B=e+1&t.y,x=n+Kt[2048-t.C[($<<4)+B]>>>2]+Kt[2048-t.bb[$]>>>2],A=o+1+g;A>d;)t.a[++d].z=268435455;r=x+(ht(t.i,g-2,B)+ot(t,0,$,B)),(z=t.a[A]).z>r&&(z.z=r,z.r=o+1,z.j=0,z.t=1,z.Ac=0)}for(q=2,N=0;4>N;++N)if(!(2>(m=k(t.b,-1,t.x[N],M)))){b=m;do{for(;o+m>d;)t.a[++d].z=268435455;r=V+(ht(t.i,m-2,O)+ot(t,N,Y,O)),(z=t.a[o+m]).z>r&&(z.z=r,z.r=o,z.j=N,z.t=0)}while(--m>=2);if(m=b,N||(q=m+1),L>m&&(J=Math.min(L-1-m,t.n),(g=k(t.b,m,t.x[N],J))>=2)){for($=7>Y?8:11,B=e+m&t.y,i=V+(ht(t.i,m-2,O)+ot(t,N,Y,O))+Kt[t.C[($<<4)+B]>>>2]+vt(ft(t.A,e+m,T(t.b,m-1-1)),1,T(t.b,m-1-(t.x[N]+1)),T(t.b,m-1)),$=I($),B=e+m+1&t.y,x=i+Kt[2048-t.C[($<<4)+B]>>>2]+Kt[2048-t.bb[$]>>>2],A=m+1+g;o+A>d;)t.a[++d].z=268435455;r=x+(ht(t.i,g-2,B)+ot(t,0,$,B)),(z=t.a[o+A]).z>r&&(z.z=r,z.r=o+m+1,z.j=0,z.t=1,z.Ac=1,z.r2=o,z.j2=N)}}if(w>M){for(w=M,S=0;w>t.m[S];S+=2);t.m[S]=w,S+=2}if(w>=q){for(R=y+Kt[t.bb[Y]>>>2];o+w>d;)t.a[++d].z=268435455;for(D=0;q>t.m[D];)D+=2;for(m=q;;++m)if(r=R+et(t,s=t.m[D+1],m,O),(z=t.a[o+m]).z>r&&(z.z=r,z.r=o,z.j=s+4,z.t=0),m==t.m[D]){if(L>m&&(J=Math.min(L-1-m,t.n),(g=k(t.b,m,s,J))>=2)){for($=7>Y?7:10,B=e+m&t.y,i=r+Kt[t.C[($<<4)+B]>>>2]+vt(ft(t.A,e+m,T(t.b,m-1-1)),1,T(t.b,m-(s+1)-1),T(t.b,m-1)),$=I($),B=e+m+1&t.y,x=i+Kt[2048-t.C[($<<4)+B]>>>2]+Kt[2048-t.bb[$]>>>2],A=m+1+g;o+A>d;)t.a[++d].z=268435455;r=x+(ht(t.i,g-2,B)+ot(t,0,$,B)),(z=t.a[o+A]).z>r&&(z.z=r,z.r=o+m+1,z.j=0,z.t=1,z.Ac=1,z.r2=o,z.j2=s+4)}if((D+=2)==S)break}}}}}function et(t,e,o,n){var i,r=j(o);return(128>e?t.lb[128*r+e]:t.P[(r<<6)+(i=e,131072>i?Jt[i>>6]+12:134217728>i?Jt[i>>16]+32:Jt[i>>26]+52)]+t.nc[15&e])+ht(t.$,o-2,n)}function ot(t,e,o,n){var i;return e?(i=Kt[2048-t.hb[o]>>>2],1==e?i+=Kt[t.Ub[o]>>>2]:(i+=Kt[2048-t.Ub[o]>>>2],i+=Ht(t.vc[o],e-2))):(i=Kt[t.hb[o]>>>2],i+=Kt[2048-t._[(o<<4)+n]>>>2]),i}function nt(t,e){e>0&&(function(t,e){var o,n,i,r,s,a,l,u,c,h,d,p,f,m,g,b,v;do{if(t.h>=t.o+t.ob)p=t.ob;else if(p=t.h-t.o,t.xb>p){P(t);continue}for(f=t.o>t.p?t.o-t.p:0,n=t.f+t.o,t.qb?(a=1023&(v=Xt[255&t.c[n]]^255&t.c[n+1]),t.ub[a]=t.o,l=65535&(v^=(255&t.c[n+2])<<8),t.ub[1024+l]=t.o,u=(v^Xt[255&t.c[n+3]]<<5)&t.Ec):u=255&t.c[n]^(255&t.c[n+1])<<8,i=t.ub[t.R+u],t.ub[t.R+u]=t.o,g=1+(t.k<<1),b=t.k<<1,h=d=t.w,o=t.Fc;;){if(f>=i||0==o--){t.L[g]=t.L[b]=0;break}if(s=t.o-i,r=(t.k>=s?t.k-s:t.k-s+t.p)<<1,m=t.f+i,c=d>h?h:d,t.c[m+c]==t.c[n+c]){for(;++c!=p&&t.c[m+c]==t.c[n+c];);if(c==p){t.L[b]=t.L[r],t.L[g]=t.L[r+1];break}}(255&t.c[n+c])>(255&t.c[m+c])?(t.L[b]=i,b=r+1,i=t.L[b],d=c):(t.L[g]=i,g=r,i=t.L[g],h=c)}P(t)}while(0!=--e)}(t.b,e),t.s+=e)}function it(t){var e=0;return t.D=function(t,e){var o,n,i,r,s,a,l,u,c,h,d,p,f,m,g,b,v,y,w,E,C;if(t.h>=t.o+t.ob)m=t.ob;else if(m=t.h-t.o,t.xb>m)return P(t),0;for(v=0,g=t.o>t.p?t.o-t.p:0,n=t.f+t.o,b=1,u=0,c=0,t.qb?(u=1023&(C=Xt[255&t.c[n]]^255&t.c[n+1]),c=65535&(C^=(255&t.c[n+2])<<8),h=(C^Xt[255&t.c[n+3]]<<5)&t.Ec):h=255&t.c[n]^(255&t.c[n+1])<<8,i=t.ub[t.R+h]||0,t.qb&&(r=t.ub[u]||0,s=t.ub[1024+c]||0,t.ub[u]=t.o,t.ub[1024+c]=t.o,r>g&&t.c[t.f+r]==t.c[n]&&(e[v++]=b=2,e[v++]=t.o-r-1),s>g&&t.c[t.f+s]==t.c[n]&&(s==r&&(v-=2),e[v++]=b=3,e[v++]=t.o-s-1,r=s),0!=v&&r==i&&(v-=2,b=1)),t.ub[t.R+h]=t.o,w=1+(t.k<<1),E=t.k<<1,p=f=t.w,0!=t.w&&i>g&&t.c[t.f+i+t.w]!=t.c[n+t.w]&&(e[v++]=b=t.w,e[v++]=t.o-i-1),o=t.Fc;;){if(g>=i||0==o--){t.L[w]=t.L[E]=0;break}if(l=t.o-i,a=(t.k>=l?t.k-l:t.k-l+t.p)<<1,y=t.f+i,d=f>p?p:f,t.c[y+d]==t.c[n+d]){for(;++d!=m&&t.c[y+d]==t.c[n+d];);if(d>b&&(e[v++]=b=d,e[v++]=l-1,d==m)){t.L[E]=t.L[a],t.L[w]=t.L[a+1];break}}(255&t.c[n+d])>(255&t.c[y+d])?(t.L[E]=i,E=a+1,i=t.L[E],f=d):(t.L[w]=i,w=a,i=t.L[w],p=d)}return P(t),v}(t.b,t.m),t.D>0&&(e=t.m[t.D-2])==t.n&&(e+=k(t.b,e-1,t.m[t.D-1],273-e)),++t.s,e}function rt(t){t.b&&t.W&&(t.b.cc=null,t.W=0)}function st(t){return 2048>t?Jt[t]:2097152>t?Jt[t>>10]+20:Jt[t>>20]+40}function at(t,e){St(t.db);for(var o=0;e>o;++o)St(t.Vb[o].G),St(t.Wb[o].G);St(t.ic.G)}function lt(t,e,o,n,i){var r,s,a,l,u;for(r=Kt[t.db[0]>>>2],a=(s=Kt[2048-t.db[0]>>>2])+Kt[t.db[1]>>>2],l=s+Kt[2048-t.db[1]>>>2],u=0,u=0;8>u;++u){if(u>=o)return;n[i+u]=r+Rt(t.Vb[e],u)}for(;16>u;++u){if(u>=o)return;n[i+u]=a+Rt(t.Wb[e],u-8)}for(;o>u;++u)n[i+u]=l+Rt(t.ic,u-8-8)}function ut(t,e,o,n){var i,r,s,a;i=t,r=e,a=n,8>(s=o)?(Dt(r,i.db,0,0),xt(i.Vb[a],r,s)):(s-=8,Dt(r,i.db,0,1),8>s?(Dt(r,i.db,1,0),xt(i.Wb[a],r,s)):(Dt(r,i.db,1,1),xt(i.ic,r,s-8))),0==--t.sc[n]&&(lt(t,n,t.rb,t.Cc,272*n),t.sc[n]=t.rb)}function ct(t){return function(t){t.db=n(2),t.Vb=n(16),t.Wb=n(16),t.ic=Ct({},8);for(var e=0;16>e;++e)t.Vb[e]=Ct({},3),t.Wb[e]=Ct({},3)}(t),t.Cc=[],t.sc=[],t}function ht(t,e,o){return t.Cc[272*o+e]}function dt(t,e){for(var o=0;e>o;++o)lt(t,o,t.rb,t.Cc,272*o),t.sc[o]=t.rb}function pt(t,e,o){var i,r;if(null==t.V||t.u!=o||t.I!=e)for(t.I=e,t.qc=(1<<e)-1,t.u=o,r=1<<t.u+t.I,t.V=n(r),i=0;r>i;++i)t.V[i]=bt({})}function ft(t,e,o){return t.V[((e&t.qc)<<t.u)+((255&o)>>>8-t.u)]}function mt(t,e,o){var n,i,r=1;for(i=7;i>=0;--i)n=o>>i&1,Dt(e,t.tb,r,n),r=r<<1|n}function gt(t,e,o,n){var i,r,s,a,l=1,u=1;for(r=7;r>=0;--r)i=n>>r&1,a=u,l&&(a+=1+(s=o>>r&1)<<8,l=s==i),Dt(e,t.tb,a,i),u=u<<1|i}function bt(t){return t.tb=n(768),t}function vt(t,e,o,n){var i,r,s=1,a=7,l=0;if(e)for(;a>=0;--a)if(r=o>>a&1,i=n>>a&1,l+=Ht(t.tb[(1+r<<8)+s],i),s=s<<1|i,r!=i){--a;break}for(;a>=0;--a)i=n>>a&1,l+=Ht(t.tb[s],i),s=s<<1|i;return l}function yt(t){t.j=-1,t.t=0}function wt(t,e){return t.F=e,t.G=n(1<<e),t}function Et(t,e){var o,n=1;for(o=t.F;0!=o;--o)n=(n<<1)+_t(e,t.G,n);return n-(1<<t.F)}function Ct(t,e){return t.F=e,t.G=n(1<<e),t}function xt(t,e,o){var n,i,r=1;for(i=t.F;0!=i;)n=o>>>--i&1,Dt(e,t.G,r,n),r=r<<1|n}function Rt(t,e){var o,n,i=1,r=0;for(n=t.F;0!=n;)o=e>>>--n&1,r+=Ht(t.G[i],o),i=(i<<1)+o;return r}function Mt(t,e,o){var n,i,r=1;for(i=0;t.F>i;++i)n=1&o,Dt(e,t.G,r,n),r=r<<1|n,o>>=1}function Lt(t,e){var o,n,i=1,r=0;for(n=t.F;0!=n;--n)o=1&e,e>>>=1,r+=Ht(t.G[i],o),i=i<<1|o;return r}function Tt(t,e,o,n,i){var r,s,a=1;for(s=0;n>s;++s)Dt(o,t,e+a,r=1&i),a=a<<1|r,i>>=1}function kt(t,e,o,n){var i,r,s=1,a=0;for(r=o;0!=r;--r)i=1&n,n>>>=1,a+=Kt[(2047&(t[e+s]-i^-i))>>>2],s=s<<1|i;return a}function _t(t,e,o){var n,i=e[o];return(-2147483648^(n=(t.E>>>11)*i))>(-2147483648^t.Bb)?(t.E=n,e[o]=i+(2048-i>>>5)<<16>>16,-16777216&t.E||(t.Bb=t.Bb<<8|g(t.Ab),t.E<<=8),0):(t.E-=n,t.Bb-=n,e[o]=i-(i>>>5)<<16>>16,-16777216&t.E||(t.Bb=t.Bb<<8|g(t.Ab),t.E<<=8),1)}function St(t){for(var e=t.length-1;e>=0;--e)t[e]=1024}function Dt(t,e,o,n){var s,a=e[o];s=(t.E>>>11)*a,n?(t.xc=i(t.xc,r(u(s),[4294967295,0])),t.E-=s,e[o]=a-(a>>>5)<<16>>16):(t.E=s,e[o]=a+(2048-a>>>5)<<16>>16),-16777216&t.E||(t.E<<=8,zt(t))}function At(t,e,o){for(var n=o-1;n>=0;--n)t.E>>>=1,1==(e>>>n&1)&&(t.xc=i(t.xc,u(t.E))),-16777216&t.E||(t.E<<=8,zt(t))}function Pt(t){return i(i(u(t.Jb),t.mc),[4,0])}function zt(t){var e,o,n,a,l=c((o=t.xc,n=32,a=p(o,n&=63),0>o[1]&&(a=i(a,d([2,0],63-n))),a));if(0!=l||s(t.xc,[4278190080,0])<0){t.mc=i(t.mc,u(t.Jb)),e=t.Oc;do{w(t.Ab,e+l),e=255}while(0!=--t.Jb);t.Oc=c(t.xc)>>>24}++t.Jb,t.xc=d(r(t.xc,[16777215,0]),8)}function Ht(t,e){return Kt[(2047&(t-e^-e))>>>2]}function Ft(t){for(var e,o,n,i=0,r=0,s=t.length,a=[],l=[];s>i;++i,++r){if(128&(e=255&t[i]))if(192==(224&e)){if(i+1>=s)return t;if(128!=(192&(o=255&t[++i])))return t;l[r]=(31&e)<<6|63&o}else{if(224!=(240&e))return t;if(i+2>=s)return t;if(128!=(192&(o=255&t[++i])))return t;if(128!=(192&(n=255&t[++i])))return t;l[r]=(15&e)<<12|(63&o)<<6|63&n}else{if(!e)return t;l[r]=e}16383==r&&(a.push(String.fromCharCode.apply(String,l)),r=-1)}return r>0&&(l.length=r,a.push(String.fromCharCode.apply(String,l))),a.join("")}function Ot(t){var e,o,n,i=[],r=0,s=t.length;if("object"==typeof t)return t;for(function(t,e,o,n,i){var r;for(r=0;o>r;++r)n[i++]=t.charCodeAt(r)}(t,0,s,i,0),n=0;s>n;++n)(e=i[n])>=1&&127>=e?++r:r+=!e||e>=128&&2047>=e?2:3;for(o=[],r=0,n=0;s>n;++n)(e=i[n])>=1&&127>=e?o[r++]=e<<24>>24:!e||e>=128&&2047>=e?(o[r++]=(192|e>>6&31)<<24>>24,o[r++]=(128|63&e)<<24>>24):(o[r++]=(224|e>>12&15)<<24>>24,o[r++]=(128|e>>6&63)<<24>>24,o[r++]=(128|63&e)<<24>>24);return o}function Bt(t){return t[1]+t[0]}var jt,It=1,Nt=2,Wt=3,Vt="function"==typeof t?t:setTimeout,Ut=4294967296,Gt=[4294967295,-Ut],qt=[0,-0x8000000000000000],Yt=[0,0],$t=[1,0],Xt=function(){var t,e,o,n=[];for(t=0;256>t;++t){for(o=t,e=0;8>e;++e)0!=(1&o)?o=o>>>1^-306674912:o>>>=1;n[t]=o}return n}(),Jt=function(){var t,e,o,n=2,i=[0,1];for(o=2;22>o;++o)for(e=1<<(o>>1)-1,t=0;e>t;++t,++n)i[n]=o<<24>>24;return i}(),Kt=function(){var t,e,o,n=[];for(e=8;e>=0;--e)for(t=1<<9-e,o=1<<9-e-1;t>o;++o)n[o]=(e<<6)+(t-o<<6>>>9-e-1);return n}(),Zt=(jt=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}],function(t){return jt[t-1]||jt[6]});return"undefined"==typeof onmessage||"undefined"!=typeof window&&void 0!==window.document||(onmessage=function(t){t&&t.gc&&(t.gc.action==Nt?e.decompress(t.gc.gc,t.gc.cbn):t.gc.action==It&&e.compress(t.gc.gc,t.gc.Rc,t.gc.cbn))}),{compress:function(t,e,n,i){var r,s,a={},l=void 0===n&&void 0===i;if("function"!=typeof n&&(s=n,n=i=0),i=i||function(t){return void 0!==s?o(t,s):void 0},n=n||function(t,e){return void 0!==s?postMessage({action:It,cbn:s,result:t,error:e}):void 0},l){for(a.c=R({},Ot(t),Zt(e));N(a.c.yb););return y(a.c.Nb)}try{a.c=R({},Ot(t),Zt(e)),i(0)}catch(u){return n(null,u)}Vt((function t(){try{for(var e,o=(new Date).getTime();N(a.c.yb);)if(r=Bt(a.c.yb.Pb)/Bt(a.c.Tb),(new Date).getTime()-o>200)return i(r),Vt(t,0),0;i(1),e=y(a.c.Nb),Vt(n.bind(null,e),0)}catch(s){n(null,s)}}),0)},decompress:function(t,e,n){var i,r,s,a,l={},u=void 0===e&&void 0===n;if("function"!=typeof e&&(r=e,e=n=0),n=n||function(t){return void 0!==r?o(s?t:-1,r):void 0},e=e||function(t,e){return void 0!==r?postMessage({action:Nt,cbn:r,result:t,error:e}):void 0},u){for(l.d=L({},t);N(l.d.yb););return Ft(y(l.d.Nb))}try{l.d=L({},t),a=Bt(l.d.Tb),s=a>-1,n(0)}catch(c){return e(null,c)}Vt((function t(){try{for(var o,r=0,u=(new Date).getTime();N(l.d.yb);)if(++r%1e3==0&&(new Date).getTime()-u>200)return s&&(i=Bt(l.d.yb.Z.g)/a,n(i)),Vt(t,0),0;n(1),o=Ft(y(l.d.Nb)),Vt(e.bind(null,o),0)}catch(c){e(null,c)}}),0)}}}();this.LZMA=this.LZMA_WORKER=e}).call(this,o(17).setImmediate)},function(t,e,o){var n,i=function(){function t(t,e){if(!i[t]){i[t]={};for(var o=0;o<t.length;o++)i[t][t.charAt(o)]=o}return i[t][e]}var e=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={},r={compressToBase64:function(t){if(null==t)return"";var e=r._compress(t,6,(function(t){return o.charAt(t)}));switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:r._decompress(e.length,32,(function(n){return t(o,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":r._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:r._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=r.compress(t),o=new Uint8Array(2*e.length),n=0,i=e.length;n<i;n++){var s=e.charCodeAt(n);o[2*n]=s>>>8,o[2*n+1]=s%256}return o},decompressFromUint8Array:function(t){if(null==t)return r.decompress(t);for(var o=new Array(t.length/2),n=0,i=o.length;n<i;n++)o[n]=256*t[2*n]+t[2*n+1];var s=[];return o.forEach((function(t){s.push(e(t))})),r.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":r._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),r._decompress(e.length,32,(function(o){return t(n,e.charAt(o))})))},compress:function(t){return r._compress(t,16,(function(t){return e(t)}))},_compress:function(t,e,o){if(null==t)return"";var n,i,r,s={},a={},l="",u="",c="",h=2,d=3,p=2,f=[],m=0,g=0;for(r=0;r<t.length;r+=1)if(l=t.charAt(r),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=d++,a[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(s,u))c=u;else{if(Object.prototype.hasOwnProperty.call(a,c)){if(c.charCodeAt(0)<256){for(n=0;n<p;n++)m<<=1,g==e-1?(g=0,f.push(o(m)),m=0):g++;for(i=c.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i>>=1}else{for(i=1,n=0;n<p;n++)m=m<<1|i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i=0;for(i=c.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i>>=1}0==--h&&(h=Math.pow(2,p),p++),delete a[c]}else for(i=s[c],n=0;n<p;n++)m=m<<1|1&i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i>>=1;0==--h&&(h=Math.pow(2,p),p++),s[u]=d++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(a,c)){if(c.charCodeAt(0)<256){for(n=0;n<p;n++)m<<=1,g==e-1?(g=0,f.push(o(m)),m=0):g++;for(i=c.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i>>=1}else{for(i=1,n=0;n<p;n++)m=m<<1|i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i=0;for(i=c.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i>>=1}0==--h&&(h=Math.pow(2,p),p++),delete a[c]}else for(i=s[c],n=0;n<p;n++)m=m<<1|1&i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i>>=1;0==--h&&(h=Math.pow(2,p),p++)}for(i=2,n=0;n<p;n++)m=m<<1|1&i,g==e-1?(g=0,f.push(o(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==e-1){f.push(o(m));break}g++}return f.join("")},decompress:function(t){return null==t?"":""==t?null:r._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(t,o,n){var i,r,s,a,l,u,c,h=[],d=4,p=4,f=3,m="",g=[],b={val:n(0),position:o,index:1};for(i=0;i<3;i+=1)h[i]=i;for(s=0,l=Math.pow(2,2),u=1;u!=l;)a=b.val&b.position,b.position>>=1,0==b.position&&(b.position=o,b.val=n(b.index++)),s|=(a>0?1:0)*u,u<<=1;switch(s){case 0:for(s=0,l=Math.pow(2,8),u=1;u!=l;)a=b.val&b.position,b.position>>=1,0==b.position&&(b.position=o,b.val=n(b.index++)),s|=(a>0?1:0)*u,u<<=1;c=e(s);break;case 1:for(s=0,l=Math.pow(2,16),u=1;u!=l;)a=b.val&b.position,b.position>>=1,0==b.position&&(b.position=o,b.val=n(b.index++)),s|=(a>0?1:0)*u,u<<=1;c=e(s);break;case 2:return""}for(h[3]=c,r=c,g.push(c);;){if(b.index>t)return"";for(s=0,l=Math.pow(2,f),u=1;u!=l;)a=b.val&b.position,b.position>>=1,0==b.position&&(b.position=o,b.val=n(b.index++)),s|=(a>0?1:0)*u,u<<=1;switch(c=s){case 0:for(s=0,l=Math.pow(2,8),u=1;u!=l;)a=b.val&b.position,b.position>>=1,0==b.position&&(b.position=o,b.val=n(b.index++)),s|=(a>0?1:0)*u,u<<=1;h[p++]=e(s),c=p-1,d--;break;case 1:for(s=0,l=Math.pow(2,16),u=1;u!=l;)a=b.val&b.position,b.position>>=1,0==b.position&&(b.position=o,b.val=n(b.index++)),s|=(a>0?1:0)*u,u<<=1;h[p++]=e(s),c=p-1,d--;break;case 2:return g.join("")}if(0==d&&(d=Math.pow(2,f),f++),h[c])m=h[c];else{if(c!==p)return null;m=r+r.charAt(0)}g.push(m),h[p++]=r+m.charAt(0),r=m,0==--d&&(d=Math.pow(2,f),f++)}}};return r}();void 0!==(n=function(){return i}.call(e,o,e,t))&&(t.exports=n)},function(t,e,o){var n=function(){};n.prototype.encode=function(t){for(var e,o={},n=(t+"").split(""),i=[],r=n[0],s=256,a=1;a<n.length;a++)null!=o[r+(e=n[a])]?r+=e:(i.push(r.length>1?o[r]:r.charCodeAt(0)),o[r+e]=s,s++,r=e);for(i.push(r.length>1?o[r]:r.charCodeAt(0)),a=0;a<i.length;a++)i[a]=String.fromCharCode(i[a]);return i.join("")},n.prototype.decode=function(t){for(var e,o={},n=(t+"").split(""),i=n[0],r=i,s=[i],a=256,l=1;l<n.length;l++){var u=n[l].charCodeAt(0);e=u<256?n[l]:o[u]?o[u]:r+i,s.push(e),i=e.charAt(0),o[a]=r+i,a++,r=e}return s.join("")},t.exports=new n},function(t,e,o){o.r(e);var n,i=o(0),r=o.n(i),s=o(1),a=o.n(s),l=o(31),u=o(32),c=o(33),h={pack:!0,encode:!0,compress:(n=a()(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)}),decompress:function(){var t=a()(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d={lzma:l.a,lzstring:u.a,lzw:c.a,pack:h},p=o(2),f=function(t){return Math.floor(1e4*t)/1e4};o.p=function(t){return t.substring(0,t.lastIndexOf("/"))}(function(){if(document.currentScript)return document.currentScript.src;var t=document.getElementsByTagName("script");return t[t.length-1].src}())+"/",e.default=function(t){function e(t){return o.apply(this,arguments)}function o(){return(o=a()(r.a.mark((function e(o){var n,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=6;break}return e.next=3,p.a.msgpack();case 3:e.t0=e.sent.encode(o),e.next=7;break;case 6:e.t0=JSON.stringify(o);case 7:return n=e.t0,e.next=10,d[t].compress(n);case 10:if(i=e.sent,!u){e.next=17;break}return e.next=14,p.a.safe64();case 14:e.t1=e.sent.encode(i),e.next=18;break;case 17:e.t1=i;case 18:return s=e.t1,e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=a()(r.a.mark((function e(o){var n,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=6;break}return e.next=3,p.a.safe64();case 3:e.t0=e.sent.decode(o),e.next=7;break;case 6:e.t0=o;case 7:return n=e.t0,e.next=10,d[t].decompress(n);case 10:if(i=e.sent,!l){e.next=17;break}return e.next=14,p.a.msgpack();case 14:e.t1=e.sent.decode(i),e.next=18;break;case 17:e.t1=JSON.parse(i);case 18:return s=e.t1,e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=a()(r.a.mark((function t(o){var n,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify(o),i=encodeURIComponent(n),t.next=4,e(o);case 4:return s=t.sent,t.abrupt("return",{raw:n.length,rawencoded:i.length,compressedencoded:s.length,compression:f(i.length/s.length)});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(!Object.prototype.hasOwnProperty.call(d,t))throw new Error("No such algorithm ".concat(t));var s=d[t],l=s.pack,u=s.encode;return{compress:e,decompress:function(t){return n.apply(this,arguments)},stats:function(t){return i.apply(this,arguments)}}}}]).default);export{q as A,P as B,J as C,K as D,Z as E,Q as F,j as G,tt as H,r as I,nt as S,mt as T,E as a,p as b,x as c,f as d,m as e,R as f,w as g,d as h,ot as i,k as j,L as k,b as l,v as m,t as n,M as o,T as p,y as q,B as r,a as s,g as t,_ as u,X as v,Y as w,$ as x,ne as y,D as z};
